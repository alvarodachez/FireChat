(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return a}));var r=n("30Go"),i=n("qOnz"),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),s="[DEFAULT]",u=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=s);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:s,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var o=this.getOrInitializeService(i);if(!o){if(n)return null;throw Error("Service "+this.name+" is not available")}return o}catch(u){if(n)return null;throw u}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(s)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var u=Object(r.e)(o.value,2),a=u[1],c=this.normalizeInstanceIdentifier(u[0]);try{var l=this.getOrInitializeService(c);a.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=s),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,(function(){var t;return Object(r.d)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===s?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:s:t},t}(),a=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new u(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"d",(function(){return u})),n.d(e,"h",(function(){return a})),n.d(e,"e",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return h}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(e){o(e)}}function u(t){try{a(r.throw(t))}catch(e){o(e)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}a((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((i=(i=s.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(u){o=[6,u],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(u){i={error:u}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class o extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n=!1,r=void 0;try{this.work(t)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("lJxs"),i=n("Cfvw"),o=n("zx2A");function s(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?o=>o.pipe(s((n,o)=>Object(i.a)(t(n,o)).pipe(Object(r.a)((t,r)=>e(n,t,o,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new u(t,n)))}class u{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new a(t,this.project,this.concurrent))}}class a extends o.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new o.a(this),n=this.destination;n.add(e);const r=Object(o.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("n6bG"),i=n("gRHU"),o=n("quSY"),s=n("2QA8"),u=n("2fFW"),a=n("NJ4a");class c extends o.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[s.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,o){let s;super(),this._parentSubscriber=t;let u=this;Object(r.a)(e)?s=e:e&&(s=e.next,n=e.error,o=e.complete,e!==i.a&&(u=Object.create(e),Object(r.a)(u.unsubscribe)&&this.add(u.unsubscribe.bind(u)),u.unsubscribe=this.unsubscribe.bind(this))),this._context=u,this._next=s,this._error=n,this._complete=o}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=u.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(a.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(a.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);u.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw n;Object(a.a)(n)}}__tryOrSetError(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(a.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));var r=n("HDdC"),i=n("SeVD"),o=n("quSY"),s=n("kJWO"),u=n("jZKg"),a=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[s.a]}(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>{const i=t[s.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new o.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(u.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new o.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[a.a](),r.add(e.schedule((function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())})))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("3N8a");const i=new(n("IjjT").a)(r.a)},DH7j:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n("HDdC");const i=new r.a(t=>t.complete());function o(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n("7o/Q"),i=n("2QA8"),o=n("gRHU"),s=n("kJWO"),u=n("SpAZ"),a=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:s}=this,u=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(o.a)}(t,e,n);if(u.add(s?s.call(u,this.source):this.source||a.a.useDeprecatedSynchronousErrorHandling&&!u.syncErrorThrowable?this._subscribe(u):this._trySubscribe(u)),a.a.useDeprecatedSynchronousErrorHandling&&u.syncErrorThrowable&&(u.syncErrorThrowable=!1,u.syncErrorThrown))throw u.syncErrorValue;return u}_trySubscribe(t){try{return this._subscribe(t)}catch(e){a.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[s.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?u.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=a.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",(function(){return r.a})),r.a.registerVersion("firebase","8.2.3","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("z+Ro"),i=n("yCtX"),o=n("jZKg");function s(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(o.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",(function(){return r}))},SeVD:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n("ngJS"),i=n("NJ4a"),o=n("Lhse"),s=n("kJWO"),u=n("I55L"),a=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[s.a])return l=t,t=>{const e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(u.a)(t))return Object(r.a)(t);if(Object(a.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[o.a])return e=t,t=>{const n=e[o.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},VRyK:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("HDdC"),i=n("z+Ro"),o=n("bHdf"),s=n("yCtX");function u(...t){let e=Number.POSITIVE_INFINITY,n=null,u=t[t.length-1];return Object(i.a)(u)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof u&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(e)(Object(s.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",(function(){return c})),n.d(e,"a",(function(){return l}));var r=n("HDdC"),i=n("7o/Q"),o=n("quSY"),s=n("9ppp"),u=n("Ylt2"),a=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[a.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new s.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new s.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new s.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new s.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new s.a;return this.hasError?(t.error(this.thrownError),o.a.EMPTY):this.isStopped?(t.complete(),o.a.EMPTY):(this.observers.push(t),new u.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):o.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},Ylt2:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("5+tZ"),i=n("SpAZ");function o(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},fXoL:function(t,e,n){"use strict";n.d(e,"a",(function(){return bo})),n.d(e,"b",(function(){return Uu})),n.d(e,"c",(function(){return Du})),n.d(e,"d",(function(){return Nu})),n.d(e,"e",(function(){return Pu})),n.d(e,"f",(function(){return ja})),n.d(e,"g",(function(){return ba})),n.d(e,"h",(function(){return to})),n.d(e,"i",(function(){return Zu})),n.d(e,"j",(function(){return js})),n.d(e,"k",(function(){return Hu})),n.d(e,"l",(function(){return As})),n.d(e,"m",(function(){return An})),n.d(e,"n",(function(){return yu})),n.d(e,"o",(function(){return tt})),n.d(e,"p",(function(){return m})),n.d(e,"q",(function(){return X})),n.d(e,"r",(function(){return mo})),n.d(e,"s",(function(){return Js})),n.d(e,"t",(function(){return Zs})),n.d(e,"u",(function(){return qu})),n.d(e,"v",(function(){return gt})),n.d(e,"w",(function(){return _a})),n.d(e,"x",(function(){return pt})),n.d(e,"y",(function(){return pa})),n.d(e,"z",(function(){return Xu})),n.d(e,"A",(function(){return b})),n.d(e,"B",(function(){return Mu})),n.d(e,"C",(function(){return Lu})),n.d(e,"D",(function(){return Ds})),n.d(e,"E",(function(){return Ns})),n.d(e,"F",(function(){return Ps})),n.d(e,"G",(function(){return Vs})),n.d(e,"H",(function(){return mr})),n.d(e,"I",(function(){return _})),n.d(e,"J",(function(){return Ia})),n.d(e,"K",(function(){return tu})),n.d(e,"L",(function(){return ua})),n.d(e,"M",(function(){return no})),n.d(e,"N",(function(){return Ms})),n.d(e,"O",(function(){return Ls})),n.d(e,"P",(function(){return nu})),n.d(e,"Q",(function(){return Et})),n.d(e,"R",(function(){return ga})),n.d(e,"S",(function(){return Wn})),n.d(e,"T",(function(){return M})),n.d(e,"U",(function(){return Kn})),n.d(e,"V",(function(){return Ta})),n.d(e,"W",(function(){return la})),n.d(e,"X",(function(){return Fu})),n.d(e,"Y",(function(){return ro})),n.d(e,"Z",(function(){return gs})),n.d(e,"ab",(function(){return yr})),n.d(e,"bb",(function(){return Xn})),n.d(e,"cb",(function(){return Mn})),n.d(e,"db",(function(){return Fn})),n.d(e,"eb",(function(){return Bn})),n.d(e,"fb",(function(){return Hn})),n.d(e,"gb",(function(){return qn})),n.d(e,"hb",(function(){return zn})),n.d(e,"ib",(function(){return hs})),n.d(e,"jb",(function(){return Ca})),n.d(e,"kb",(function(){return fs})),n.d(e,"lb",(function(){return ds})),n.d(e,"mb",(function(){return Un})),n.d(e,"nb",(function(){return G})),n.d(e,"ob",(function(){return jo})),n.d(e,"pb",(function(){return Bo})),n.d(e,"qb",(function(){return zo})),n.d(e,"rb",(function(){return ls})),n.d(e,"sb",(function(){return se})),n.d(e,"tb",(function(){return R})),n.d(e,"ub",(function(){return Ln})),n.d(e,"vb",(function(){return Oo})),n.d(e,"wb",(function(){return te})),n.d(e,"xb",(function(){return Cs})),n.d(e,"yb",(function(){return Lr})),n.d(e,"zb",(function(){return Po})),n.d(e,"Ab",(function(){return Yo})),n.d(e,"Bb",(function(){return xu})),n.d(e,"Cb",(function(){return Tt})),n.d(e,"Db",(function(){return Dt})),n.d(e,"Eb",(function(){return S})),n.d(e,"Fb",(function(){return C})),n.d(e,"Gb",(function(){return kt})),n.d(e,"Hb",(function(){return Rt})),n.d(e,"Ib",(function(){return Ro})),n.d(e,"Jb",(function(){return qo})),n.d(e,"Kb",(function(){return Fo})),n.d(e,"Lb",(function(){return Uo})),n.d(e,"Mb",(function(){return Ho})),n.d(e,"Nb",(function(){return Cn})),n.d(e,"Ob",(function(){return ss})),n.d(e,"Pb",(function(){return lt})),n.d(e,"Qb",(function(){return Vo})),n.d(e,"Rb",(function(){return ku})),n.d(e,"Sb",(function(){return Go})),n.d(e,"Tb",(function(){return ju})),n.d(e,"Ub",(function(){return Wo})),n.d(e,"Vb",(function(){return Lo})),n.d(e,"Wb",(function(){return du})),n.d(e,"Xb",(function(){return pu})),n.d(e,"Yb",(function(){return Tu})),n.d(e,"Zb",(function(){return Ie})),n.d(e,"ac",(function(){return br})),n.d(e,"bc",(function(){return Nt})),n.d(e,"cc",(function(){return Do})),n.d(e,"dc",(function(){return rs})),n.d(e,"ec",(function(){return is}));var r=n("XNiG"),i=n("quSY"),o=n("HDdC"),s=n("VRyK"),u=n("7o/Q");function a(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends u.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends o.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return a()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function g(t){return{toString:t}.toString()}const y="__parameters__";function v(t,e,n){return g(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(y)?t[y]:Object.defineProperty(t,y,{value:[]})[y];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}const m=v("Inject",t=>({token:t})),b=v("Optional"),w=v("Self"),_=v("SkipSelf");var O=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function E(t){for(let e in t)if(t[e]===E)return e;throw Error("Could not find renamed property on target object.")}function I(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function S(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function C(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function T(t){return x(t,t[A])||x(t,t[P])}function x(t,e){return e&&e.token===t?e:null}function j(t){return t&&(t.hasOwnProperty(k)||t.hasOwnProperty(D))?t[k]:null}const A=E({"\u0275prov":E}),k=E({"\u0275inj":E}),N=E({"\u0275provFallback":E}),P=E({ngInjectableDef:E}),D=E({ngInjectorDef:E});function R(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(R).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function V(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const L=E({__forward_ref__:E});function M(t){return t.__forward_ref__=M,t.toString=function(){return R(this())},t}function U(t){return F(t)?t():t}function F(t){return"function"==typeof t&&t.hasOwnProperty(L)&&t.__forward_ref__===M}const q="undefined"!=typeof globalThis&&globalThis,H="undefined"!=typeof window&&window,z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,B="undefined"!=typeof global&&global,G=q||B||H||z,$=E({"\u0275cmp":E}),K=E({"\u0275dir":E}),W=E({"\u0275pipe":E}),J=E({"\u0275mod":E}),Z=E({"\u0275loc":E}),Q=E({"\u0275fac":E}),Y=E({__NG_ELEMENT_ID__:E});class X{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=S({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return"InjectionToken "+this._desc}}const tt=new X("INJECTOR",-1),et={},nt=/\n/gm,rt="__source",it=E({provide:String,useValue:E});let ot,st=void 0;function ut(t){const e=st;return st=t,e}function at(t){const e=ot;return ot=t,e}function ct(t,e=O.Default){if(void 0===st)throw new Error("inject() must be called from an injection context");return null===st?ht(t,void 0,e):st.get(t,e&O.Optional?null:void 0,e)}function lt(t,e=O.Default){return(ot||ct)(U(t),e)}function ht(t,e,n){const r=T(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&O.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${R(t)}]`)}function ft(t){const e=[];for(let n=0;n<t.length;n++){const r=U(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t=void 0,n=O.Default;for(let e=0;e<r.length;e++){const i=r[e];i instanceof b||"Optional"===i.ngMetadataName||i===b?n|=O.Optional:i instanceof _||"SkipSelf"===i.ngMetadataName||i===_?n|=O.SkipSelf:i instanceof w||"Self"===i.ngMetadataName||i===w?n|=O.Self:t=i instanceof m||i===m?i.token:i}e.push(lt(t,n))}else e.push(lt(r))}return e}class dt{get(t,e=et){if(e===et){const e=new Error(`NullInjectorError: No provider for ${R(t)}!`);throw e.name="NullInjectorError",e}return e}}class pt{}class gt{}function yt(t,e){t.forEach(t=>Array.isArray(t)?yt(t,e):e(t))}function vt(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function mt(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bt(t,e,n){let r=_t(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function wt(t,e){const n=_t(t,e);if(n>=0)return t[1|n]}function _t(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=t[n<<1];if(e===o)return n<<1;o>e?i=n:r=n+1}return~(i<<1)}(t,e)}var Ot=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Et=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const It={},St=[];let Ct=0;function Tt(t){return g(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Ot.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||St,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Et.Emulated,id:"c",styles:t.styles||St,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,o=t.pipes;return n.id+=Ct++,n.inputs=Pt(t.inputs,e),n.outputs=Pt(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(xt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(jt):null,n})}function xt(t){return Vt(t)||function(t){return t[K]||null}(t)}function jt(t){return function(t){return t[W]||null}(t)}const At={};function kt(t){const e={type:t.type,bootstrap:t.bootstrap||St,declarations:t.declarations||St,imports:t.imports||St,exports:t.exports||St,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&g(()=>{At[t.id]=t.type}),e}function Nt(t,e){return g(()=>{const n=Mt(t,!0);n.declarations=e.declarations||St,n.imports=e.imports||St,n.exports=e.exports||St})}function Pt(t,e){if(null==t)return It;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}const Dt=Tt;function Rt(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function Vt(t){return t[$]||null}function Lt(t,e){return t.hasOwnProperty(Q)?t[Q]:null}function Mt(t,e){const n=t[J]||null;if(!n&&!0===e)throw new Error(`Type ${R(t)} does not have '\u0275mod' property.`);return n}const Ut=20,Ft=10;function qt(t){return Array.isArray(t)&&"object"==typeof t[1]}function Ht(t){return Array.isArray(t)&&!0===t[1]}function zt(t){return 0!=(8&t.flags)}function Bt(t){return 2==(2&t.flags)}function Gt(t){return 1==(1&t.flags)}function $t(t){return null!==t.template}function Kt(t){return 0!=(512&t[2])}function Wt(t){return"string"==typeof t?t:null==t?"":""+t}function Jt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Wt(t)}const Zt=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(G))();function Qt(t){return t instanceof Function?t():t}function Yt(t,e){const n=e?" in "+e:"";throw new Error(`No provider for ${Jt(t)} found${n}`)}class Xt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function te(){return ee}function ee(t){return t.type.prototype.ngOnChanges&&(t.setInput=re),ne}function ne(){const t=ie(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===It)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function re(t,e,n,r){const i=ie(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:It,current:null}),o=i.current||(i.current={}),s=i.previous,u=this.declaredInputs[n],a=s[u];o[u]=new Xt(a&&a.currentValue,e,s===It),t[r]=e}function ie(t){return t.__ngSimpleChanges__||null}te.ngInherit=!0;let oe=void 0;function se(t){oe=t}function ue(t){return!!t.listen}const ae={createRenderer:(t,e)=>void 0!==oe?oe:"undefined"!=typeof document?document:void 0};function ce(t){for(;Array.isArray(t);)t=t[0];return t}function le(t,e){return ce(e[t+Ut])}function he(t,e){return ce(e[t.index])}function fe(t,e){return t.data[e+Ut]}function de(t,e){const n=e[t];return qt(n)?n:n[0]}function pe(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function ge(t){return 4==(4&t[2])}function ye(t){return 128==(128&t[2])}function ve(t,e){return null===t||null==e?null:t[e]}function me(t){t[18]=0}function be(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const we={lFrame:Ue(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function _e(){return we.bindingsEnabled}function Oe(){return we.lFrame.lView}function Ee(){return we.lFrame.tView}function Ie(t){we.lFrame.contextLView=t}function Se(){return we.lFrame.currentTNode}function Ce(t,e){we.lFrame.currentTNode=t,we.lFrame.isParent=e}function Te(){return we.lFrame.isParent}function xe(){return we.isInCheckNoChangesMode}function je(t){we.isInCheckNoChangesMode=t}function Ae(){const t=we.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ke(){return we.lFrame.bindingIndex++}function Ne(t,e){const n=we.lFrame;n.bindingIndex=n.bindingRootIndex=t,Pe(e)}function Pe(t){we.lFrame.currentDirectiveIndex=t}function De(){return we.lFrame.currentQueryIndex}function Re(t){we.lFrame.currentQueryIndex=t}function Ve(t,e){const n=Me();we.lFrame=n,n.currentTNode=e,n.lView=t}function Le(t){const e=Me(),n=t[1];we.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex}function Me(){const t=we.lFrame,e=null===t?null:t.child;return null===e?Ue(t):e}function Ue(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function Fe(){const t=we.lFrame;return we.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const qe=Fe;function He(){const t=Fe();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ze(){return we.lFrame.selectedIndex}function Be(t){we.lFrame.selectedIndex=t}function Ge(){const t=we.lFrame;return fe(t.tView,t.selectedIndex)}function $e(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:u}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),o&&(t.viewHooks||(t.viewHooks=[])).push(-n,o),s&&((t.viewHooks||(t.viewHooks=[])).push(n,s),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,s)),null!=u&&(t.destroyHooks||(t.destroyHooks=[])).push(n,u)}}function Ke(t,e,n){Ze(t,e,3,n)}function We(t,e,n,r){(3&t[2])===n&&Ze(t,e,n,r)}function Je(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Ze(t,e,n,r){const i=null!=r?r:-1;let o=0;for(let s=void 0!==r?65535&t[18]:0;s<e.length;s++)if("number"==typeof e[s+1]){if(o=e[s],null!=r&&o>=r)break}else e[s]<0&&(t[18]+=65536),(o<i||-1==i)&&(Qe(t,n,e,s),t[18]=(4294901760&t[18])+s+2),s++}function Qe(t,e,n,r){const i=n[r]<0,o=n[r+1],s=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(s)):o.call(s)}const Ye=-1;class Xe{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function tn(t,e,n){const r=ue(t);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],u=n[i++],a=n[i++];r?t.setAttribute(e,u,a,s):e.setAttributeNS(s,u,a)}else{const s=o,u=n[++i];nn(s)?r&&t.setProperty(e,s,u):r?t.setAttribute(e,s,u):e.setAttribute(s,u),i++}}return i}function en(t){return 3===t||4===t||6===t}function nn(t){return 64===t.charCodeAt(0)}function rn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||on(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function on(t,e,n,r,i){let o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){const n=t[o++];if("number"==typeof n){if(n===e){s=-1;break}if(n>e){s=o-1;break}}}for(;o<t.length;){const e=t[o];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function sn(t){return t!==Ye}function un(t){return 32767&t}function an(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let cn=!0;function ln(t){const e=cn;return cn=t,e}let hn=0;function fn(t,e){const n=pn(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,dn(r.data,t),dn(e,null),dn(r.blueprint,null));const i=gn(t,e),o=t.injectorIndex;if(sn(i)){const t=un(i),n=an(i,e),r=n[1].data;for(let i=0;i<8;i++)e[o+i]=n[t+i]|r[t+i]}return e[o+8]=i,o}function dn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function pn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function gn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return Ye;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Ye}function yn(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=hn++);const i=255&r,o=1<<i,s=64&i,u=32&i,a=e.data;128&i?s?u?a[t+7]|=o:a[t+6]|=o:u?a[t+5]|=o:a[t+4]|=o:s?u?a[t+3]|=o:a[t+2]|=o:u?a[t+1]|=o:a[t]|=o}(t,e,n)}function vn(t,e,n,r=O.Default,i){if(null!==t){const i=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof i){Ve(e,t);try{const t=i();if(null!=t||r&O.Optional)return t;Yt(n)}finally{qe()}}else if("number"==typeof i){if(-1===i)return new In(t,e);let o=null,s=pn(t,e),u=Ye,a=r&O.Host?e[16][6]:null;for((-1===s||r&O.SkipSelf)&&(u=-1===s?gn(t,e):e[s+8],u!==Ye&&En(r,!1)?(o=e[1],s=un(u),e=an(u,e)):s=-1);-1!==s;){const t=e[1];if(On(i,s,t.data)){const t=bn(s,e,n,o,r,a);if(t!==mn)return t}u=e[s+8],u!==Ye&&En(r,e[1].data[s+8]===a)&&On(i,s,e)?(o=t,s=un(u),e=an(u,e)):s=-1}}}if(r&O.Optional&&void 0===i&&(i=null),0==(r&(O.Self|O.Host))){const t=e[9],o=at(void 0);try{return t?t.get(n,i,r&O.Optional):ht(n,i,r&O.Optional)}finally{at(o)}}if(r&O.Optional)return i;Yt(n,"NodeInjector")}const mn={};function bn(t,e,n,r,i,o){const s=e[1],u=s.data[t+8],a=wn(u,s,n,null==r?Bt(u)&&cn:r!=s&&2===u.type,i&O.Host&&o===u);return null!==a?_n(e,s,a,u):mn}function wn(t,e,n,r,i){const o=t.providerIndexes,s=e.data,u=1048575&o,a=t.directiveStart,c=o>>20,l=i?u+c:t.directiveEnd;for(let h=r?u:u+c;h<l;h++){const t=s[h];if(h<a&&n===t||h>=a&&t.type===n)return h}if(i){const t=s[a];if(t&&$t(t)&&t.type===n)return a}return null}function _n(t,e,n,r){let i=t[n];const o=e.data;if(i instanceof Xe){const s=i;s.resolving&&function(t,e){throw new Error("Circular dependency in DI detected for "+t)}(Jt(o[n]));const u=ln(s.canSeeViewProviders);s.resolving=!0;const a=s.injectImpl?at(s.injectImpl):null;Ve(t,r);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const r=ee(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{null!==a&&at(a),ln(u),s.resolving=!1,qe()}}return i}function On(t,e,n){const r=64&t,i=32&t;let o;return o=128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e],!!(o&1<<t)}function En(t,e){return!(t&O.Self||t&O.Host&&e)}class In{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return vn(this._tNode,this._lView,t,void 0,e)}}function Sn(t){const e=t;if(F(t))return()=>{const t=Sn(U(e));return t?t():null};let n=Lt(e);if(null===n){const t=j(e);n=t&&t.factory}return n||null}function Cn(t){return g(()=>{const e=t.prototype.constructor,n=e[Q]||Sn(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Q]||Sn(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Tn(t){return t.ngDebugContext}function xn(t){return t.ngOriginalError}function jn(t,...e){t.error(...e)}class An{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||jn}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Tn(t)?Tn(t):this._findContext(xn(t)):null}_findOriginalError(t){let e=xn(t);for(;e&&xn(e);)e=xn(e);return e}}class kn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class Nn extends kn{getTypeName(){return"HTML"}}class Pn extends kn{getTypeName(){return"Style"}}class Dn extends kn{getTypeName(){return"Script"}}class Rn extends kn{getTypeName(){return"URL"}}class Vn extends kn{getTypeName(){return"ResourceURL"}}function Ln(t){return t instanceof kn?t.changingThisBreaksApplicationSecurity:t}function Mn(t,e){const n=Un(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===e}function Un(t){return t instanceof kn&&t.getTypeName()||null}function Fn(t){return new Nn(t)}function qn(t){return new Pn(t)}function Hn(t){return new Dn(t)}function zn(t){return new Rn(t)}function Bn(t){return new Vn(t)}let Gn=!0,$n=!1;function Kn(){return $n=!0,Gn}function Wn(){if($n)throw new Error("Cannot enable prod mode after platform setup.");Gn=!1}class Jn{getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(e){return null}}}class Zn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=t,e;const n=this.inertDocument.createElement("body");return n.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Qn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Xn(t){return(t=String(t)).match(Qn)||t.match(Yn)?t:(Kn()&&console.warn(`WARNING: sanitizing unsafe URL value ${t} (see http://g.co/ng/security#xss)`),"unsafe:"+t)}function tr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function er(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const nr=tr("area,br,col,hr,img,wbr"),rr=tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ir=tr("rp,rt"),or=er(ir,rr),sr=er(nr,er(rr,tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),er(ir,tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),or),ur=tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ar=tr("srcset"),cr=er(ur,ar,tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lr=tr("script,style,template");class hr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!sr.hasOwnProperty(e))return this.sanitizedSomething=!0,!lr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,o=e.toLowerCase();if(!cr.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=t.value;ur[o]&&(s=Xn(s)),ar[o]&&(r=s,s=(r=String(r)).split(",").map(t=>Xn(t.trim())).join(", ")),this.buf.push(" ",e,'="',pr(s),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();sr.hasOwnProperty(e)&&!nr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(pr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e}}const fr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,dr=/([^\#-~ |!])/g;function pr(t){return t.replace(/&/g,"&amp;").replace(fr,(function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"})).replace(dr,(function(t){return"&#"+t.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gr;function yr(t,e){let n=null;try{gr=gr||function(t){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(t){return!1}}()?new Jn:new Zn(t)}(t);let r=e?String(e):"";n=gr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=gr.getInertBodyElement(r)}while(r!==o);const s=new hr,u=s.sanitizeChildren(vr(n)||n);return Kn()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),u}finally{if(n){const t=vr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function vr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var mr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function br(t){const e=function(){const t=Oe();return t&&t[12]}();return e?e.sanitize(mr.URL,t)||"":Mn(t,"URL")?Ln(t):Xn(Wt(t))}function wr(t,e){t.__ngContext__=e}function _r(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const Or="ng-template";function Er(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==_r(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Ir(t){return 0===t.type&&t.tagName!==Or}function Sr(t,e,n){return e===(0!==t.type||n?t.tagName:Or)}function Cr(t,e,n){let r=4;const i=t.attrs||[],o=function(t){for(let e=0;e<t.length;e++)if(en(t[e]))return e;return t.length}(i);let s=!1;for(let u=0;u<e.length;u++){const a=e[u];if("number"!=typeof a){if(!s)if(4&r){if(r=2|1&r,""!==a&&!Sr(t,a,n)||""===a&&1===e.length){if(Tr(r))return!1;s=!0}}else{const c=8&r?a:e[++u];if(8&r&&null!==t.attrs){if(!Er(t.attrs,c,n)){if(Tr(r))return!1;s=!0}continue}const l=xr(8&r?"class":a,i,Ir(t),n);if(-1===l){if(Tr(r))return!1;s=!0;continue}if(""!==c){let t;t=l>o?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==_r(e,c,0)||2&r&&c!==t){if(Tr(r))return!1;s=!0}}}}else{if(!s&&!Tr(r)&&!Tr(a))return!1;if(s&&Tr(a))continue;s=!1,r=a|1&r}}return Tr(r)||s}function Tr(t){return 0==(1&t)}function xr(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function jr(t,e,n=!1){for(let r=0;r<e.length;r++)if(Cr(t,e[r],n))return!0;return!1}function Ar(t,e){return t?":not("+e.trim()+")":e}function kr(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if("string"==typeof s)if(2&r){const e=t[++n];i+="["+s+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||Tr(s)||(e+=Ar(o,i),i=""),r=s,o=o||!Tr(r);n++}return""!==i&&(e+=Ar(o,i)),e}const Nr={};function Pr(t){const e=t[3];return Ht(e)?e[3]:e}function Dr(t){return Vr(t[13])}function Rr(t){return Vr(t[4])}function Vr(t){for(;null!==t&&!Ht(t);)t=t[4];return t}function Lr(t){Mr(Ee(),Oe(),ze()+t,xe())}function Mr(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Ke(e,r,n)}else{const r=t.preOrderHooks;null!==r&&We(e,r,0,n)}Be(n)}function Ur(t,e){return t<<17|e<<2}function Fr(t){return t>>17&32767}function qr(t){return 2|t}function Hr(t){return(131068&t)>>2}function zr(t,e){return-131069&t|e<<2}function Br(t){return 1|t}function Gr(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=t.data[o];Re(i),n.contentQueries(2,e[o],o)}}}function $r(t,e,n){return ue(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Kr(t,e,n,r,i,o,s,u,a,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,me(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=u||t&&t[11],l[12]=a||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Wr(t,e,n,r,i){const o=e+Ut,s=t.data[o]||function(t,e,n,r,i){const o=Se(),s=Te(),u=t.data[e]=function(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=u),null!==o&&(s&&null==o.child&&null!==u.parent?o.child=u:s||(o.next=u)),u}(t,o,n,r,i);return Ce(s,!0),s}function Jr(t,e,n){Le(e);try{const r=t.viewQuery;null!==r&&Si(1,r,n);const i=t.template;null!==i&&Yr(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Gr(t,e),t.staticViewQueries&&Si(2,t.viewQuery,n);const o=t.components;null!==o&&function(t,e){for(let n=0;n<e.length;n++)wi(t,e[n])}(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,He()}}function Zr(t,e,n,r){const i=e[2];if(256==(256&i))return;Le(e);const o=xe();try{me(e),we.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Yr(t,e,n,2,r);const s=3==(3&i);if(!o)if(s){const n=t.preOrderCheckHooks;null!==n&&Ke(e,n,null)}else{const n=t.preOrderHooks;null!==n&&We(e,n,0,null),Je(e,0)}if(function(t){for(let e=Dr(t);null!==e;e=Rr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&be(r,1),n[2]|=1024}}}(e),function(t){for(let e=Dr(t);null!==e;e=Rr(e))for(let t=Ft;t<e.length;t++){const n=e[t],r=n[1];ye(n)&&Zr(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Gr(t,e),!o)if(s){const n=t.contentCheckHooks;null!==n&&Ke(e,n)}else{const n=t.contentHooks;null!==n&&We(e,n,1),Je(e,1)}!function(t,e){try{const n=t.expandoInstructions;if(null!==n){let r=t.expandoStartIndex,i=-1,o=-1;for(let t=0;t<n.length;t++){const s=n[t];"number"==typeof s?s<=0?(o=0-s,Be(o),r+=9+n[++t],i=r):r+=s:(null!==s&&(Ne(r,i),s(2,e[i])),i++)}}}finally{Be(-1)}}(t,e);const u=t.components;null!==u&&function(t,e){for(let n=0;n<e.length;n++)bi(t,e[n])}(e,u);const a=t.viewQuery;if(null!==a&&Si(2,a,r),!o)if(s){const n=t.viewCheckHooks;null!==n&&Ke(e,n)}else{const n=t.viewHooks;null!==n&&We(e,n,2),Je(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,be(e[3],-1))}finally{He()}}function Qr(t,e,n,r){const i=e[10],o=!xe(),s=ge(e);try{o&&!s&&i.begin&&i.begin(),s&&Jr(t,e,r),Zr(t,e,n,r)}finally{o&&!s&&i.end&&i.end()}}function Yr(t,e,n,r,i){const o=ze();try{Be(-1),2&r&&e.length>Ut&&Mr(t,e,0,xe()),n(r,i)}finally{Be(o)}}function Xr(t,e,n){_e()&&(function(t,e,n,r){const i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||fn(n,e),wr(r,e);const s=n.initialInputs;for(let u=i;u<o;u++){const r=t.data[u],o=$t(r);o&&gi(e,n,r);const a=_n(e,t,u,n);wr(a,e),null!==s&&yi(0,u-i,a,r,0,s),o&&(de(n.index,e)[8]=a)}}(t,e,n,he(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,s=t.firstCreatePass,u=n.index-Ut,a=we.lFrame.currentDirectiveIndex;try{Be(u);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];Pe(n),null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs?ci(r,i):s&&o.push(null)}}finally{Be(-1),Pe(a)}}(t,e,n))}function ti(t,e,n=he){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],u=-1===s?n(e,t):t[s];t[i++]=u}}}function ei(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=ni(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function ni(t,e,n,r,i,o,s,u,a,c){const l=Ut+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:Nr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:u,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:a,consts:d,incompleteFirstPass:!1}}function ri(t,e,n,r){const i=Ti(e);i.push(n),t.firstCreatePass&&function(t){return t.cleanup||(t.cleanup=[])}(t).push(r,i.length-1)}function ii(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function oi(t,e,n,r,i,o,s,u){const a=he(e,n);let c,l=e.inputs;!u&&null!=l&&(c=l[r])?(ji(t,n,c,r,i),Bt(e)&&function(t,e){const n=de(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):2===e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=s?s(i,e.tagName||"",r):i,ue(o)?o.setProperty(a,r,i):nn(r)||(a.setProperty?a.setProperty(r,i):a[r]=i))}function si(t,e,n,r){let i=!1;if(_e()){const o=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];jr(n,s.selectors,!1)&&(i||(i=[]),yn(fn(n,e),t,s.type),$t(s)?(hi(t,n),i.unshift(s)):i.push(s))}return i}(t,e,n),s=null===r?null:{"":-1};if(null!==o){let r=0;i=!0,di(n,t.data.length,o.length);for(let t=0;t<o.length;t++){const e=o[t];e.providersResolver&&e.providersResolver(e)}li(t,n,o.length);let u=!1,a=!1;for(let i=0;i<o.length;i++){const c=o[i];n.mergedAttrs=rn(n.mergedAttrs,c.hostAttrs),pi(t,e,c),fi(t.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!u&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-Ut),u=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-Ut),a=!0),ui(t,c),r+=c.hostVars}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,o=[];let s=null,u=null;for(let a=e.directiveStart;a<n;a++){const t=r[a],n=t.inputs,c=null===i||Ir(e)?null:vi(n,i);o.push(c),s=ii(n,a,s),u=ii(t.outputs,a,u)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=u}(t,n),ai(t,e,r)}s&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new Error(`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,s)}return n.mergedAttrs=rn(n.mergedAttrs,n.attrs),i}function ui(t,e){const n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function ai(t,e,n){for(let r=0;r<n;r++)e.push(Nr),t.blueprint.push(Nr),t.data.push(null)}function ci(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function li(t,e,n){const r=Ut-e.index,i=t.data.length-(1048575&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function hi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function fi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;$t(e)&&(n[""]=t)}}function di(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function pi(t,e,n){t.data.push(n);const r=n.factory||(n.factory=Lt(n.type)),i=new Xe(r,$t(n),null);t.blueprint.push(i),e.push(i)}function gi(t,e,n){const r=he(e,t),i=ei(n),o=t[10],s=_i(t,Kr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n),null,null));t[e.index]=s}function yi(t,e,n,r,i,o){const s=o[e];if(null!==s){const t=r.setInput;for(let e=0;e<s.length;){const i=s[e++],o=s[e++],u=s[e++];null!==t?r.setInput(n,u,i,o):n[o]=u}}}function vi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function mi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function bi(t,e){const n=de(e,t);if(ye(n)){const t=n[1];80&n[2]?Zr(t,n,t.template,n[8]):n[5]>0&&function t(e){for(let r=Dr(e);null!==r;r=Rr(r))for(let e=Ft;e<r.length;e++){const n=r[e];if(1024&n[2]){const t=n[1];Zr(t,n,t.template,n[8])}else n[5]>0&&t(n)}const n=e[1].components;if(null!==n)for(let r=0;r<n.length;r++){const i=de(n[r],e);ye(i)&&i[5]>0&&t(i)}}(n)}}function wi(t,e){const n=de(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Jr(r,n,n[8])}function _i(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Oi(t){for(;t;){t[2]|=64;const e=Pr(t);if(Kt(t)&&!e)return t;t=e}return null}function Ei(t,e,n){const r=e[10];r.begin&&r.begin();try{Zr(t,e,t.template,n)}catch(i){throw xi(e,i),i}finally{r.end&&r.end()}}function Ii(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=pe(n),i=r[1];Qr(i,r,i.template,n)}}(t[8])}function Si(t,e,n){Re(0),e(t,n)}const Ci=(()=>Promise.resolve(null))();function Ti(t){return t[7]||(t[7]=[])}function xi(t,e){const n=t[9],r=n?n.get(An,null):null;r&&r.handleError(e)}function ji(t,e,n,r,i){for(let o=0;o<n.length;){const s=n[o++],u=n[o++],a=e[s],c=t.data[s];null!==c.setInput?c.setInput(a,i,r,u):a[u]=i}}function Ai(t,e,n,r,i){if(null!=r){let o,s=!1;Ht(r)?o=r:qt(r)&&(s=!0,r=r[0]);const u=ce(r);0===t&&null!==n?null==i?Vi(e,n,u):Ri(e,n,u,i||null):1===t&&null!==n?Ri(e,n,u,i||null):2===t?function(t,e,n){const r=Mi(t,e);r&&function(t,e,n,r){ue(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,u,s):3===t&&e.destroyNode(u),null!=o&&function(t,e,n,r,i){const o=n[7];o!==ce(n)&&Ai(e,t,r,o,i);for(let s=Ft;s<n.length;s++){const i=n[s];qi(i[1],i,t,e,r,o)}}(e,t,o,n,i)}}function ki(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,be(i,-1)),n.splice(r,1)}function Ni(t,e){if(t.length<=Ft)return;const n=Ft+e,r=t[n];if(r){const o=r[17];null!==o&&o!==t&&ki(o,r),e>0&&(t[n-1][4]=r[4]);const s=mt(t,Ft+e);qi(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const u=s[19];null!==u&&u.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Pi(t,e){if(!(256&e[2])){const n=e[11];ue(n)&&n.destroyNode&&qi(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Di(t[1],t);for(;e;){let n=null;if(qt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)qt(e)&&Di(e[1],e),e=e[3];null===e&&(e=t),qt(e)&&Di(e[1],e),n=e&&e[4]}e=n}}(e)}}function Di(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Xe)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup;if(null!==n){const t=e[7];for(let r=0;r<n.length-1;r+=2)if("string"==typeof n[r]){const i=n[r+1],o="function"==typeof i?i(e):ce(e[i]),s=t[n[r+2]],u=n[r+3];"boolean"==typeof u?o.removeEventListener(n[r],s,u):u>=0?t[u]():t[-u].unsubscribe(),r+=2}else n[r].call(t[n[r+1]]);e[7]=null}}(t,e),1===e[1].type&&ue(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&Ht(e[3])){n!==e[3]&&ki(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Ri(t,e,n,r){ue(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Vi(t,e,n){ue(t)?t.appendChild(e,n):e.appendChild(n)}function Li(t,e,n,r){null!==r?Ri(t,e,n,r):Vi(t,e,n)}function Mi(t,e){return ue(t)?t.parentNode(e):e.parentNode}function Ui(t,e,n,r){const i=function(t,e,n){let r=e.parent;for(;null!=r&&(3===r.type||4===r.type);)r=(e=r).parent;if(null===r)return n[0];if(e&&4===e.type&&4&e.flags)return he(e,n).parentNode;if(2&r.flags){const e=t.data,n=e[e[r.index].directiveStart].encapsulation;if(n!==Et.ShadowDom&&n!==Et.Native)return null}return he(r,n)}(t,r,e);if(null!=i){const t=e[11],o=function(t,e){return 3===t.type||4===t.type?he(t,e):null}(r.parent||e[6],e);if(Array.isArray(n))for(let e=0;e<n.length;e++)Li(t,i,n[e],o);else Li(t,i,n,o)}}function Fi(t,e,n,r,i,o,s){for(;null!=n;){const u=r[n.index],a=n.type;s&&0===e&&(u&&wr(ce(u),r),n.flags|=4),64!=(64&n.flags)&&(3===a||4===a?(Fi(t,e,n.child,r,i,o,!1),Ai(e,t,i,u,o)):1===a?Hi(t,e,r,n,i,o):Ai(e,t,i,u,o)),n=s?n.projectionNext:n.next}}function qi(t,e,n,r,i,o){Fi(n,r,t.firstChild,e,i,o,!1)}function Hi(t,e,n,r,i,o){const s=n[16],u=s[6].projection[r.projection];if(Array.isArray(u))for(let a=0;a<u.length;a++)Ai(e,t,i,u[a],o);else Fi(t,e,u,s[3],i,o,!0)}function zi(t,e,n){ue(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function Bi(t,e,n){ue(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}class Gi{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const t=this._lView,e=t[1];return function t(e,n,r,i,o=!1){for(;null!==r;){const s=n[r.index];if(null!==s&&i.push(ce(s)),Ht(s))for(let e=Ft;e<s.length;e++){const n=s[e],r=n[1].firstChild;null!==r&&t(n[1],n,r,i)}const u=r.type;if(3===u||4===u)t(e,n,r.child,i);else if(1===u){const e=n[16],o=e[6].projection[r.projection];if(Array.isArray(o))i.push(...o);else{const n=Pr(e);t(n[1],n,o,i,!0)}}r=o?r.projectionNext:r.next}return i}(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Pi(this._lView[1],this._lView)}onDestroy(t){ri(this._lView[1],this._lView,null,t)}markForCheck(){Oi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Ei(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){je(!0);try{Ei(t,e,n)}finally{je(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t}detachFromAppRef(){var t;this._appRef=null,qi(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class $i extends Gi{constructor(t){super(t),this._view=t}detectChanges(){Ii(this._view)}checkNoChanges(){!function(t){je(!0);try{Ii(t)}finally{je(!1)}}(this._view)}get context(){return null}}let Ki,Wi,Ji;function Zi(t,e,n){return Ki||(Ki=class extends t{}),new Ki(he(e,n))}function Qi(t,e,n,r){return Wi||(Wi=class extends t{constructor(t,e,n){super(),this._declarationView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Kr(this._declarationView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationView[this._declarationTContainer.index];const r=this._declarationView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Jr(e,n,t),new Gi(n)}}),0===n.type?new Wi(r,n,Zi(e,n,r)):null}function Yi(t,e,n,r){let i;Ji||(Ji=class extends t{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostView=n}get element(){return Zi(e,this._hostTNode,this._hostView)}get injector(){return new In(this._hostTNode,this._hostView)}get parentInjector(){const t=gn(this._hostTNode,this._hostView);if(sn(t)){const e=an(t,this._hostView),n=un(t);return new In(e[1].data[n+8],e)}return new In(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null}get length(){return this._lContainer.length-Ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){const t=o.get(pt,null);t&&(i=t)}const s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s}insert(t,e){const n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Ht(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ji(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),o=this._lContainer;!function(t,e,n,r){const i=Ft+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-Ft?(e[4]=n[i],vt(n,Ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const s=e[17];null!==s&&n!==s&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);const u=e[19];null!==u&&u.insertView(t),e[2]|=128}(r,n,o,i);const s=function t(e,n){const r=Ft+e+1;if(r<n.length){const e=n[r],i=e[1].firstChild;if(null!==i)return function e(n,r){if(null!==r){const i=r.type;if(2===i)return he(r,n);if(0===i)return t(-1,n[r.index]);if(3===i||4===i){const i=r.child;if(null!==i)return e(n,i);{const e=n[r.index];return Ht(e)?t(-1,e):ce(e)}}{const t=n[16],i=t[6],o=Pr(t),s=i.projection[r.projection];return null!=s?e(o,s):e(n,r.next)}}return null}(e,i)}return n[7]}(i,o),u=n[11],a=Mi(u,o[7]);return null!==a&&function(t,e,n,r,i,o){r[0]=i,r[6]=e,qi(t,r,n,1,i,o)}(r,o[6],u,n,a,s),t.attachToViewContainerRef(this),vt(o[8],i,t),t}move(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)}indexOf(t){const e=this._lContainer[8];return null!==e?e.indexOf(t):-1}remove(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Ni(this._lContainer,e);n&&(mt(this._lContainer[8],e),Pi(n[1],n))}detach(t){this.allocateContainerIfNeeded();const e=this._adjustIndex(t,-1),n=Ni(this._lContainer,e);return n&&null!=mt(this._lContainer[8],e)?new Gi(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=r[n.index];if(Ht(o))i=o;else{let t;if(3===n.type)t=ce(o);else if(t=r[11].createComment(""),Kt(r)){const e=r[11],i=he(n,r);Ri(e,Mi(e,i),t,function(t,e){return ue(t)?t.nextSibling(e):e.nextSibling}(e,i))}else Ui(r[1],r,t,n);r[n.index]=i=mi(o,r,t,n),_i(r,i)}return new Ji(i,n,r)}function Xi(t=!1){return function(t,e,n){if(!n&&Bt(t)){const n=de(t.index,e);return new Gi(n,n)}return 2===t.type||0===t.type||3===t.type||4===t.type?new Gi(e[16],e):null}(Se(),Oe(),t)}let to=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>eo(),t})();const eo=Xi,no=Function,ro=new X("Set Injector scope."),io={},oo={},so=[];let uo=void 0;function ao(){return void 0===uo&&(uo=new dt),uo}function co(t,e=null,n=null,r){return new lo(t,n,e||ao(),r)}class lo{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&yt(e,n=>this.processProvider(n,t,e)),yt([t],t=>this.processInjectorType(t,[],i)),this.records.set(tt,po(void 0,this));const o=this.records.get(ro);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof t?null:R(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=et,n=O.Default){this.assertNotDestroyed();const r=ut(this);try{if(!(n&O.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof X)&&T(t);e=n&&this.injectableDefInScope(n)?po(ho(t),io):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&O.Self?ao():this.parent).get(t,e=n&O.Optional&&e===et?null:e)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(R(t)),r)throw o;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[rt]&&i.unshift(e[rt]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=R(e);if(Array.isArray(e))i=e.map(R).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):R(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(nt,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(o,t,"R3InjectorError",this.source)}throw o}finally{ut(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(R(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=U(t)))return!1;let r=j(t);const i=null==r&&t.ngModule||void 0,o=void 0===i?t:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=j(i)),null==r)return!1;if(null!=r.imports&&!s){let t;n.push(o);try{yt(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];yt(r,t=>this.processProvider(t,n,r||so))}}this.injectorDefTypes.add(o),this.records.set(o,po(r.factory,io));const u=r.providers;if(null!=u&&!s){const e=t;yt(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=yo(t=U(t))?t:U(t&&t.provide);const i=function(t,e,n){return go(t)?po(void 0,t.useValue):po(fo(t),io)}(t);if(yo(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=po(void 0,io,!0),e.factory=()=>ft(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===io&&(e.value=oo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ho(t){const e=T(t),n=null!==e?e.factory:Lt(t);if(null!==n)return n;const r=j(t);if(null!==r)return r.factory;if(t instanceof X)throw new Error(`Token ${R(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push("?");return n}(e);throw new Error(`Can't resolve all parameters for ${R(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[A]||t[P]||t[N]&&t[N]());if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function fo(t,e,n){let r=void 0;if(yo(t)){const e=U(t);return Lt(e)||ho(e)}if(go(t))r=()=>U(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...ft(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>lt(U(t.useExisting));else{const e=U(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Lt(e)||ho(e);r=()=>new e(...ft(t.deps))}var i;return r}function po(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function go(t){return null!==t&&"object"==typeof t&&it in t}function yo(t){return"function"==typeof t}const vo=function(t,e,n){return function(t,e=null,n=null,r){const i=co(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let mo=(()=>{class t{static create(t,e){return Array.isArray(t)?vo(t,e,""):vo(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=et,t.NULL=new dt,t.\u0275prov=S({token:t,providedIn:"any",factory:()=>lt(tt)}),t.__NG_ELEMENT_ID__=-1,t})();const bo=new X("AnalyzeForEntryComponents");function wo(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const t=e[s];"number"==typeof t?o=t:1==o?i=V(i,t):2==o&&(r=V(r,t+": "+e[++s]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function _o(t,e){const n=pe(t)[1],r=n.data.length-1;$e(n,{directiveStart:r,directiveEnd:r+1})}function Oo(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i=void 0;if($t(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=Eo(t.inputs),e.declaredInputs=Eo(t.declaredInputs),e.outputs=Eo(t.outputs);const n=i.hostBindings;n&&Co(t,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Io(t,o),s&&So(t,s),I(t.inputs,i.inputs),I(t.declaredInputs,i.declaredInputs),I(t.outputs,i.outputs),$t(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Oo&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=rn(i.hostAttrs,n=rn(n,i.hostAttrs))}}(r)}function Eo(t){return t===It?{}:t===St?[]:t}function Io(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function So(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Co(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let To=null;function xo(){if(!To){const t=G.Symbol;if(t&&t.iterator)To=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(To=n)}}}return To}function jo(t){return!!Ao(t)&&(Array.isArray(t)||!(t instanceof Map)&&xo()in t)}function Ao(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function ko(t,e,n){return t[e]=n}function No(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Po(t,e,n,r){const i=Oe();return No(i,ke(),e)&&(Ee(),function(t,e,n,r,i,o){const s=he(t,e),u=e[11];if(null==r)ue(u)?u.removeAttribute(s,n,o):s.removeAttribute(n);else{const e=null==i?Wt(r):i(r,t.tagName||"",n);ue(u)?u.setAttribute(s,n,e,o):o?s.setAttributeNS(o,n,e):s.setAttribute(n,e)}}(Ge(),i,t,e,n,r)),Po}function Do(t,e,n,r,i,o,s,u){const a=Oe(),c=Ee(),l=t+Ut,h=c.firstCreatePass?function(t,e,n,r,i,o,s,u,a){const c=e.consts,l=Wr(e,t,0,s||null,ve(c,u));si(e,n,l,ve(c,a)),$e(e,l);const h=l.tViews=ni(2,l,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(t,c,a,e,n,r,i,o,s):c.data[l];Ce(h,!1);const f=a[11].createComment("");Ui(c,a,f,h),wr(f,a),_i(a,a[l]=mi(f,a,f,h)),Gt(h)&&Xr(c,a,h),null!=s&&ti(a,h,u)}function Ro(t,e=O.Default){const n=Oe();return null===n?lt(t,e):vn(Se(),n,U(t),e)}function Vo(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(en(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Se(),t)}function Lo(t,e,n){const r=Oe();return No(r,ke(),e)&&oi(Ee(),Ge(),r,t,e,r[11],n,!1),Lo}function Mo(t,e,n,r,i){const o=i?"class":"style";ji(t,n,e.inputs[o],o,r)}function Uo(t,e,n,r){const i=Oe(),o=Ee(),s=Ut+t,u=i[11],a=i[s]=$r(e,u,we.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,s){const u=e.consts,a=Wr(e,t,2,i,ve(u,o));return si(e,n,a,ve(u,s)),null!==a.attrs&&wo(a,a.attrs,!1),null!==a.mergedAttrs&&wo(a,a.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,a),a}(t,o,i,0,e,n,r):o.data[s];Ce(c,!0);const l=c.mergedAttrs;null!==l&&tn(u,a,l);const h=c.classes;null!==h&&Bi(u,a,h);const f=c.styles;null!==f&&zi(u,a,f),Ui(o,i,a,c),0===we.lFrame.elementDepthCount&&wr(a,i),we.lFrame.elementDepthCount++,Gt(c)&&(Xr(o,i,c),function(t,e,n){if(zt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}(o,c,i)),null!==r&&ti(i,c)}function Fo(){let t=Se();Te()?we.lFrame.isParent=!1:(t=t.parent,Ce(t,!1));const e=t;we.lFrame.elementDepthCount--;const n=Ee();n.firstCreatePass&&($e(n,t),zt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Mo(n,e,Oe(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Mo(n,e,Oe(),e.stylesWithoutHost,!1)}function qo(t,e,n,r){Uo(t,e,n,r),Fo()}function Ho(){return Oe()}function zo(t){return!!t&&"function"==typeof t.then}function Bo(t){return!!t&&"function"==typeof t.subscribe}function Go(t,e,n=!1,r){const i=Oe(),o=Ee(),s=Se();return function(t,e,n,r,i,o,s=!1,u){const a=Gt(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Ti(e);let h=!0;if(2===r.type){const f=he(r,e),d=u?u(f):It,p=d.target||f,g=l.length,y=u?t=>u(ce(t[r.index])).target:r.index;if(ue(n)){let s=null;if(!u&&a&&(s=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const t=i[o];if(t===n&&i[o+1]===r){const t=e[7],n=i[o+2];return t.length>n?t[n]:null}"string"==typeof t&&(o+=2)}return null}(t,e,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=Ko(r,e,o,!1);const t=n.listen(d.name||p,i,o);l.push(o,t),c&&c.push(i,y,g,g+1)}}else o=Ko(r,e,o,!0),p.addEventListener(i,o,s),l.push(o),c&&c.push(i,y,g,s)}const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(o),s=l.length;l.push(o,t),c&&c.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,t,e,n,r),Go}function $o(t,e,n){try{return!1!==e(n)}catch(r){return xi(t,r),!1}}function Ko(t,e,n,r){return function i(o){if(o===Function)return n;const s=2&t.flags?de(t.index,e):e;0==(32&e[2])&&Oi(s);let u=$o(e,n,o),a=i.__ngNextListenerFn__;for(;a;)u=$o(e,a,o)&&u,a=a.__ngNextListenerFn__;return r&&!1===u&&(o.preventDefault(),o.returnValue=!1),u}}function Wo(t=1){return function(t){return(we.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,we.lFrame.contextLView))[8]}(t)}const Jo=[];function Zo(t,e,n,r,i){const o=t[n+1],s=null===e;let u=r?Fr(o):Hr(o),a=!1;for(;0!==u&&(!1===a||s);){const n=t[u+1];Qo(t[u],e)&&(a=!0,t[u+1]=r?Br(n):qr(n)),u=r?Fr(n):Hr(n)}a&&(t[n+1]=r?qr(o):Br(o))}function Qo(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&_t(t,e)>=0}function Yo(t,e){return function(t,e,n,r){const i=Oe(),o=Ee(),s=function(t){const e=we.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();o.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const o=i[ze()+Ut],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(o)&&null===e&&!s&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=we.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let o=e.residualClasses;if(null===i)0===e.classBindings&&(n=ts(n=Xo(null,t,e,n,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||t[s]!==i)if(n=Xo(i,t,e,n,r),null===o){let n=function(t,e,n){const r=e.classBindings;if(0!==Hr(r))return t[Fr(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=Xo(null,t,e,n[1],r),n=ts(n,e.attrs,r),function(t,e,n,r){t[Fr(e.classBindings)]=r}(t,e,0,n))}else o=function(t,e,n){let r=void 0;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=ts(r,t[o].hostAttrs,true);return ts(r,e.attrs,true)}(t,e)}return void 0!==o&&(e.residualClasses=o),n}(i,o,e,r),function(t,e,n,r,i,o){let s=e.classBindings,u=Fr(s),a=Hr(s);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||_t(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==a){const e=Fr(t[u+1]);t[r+1]=Ur(e,u),0!==e&&(t[e+1]=zr(t[e+1],r)),t[u+1]=131071&t[u+1]|r<<17}else t[r+1]=Ur(u,0),0!==u&&(t[u+1]=zr(t[u+1],r)),u=r;else t[r+1]=Ur(a,0),0===u?u=r:t[a+1]=zr(t[a+1],r),a=r;l&&(t[r+1]=qr(t[r+1])),Zo(t,c,r,!0),Zo(t,c,r,!1),function(t,e,n,r,i){const o=t.residualClasses;null!=o&&"string"==typeof e&&_t(o,e)>=0&&(n[r+1]=Br(n[r+1]))}(e,c,t,r),s=Ur(u,a),e.classBindings=s}(i,o,e,n,s)}}(o,t,s,true),e!==Nr&&No(i,s,e)&&function(t,e,n,r,i,o,s,u){if(2!==e.type)return;const a=t.data,c=a[u+1];ns(1==(1&c)?es(a,e,n,i,Hr(c),s):void 0)||(ns(o)||function(t){return 2==(2&t)}(c)&&(o=es(a,null,n,i,u,s)),function(t,e,n,r,i){const o=ue(t);i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r)}(r,0,le(ze(),n),i,o))}(o,o.data[ze()+Ut],i,i[11],t,i[s+1]=function(t,e){return null==t||"object"==typeof t&&(t=R(Ln(t))),t}(e),true,s)}(t,e),Yo}function Xo(t,e,n,r,i){let o=null;const s=n.directiveEnd;let u=n.directiveStylingLast;for(-1===u?u=n.directiveStart:u++;u<s&&(o=e[u],r=ts(r,o.hostAttrs,i),o!==t);)u++;return null!==t&&(n.directiveStylingLast=u),r}function ts(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),bt(t,s,!!n||e[++o]))}return void 0===t?null:t}function es(t,e,n,r,i,o){const s=null===e;let u=void 0;for(;i>0;){const e=t[i],o=Array.isArray(e),a=o?e[1]:e,c=null===a;let l=n[i+1];l===Nr&&(l=c?Jo:void 0);let h=c?wt(l,r):a===r?l:void 0;if(o&&!ns(h)&&(h=wt(e,r)),ns(h)&&(u=h,s))return u;const f=t[i+1];i=s?Fr(f):Hr(f)}if(null!==e){let t=o?e.residualClasses:e.residualStyles;null!=t&&(u=wt(t,r))}return u}function ns(t){return void 0!==t}function rs(t,e=""){const n=Oe(),r=Ee(),i=t+Ut,o=r.firstCreatePass?Wr(r,t,2,null,null):r.data[i],s=n[i]=function(t,e){return ue(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Ui(r,n,s,o),Ce(o,!1)}function is(t){return os("",t,""),is}function os(t,e,n){const r=Oe(),i=function(t,e,n,r){return No(t,ke(),n)?e+Wt(n)+r:Nr}(r,t,e,n);return i!==Nr&&function(t,e,n){const r=le(e,t),i=t[11];ue(i)?i.setValue(r,n):r.textContent=n}(r,ze(),i),os}function ss(t,e,n){const r=Oe();return No(r,ke(),e)&&oi(Ee(),Ge(),r,t,e,r[11],n,!0),ss}const us=void 0;var as=["en",[["a","p"],["AM","PM"],us],[["AM","PM"],us,us],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],us,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],us,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",us,"{1} 'at' {0}",us],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let cs={};function ls(t,e,n){"string"!=typeof e&&(n=e,e=t[gs.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),cs[e]=t,n&&(cs[e][gs.ExtraData]=n)}function hs(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=ps(e);if(n)return n;const r=e.split("-")[0];if(n=ps(r),n)return n;if("en"===r)return as;throw new Error(`Missing locale data for the locale "${t}".`)}function fs(t){return hs(t)[gs.CurrencyCode]||null}function ds(t){return hs(t)[gs.PluralCase]}function ps(t){return t in cs||(cs[t]=G.ng&&G.ng.common&&G.ng.common.locales&&G.ng.common.locales[t]),cs[t]}var gs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const ys="en-US";let vs=ys;function ms(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+` [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(vs=t.toLowerCase().replace(/_/g,"-"))}function bs(t,e,n,r,i){if(t=U(t),Array.isArray(t))for(let o=0;o<t.length;o++)bs(t[o],e,n,r,i);else{const o=Ee(),s=Oe();let u=yo(t)?t:U(t.provide),a=fo(t);const c=Se(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(yo(t)||!t.multi){const r=new Xe(a,i,Ro),d=Os(u,e,i?l:l+f,h);-1===d?(yn(fn(c,s),o,u),ws(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),s.push(r)):(n[d]=r,s[d]=r)}else{const d=Os(u,e,l+f,h),p=Os(u,e,l,l+f),g=d>=0&&n[d],y=p>=0&&n[p];if(i&&!y||!i&&!g){yn(fn(c,s),o,u);const l=function(t,e,n,r,i){const o=new Xe(t,n,Ro);return o.multi=[],o.index=e,o.componentProviders=0,_s(o,i,r&&!n),o}(i?Is:Es,n.length,i,r,a);!i&&y&&(n[p].providerFactory=l),ws(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),s.push(l)}else ws(o,t,d>-1?d:p,_s(n[i?p:d],a,!i&&r));!i&&r&&y&&n[p].componentProviders++}}}function ws(t,e,n,r){const i=yo(e);if(i||e.useClass){const o=(e.useClass||e).prototype.ngOnDestroy;if(o){const s=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=s.indexOf(n);-1===t?s.push(n,[r,o]):s[t+1].push(r,o)}else s.push(n,o)}}}function _s(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Os(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Es(t,e,n,r){return Ss(this.multi,[])}function Is(t,e,n,r){const i=this.multi;let o;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=_n(n,n[1],this.providerFactory.index,r);o=e.slice(0,t),Ss(i,o);for(let n=t;n<e.length;n++)o.push(e[n])}else o=[],Ss(i,o);return o}function Ss(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Cs(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Ee();if(r.firstCreatePass){const i=$t(t);bs(n,r.data,r.blueprint,i,!0),bs(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Ts{}class xs{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${R(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let js=(()=>{class t{}return t.NULL=new xs,t})(),As=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=()=>ks(t),t})();const ks=function(t){return Zi(t,Se(),Oe())};class Ns{}var Ps=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});let Ds=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Rs(),t})();const Rs=function(){const t=Oe(),e=de(Se().index,t);return function(t){const e=t[11];if(ue(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(qt(e)?e:t)};let Vs=(()=>{class t{}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>null}),t})();class Ls{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const Ms=new Ls("10.2.4");class Us{constructor(){}supports(t){return jo(t)}create(t){return new qs(t)}}const Fs=(t,e)=>e;class qs{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Fs}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const o=!n||e&&e.currentIndex<Gs(n,r,i)?e:n,s=Gs(o,r,i),u=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);const t=s-r,e=u-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;e<=o&&o<t&&(i[n]=r+1)}i[o.previousIndex]=e-t}}s!==u&&t(o,s,u)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!jo(t))throw new Error(`Error trying to diff '${R(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,o=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),o=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[xo()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),o=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new Hs(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Bs),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Bs),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class Hs{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zs{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class Bs{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new zs,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Gs(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class $s{constructor(){}supports(t){return t instanceof Map||Ao(t)}create(){return new Ks}}class Ks{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ao(t)))throw new Error(`Error trying to diff '${R(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Ws(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Ws{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let Js=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new b]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t([new Us])}),t})(),Zs=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new _,new b]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=S({token:t,providedIn:"root",factory:()=>new t([new $s])}),t})();const Qs=[new $s],Ys=new Js([new Us]),Xs=new Zs(Qs);let tu=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>eu(t,As),t})();const eu=function(t,e){return Qi(t,e,Se(),Oe())};let nu=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ru(t,As),t})();const ru=function(t,e){return Yi(t,e,Se(),Oe())},iu={};class ou extends js{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=Vt(t);return new au(e,this.ngModule)}}function su(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const uu=new X("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Zt});class au extends Ts{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(kr).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return su(this.componentDef.inputs)}get outputs(){return su(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const o=t.get(n,iu,i);return o!==iu||r===iu?o:e.get(n,r,i)}}}(t,r.injector):t,o=i.get(Ns,ae),s=i.get(Vs,null),u=o.createRenderer(null,this.componentDef),a=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(ue(t))return t.selectRootElement(e,n===Et.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(u,n,this.componentDef.encapsulation):$r(a,o.createRenderer(null,this.componentDef),function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(a)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:Zt,clean:Ci,playerHandler:null,flags:0},f=ni(0,null,null,1,0,null,null,null,null,null),d=Kr(null,f,h,l,null,null,o,u,s,i);let p,g;Le(d);try{const t=function(t,e,n,r,i,o){const s=n[1];n[20]=t;const u=Wr(s,0,2,null,null),a=u.mergedAttrs=e.hostAttrs;null!==a&&(wo(u,a,!0),null!==t&&(tn(i,t,a),null!==u.classes&&Bi(i,t,u.classes),null!==u.styles&&zi(i,t,u.styles)));const c=r.createRenderer(t,e),l=Kr(n,ei(e),null,e.onPush?64:16,n[20],u,r,c,null,null);return s.firstCreatePass&&(yn(fn(u,n),s,e.type),hi(s,u),di(u,n.length,1)),_i(n,l),n[20]=l}(c,this.componentDef,d,o,u);if(c)if(n)tn(u,c,["ng-version",Ms.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Tr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&tn(u,c,t),e&&e.length>0&&Bi(u,c,e.join(" "))}if(g=fe(f,0),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const o=n[1],s=function(t,e,n){const r=Se();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),li(t,r,1),pi(t,e,n));const i=_n(e,t,e.length-1,r);wr(i,e);const o=he(r,e);return o&&wr(o,e),i}(o,n,e);r.components.push(s),t[8]=s,i&&i.forEach(t=>t(s,e)),e.contentQueries&&e.contentQueries(1,s,n.length-1);const u=Se();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){Be(u.index-Ut);const t=n[1];ui(t,e),ai(t,n,e.hostVars),ci(e,s)}return s}(t,this.componentDef,d,h,[_o]),Jr(f,d,null)}finally{He()}return new cu(this.componentType,p,Zi(As,g,d),d,g)}}class cu extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.destroyCbs=[],this.instance=e,this.hostView=this.changeDetectorRef=new $i(r),this.componentType=t}get injector(){return new In(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(t=>t()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(t){this.destroyCbs&&this.destroyCbs.push(t)}}const lu=new Map;class hu extends pt{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ou(this);const n=Mt(t),r=t[Z]||null;r&&ms(r),this._bootstrapComponents=Qt(n.bootstrap),this._r3Injector=co(t,e,[{provide:pt,useValue:this},{provide:js,useValue:this.componentFactoryResolver}],R(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=mo.THROW_IF_NOT_FOUND,n=O.Default){return t===mo||t===pt||t===tt?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class fu extends gt{constructor(t){super(),this.moduleType=t,null!==Mt(t)&&function(t){const e=new Set;!function t(n){const r=Mt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${R(e)} vs ${R(e.name)}`)}(i,lu.get(i),n),lu.set(i,n));const o=Qt(r.imports);for(const s of o)e.has(s)||(e.add(s),t(s))}(t)}(t)}create(t){return new hu(this.moduleType,t)}}function du(t,e,n,r){return function(t,e,n,r,i,o){const s=e+n;return No(t,s,i)?ko(t,s+1,o?r.call(o,i):r(i)):gu(t,s+1)}(Oe(),Ae(),t,e,n,r)}function pu(t,e,n,r,i){return function(t,e,n,r,i,o,s){const u=e+n;return function(t,e,n,r){const i=No(t,e,n);return No(t,e+1,r)||i}(t,u,i,o)?ko(t,u+2,s?r.call(s,i,o):r(i,o)):gu(t,u+2)}(Oe(),Ae(),t,e,n,r,i)}function gu(t,e){const n=t[e];return n===Nr?void 0:n}const yu=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,o=t=>null,s=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(o=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(s=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(o=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(s=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const u=super.subscribe(r,o,s);return t instanceof i.a&&t.add(u),u}};function vu(){return this._results[xo()]()}class mu{constructor(){this.dirty=!0,this._results=[],this.changes=new yu,this.length=0;const t=xo(),e=mu.prototype;e[t]||(e[t]=vu)}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t){this._results=function t(e,n){void 0===n&&(n=e);for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class bu{constructor(t){this.queryList=t,this.matches=null}clone(){return new bu(this.queryList)}setDirty(){this.queryList.setDirty()}}class wu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new wu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==Au(t,e).matches&&this.queries[e].setDirty()}}class _u{constructor(t,e,n,r=null){this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}class Ou{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new Ou(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class Eu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new Eu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&3===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,Iu(e,i)),this.matchTNodeWithReadOption(t,e,wn(e,t,i,!1,!1))}else n===tu?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,wn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===As||r===nu||r===tu&&0===e.type)this.addMatch(e.index,-2);else{const n=wn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function Iu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function Su(t,e,n,r){return-1===n?function(t,e){return 2===t.type||3===t.type?Zi(As,t,e):0===t.type?Qi(tu,As,t,e):null}(e,t):-2===n?function(t,e,n){return n===As?Zi(As,e,t):n===tu?Qi(tu,As,e,t):n===nu?Yi(nu,As,e,t):void 0}(t,e,r):_n(t,t[1],n,e)}function Cu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,o=n.matches,s=[];for(let t=0;t<o.length;t+=2){const i=o[t];s.push(i<0?null:Su(e,r[i],o[t+1],n.metadata.read))}i.matches=s}return i.matches}function Tu(t){const e=Oe(),n=Ee(),r=De();Re(r+1);const i=Au(n,r);if(t.dirty&&ge(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{const o=i.crossesNgTemplate?function t(e,n,r,i){const o=e.queries.getByIndex(r),s=o.matches;if(null!==s){const u=Cu(e,n,o,r);for(let e=0;e<s.length;e+=2){const r=s[e];if(r>0)i.push(u[e/2]);else{const o=s[e+1],u=n[-r];for(let e=Ft;e<u.length;e++){const n=u[e];n[17]===n[3]&&t(n[1],n,o,i)}if(null!==u[9]){const e=u[9];for(let n=0;n<e.length;n++){const r=e[n];t(r[1],r,o,i)}}}}}return i}(n,e,r,[]):Cu(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function xu(t,e,n,r){!function(t,e,n,r,i,o,s,u){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Ou),t.queries.track(new Eu(e,n))}(t,new _u(n,r,false,i),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,u)),function(t,e){const n=new mu;ri(t,e,n,n.destroy),null===e[19]&&(e[19]=new wu),e[19].queries.push(new bu(n))}(t,e)}(Ee(),Oe(),e,n,r,0,Se(),t)}function ju(){return t=Oe(),e=De(),t[19].queries[e].queryList;var t,e}function Au(t,e){return t.queries.getByIndex(e)}function ku(t=O.Default){const e=Xi(!0);if(null!=e||t&O.Optional)return e;Yt("ChangeDetectorRef")}const Nu=new X("Application Initializer");let Pu=(()=>{class t{constructor(t){this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();zo(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(lt(Nu,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Du=new X("AppId"),Ru={provide:Du,useFactory:function(){return`${Vu()}${Vu()}${Vu()}`},deps:[]};function Vu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Lu=new X("Platform Initializer"),Mu=new X("Platform ID"),Uu=new X("appBootstrapListener");let Fu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const qu=new X("LocaleId"),Hu=new X("DefaultCurrencyCode");class zu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Bu=function(t){return new fu(t)},Gu=Bu,$u=function(t){return Promise.resolve(Bu(t))},Ku=function(t){const e=Bu(t),n=Qt(Mt(t).declarations).reduce((t,e)=>{const n=Vt(e);return n&&t.push(new au(n)),t},[]);return new zu(e,n)},Wu=Ku,Ju=function(t){return Promise.resolve(Ku(t))};let Zu=(()=>{class t{constructor(){this.compileModuleSync=Gu,this.compileModuleAsync=$u,this.compileModuleAndAllComponentsSync=Wu,this.compileModuleAndAllComponentsAsync=Ju}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();const Qu=(()=>Promise.resolve(0))();function Yu(t){"undefined"==typeof Zone?Qu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Xu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yu(!1),this.onMicrotaskEmpty=new yu(!1),this.onStable=new yu(!1),this.onError=new yu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.wtfZoneSpec&&(n._inner=n._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=e,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let t=G.requestAnimationFrame,e=G.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=!!t.shouldCoalesceEventChangeDetection&&t.nativeRequestAnimationFrame&&(()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(G,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,ra(t),na(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),ra(t))}(t)});t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:e},onInvokeTask:(n,r,i,o,s,u)=>{try{return ia(t),n.invokeTask(i,o,s,u)}finally{e&&"eventTask"===o.type&&e(),oa(t)}},onInvoke:(e,n,r,i,o,s,u)=>{try{return ia(t),e.invoke(r,i,o,s,u)}finally{oa(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,ra(t),na(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Xu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Xu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,ea,ta,ta);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}function ta(){}const ea={};function na(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ra(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function ia(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function oa(t){t._nesting--,na(t)}class sa{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yu,this.onMicrotaskEmpty=new yu,this.onStable=new yu,this.onError=new yu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let ua=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Xu.assertNotInAngularZone(),Yu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Yu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(lt(Xu))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})(),aa=(()=>{class t{constructor(){this._applications=new Map,fa.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return fa.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();class ca{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function la(t){fa=t}let ha,fa=new ca;const da=new X("AllowMultipleToken");class pa{constructor(t,e){this.name=t,this.token=e}}function ga(t,e,n=[]){const r="Platform: "+e,i=new X(r);return(e=[])=>{let o=ya();if(!o||o.injector.get(da,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ro,useValue:"platform"});!function(t){if(ha&&!ha.destroyed&&!ha.injector.get(da,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ha=t.get(va);const e=t.get(Lu,null);e&&e.forEach(t=>t())}(mo.create({providers:t,name:r}))}return function(t){const e=ya();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ya(){return ha&&!ha.destroyed?ha:null}let va=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new sa:("zone.js"===t?void 0:t)||new Xu({enableLongStackTrace:Kn(),shouldCoalesceEventChangeDetection:e}),n}(e?e.ngZone:void 0,e&&e.ngZoneEventCoalescing||!1),r=[{provide:Xu,useValue:n}];return n.run(()=>{const e=mo.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),o=i.injector.get(An,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return i.onDestroy(()=>wa(this._modules,i)),n.runOutsideAngular(()=>n.onError.subscribe({next:t=>{o.handleError(t)}})),function(t,e,n){try{const r=n();return zo(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(o,n,()=>{const t=i.injector.get(Pu);return t.runInitializers(),t.donePromise.then(()=>(ms(i.injector.get(qu,ys)||ys),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=ma({},e);return function(t,e,n){const r=new fu(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(ba);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${R(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(lt(mo))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function ma(t,e){return Array.isArray(e)?e.reduce(ma,t):Object.assign(Object.assign({},t),e)}let ba=(()=>{class t{constructor(t,e,n,r,i,u){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=u,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Kn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new o.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Xu.assertNotInAngularZone(),Yu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Xu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(s.a)(c,l.pipe(t=>{return a()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ts?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(pt),i=n.create(mo.NULL,[],e||n.selector,r);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(ua,null);return o&&i.injector.get(aa).registerApplication(i.location.nativeElement,o),this._loadComponent(i),Kn()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges();if(this._enforceNoNewChanges)for(let t of this._views)t.checkNoChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;wa(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Uu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}_unloadComponent(t){this.detachView(t.hostView),wa(this.components,t)}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy())}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(lt(Xu),lt(Fu),lt(mo),lt(An),lt(js),lt(Pu))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function wa(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class _a{}class Oa{}const Ea={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Ia=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Ea}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>Sa(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Sa(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(lt(Zu),lt(Oa,8))},t.\u0275prov=S({token:t,factory:t.\u0275fac}),t})();function Sa(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Ca=function(t){return null},Ta=ga(null,"core",[{provide:Mu,useValue:"unknown"},{provide:va,deps:[mo]},{provide:aa,deps:[]},{provide:Fu,deps:[]}]),xa=[{provide:ba,useClass:ba,deps:[Xu,Fu,mo,An,js,Pu]},{provide:uu,deps:[Xu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Pu,useClass:Pu,deps:[[new b,Nu]]},{provide:Zu,useClass:Zu,deps:[]},Ru,{provide:Js,useFactory:function(){return Ys},deps:[]},{provide:Zs,useFactory:function(){return Xs},deps:[]},{provide:qu,useFactory:function(t){return ms(t=t||"undefined"!=typeof $localize&&$localize.locale||ys),t},deps:[[new m(qu),new b,new _]]},{provide:Hu,useValue:"USD"}];let ja=(()=>{class t{constructor(t){}}return t.\u0275mod=kt({type:t}),t.\u0275inj=C({factory:function(e){return new(e||t)(lt(ba))},providers:xa}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("2fFW"),i=n("NJ4a");const o={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n("HDdC"),i=n("quSY");function o(t,e){return new r.a(n=>{const r=new i.a;let o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(t,e))}}class o{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new s(t,this.project,this.thisArg))}}class s extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},ngJS:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",(function(){return a})),n.d(e,"a",(function(){return l}));var r=n("7o/Q"),i=n("EY2u"),o=n("LRne"),s=n("HDdC");let u=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return t=this.error,new s.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function a(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(u.createNext(t))}_error(t){this.scheduleMessage(u.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(u.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,u=o.length;s<u;s++,i++)r[i]=o[s];return r}var i;n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return h})),n.d(e,"c",(function(){return f})),n.d(e,"d",(function(){return d}));var o=[],s=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),u={debug:s.DEBUG,verbose:s.VERBOSE,info:s.INFO,warn:s.WARN,error:s.ERROR,silent:s.SILENT},a=s.INFO,c=((i={})[s.DEBUG]="log",i[s.VERBOSE]="log",i[s.INFO]="info",i[s.WARN]="warn",i[s.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),s=c[e];if(!s)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[s].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in s))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?u[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.DEBUG],t)),this._logHandler.apply(this,r([this,s.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.VERBOSE],t)),this._logHandler.apply(this,r([this,s.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.INFO],t)),this._logHandler.apply(this,r([this,s.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.WARN],t)),this._logHandler.apply(this,r([this,s.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,s.ERROR],t)),this._logHandler.apply(this,r([this,s.ERROR],t))},t}();function f(t){o.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=u[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var u=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:s[n].toLowerCase(),message:u,args:i,type:e.name})}},r=0,i=o;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return w})),n.d(e,"c",(function(){return b})),n.d(e,"d",(function(){return m})),n.d(e,"e",(function(){return T})),n.d(e,"f",(function(){return E})),n.d(e,"g",(function(){return I})),n.d(e,"h",(function(){return i})),n.d(e,"i",(function(){return o})),n.d(e,"j",(function(){return u})),n.d(e,"k",(function(){return l})),n.d(e,"l",(function(){return h})),n.d(e,"m",(function(){return d})),n.d(e,"n",(function(){return p})),n.d(e,"o",(function(){return y})),n.d(e,"p",(function(){return a})),n.d(e,"q",(function(){return c})),n.d(e,"r",(function(){return f})),n.d(e,"s",(function(){return g})),n.d(e,"t",(function(){return v}));var r=n("30Go");function i(t){return o(void 0,t)}function o(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=o(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function u(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function a(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return u().indexOf("Electron/")>=0}function p(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function g(){return u().indexOf("MSAppHost/")>=0}function y(){return"indexedDB"in self&&null!=indexedDB}function v(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(o){e(o)}}))}function m(){return!(!navigator||!navigator.cookieEnabled)}var b=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,w.prototype.create),o}return Object(r.c)(e,t),e}(Error),w=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?_(o,r):"Error",u=this.serviceName+": "+s+" ("+i+").",a=new b(i,u,r);return a},t}();function _(t,e){return t.replace(O,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var O=/\{\$([^}]+)}/g;function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function I(t,e){var n=new S(t,e);return n.subscribe.bind(n)}var S=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function C(){}function T(t,e,n){void 0===e&&(e=1e3),void 0===n&&(n=2);var r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}},qgXg:function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return a}));var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var o=n("IjjT");class s extends o.a{}const u=new s(i),a=u},quSY:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n("DH7j"),i=n("XoHu"),o=n("n6bG");const s=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let u=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:u,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(o.a)(c)){u&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?a(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(a(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function a(t){return t.reduce((t,e)=>t.concat(e instanceof s?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return T})),n.d(e,"b",(function(){return b})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return w})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return v})),n.d(e,"g",(function(){return S})),n.d(e,"h",(function(){return O})),n.d(e,"i",(function(){return p})),n.d(e,"j",(function(){return y})),n.d(e,"k",(function(){return E}));var r=n("qgXg"),i=n("D0XW"),o=n("vkgz"),s=n("tf+s"),u=n("pxpQ"),a=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule((function(e){r.runGuarded(()=>{t.apply(this,[e])})}),e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(o.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.a))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(s.a)(t.outsideAngular),Object(u.b)(t.insideAngular))}}const g=["ngOnDestroy"],y=(t,e,n,r={})=>new Proxy(t,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(t[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,t[o]),t[o];if(g.indexOf(o)>-1)return()=>{};const s=e.toPromise().then(t=>{const e=t&&t[o];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>s[e],apply:(t,e,n)=>s.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(o,n,i),i})})})}),v=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},m=new a.q("angularfire2.app.options"),b=new a.q("angularfire2.app.nameOrConfig");class w{}const _=new a.O("6.1.4");function O(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const o=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(o.options)&&I("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(s){}return o}const E=()=>{I("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},I=(t,...e)=>{Object(a.U)()&&"undefined"!=typeof console&&console[t](...e)};function S(e,n,r,i,o){const[s,...u]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(s){try{o.some((t,e)=>{const n=u[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&I("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(a){}return s}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...o]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const C={provide:w,useFactory:O,deps:[m,a.z,[new a.A,b]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",a.N.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:m,useValue:e},{provide:b,useValue:n}]}}}return t.\u0275mod=a.Gb({type:t}),t.\u0275inj=a.Fb({factory:function(e){return new(e||t)(a.Pb(a.B))},providers:[C]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var r=n("HDdC");let i=1;const o=(()=>Promise.resolve())(),s={};function u(t){return t in s&&(delete s[t],!0)}const a={setImmediate(t){const e=i++;return s[e]=!0,o.then(()=>u(e)&&t()),e},clearImmediate(t){u(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=a.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(a.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("DH7j");class g extends r.a{constructor(t,e=0,n=d){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,r=e,(Object(p.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new g(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(g.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function y(t,e=0){return function(n){return n.lift(new v(t,e))}}class v{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new g(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("7o/Q");function i(){}var o=n("n6bG");function s(t,e,n){return function(r){return r.lift(new u(t,e,n))}}class u{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new a(t,this.nextOrObserver,this.error,this.complete))}}class a extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(o.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n("HDdC"),i=n("ngJS"),o=n("jZKg");function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},zIRd:function(t,e,n){"use strict";var r,i,o=n("30Go"),s=n("qOnz"),u=n("/6Yf"),a=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new s.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new a.b("@firebase/app"),g=function(){function t(t,e,n){var r,i,a=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(s.h)(t),this.container=new u.b(e.name),this._addComponent(new u.a("app",(function(){return a}),"PUBLIC"));try{for(var c=Object(o.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();g.prototype.name&&g.prototype.options||g.prototype.delete||console.log("dc");var y=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var u=o.name;if("string"!=typeof u||!u)throw l.create("bad-app-name",{appName:String(u)});if(Object(s.f)(e,u))throw l.create("duplicate-app",{appName:u});var a=new t(n,o,r);return e[u]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){var a=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&a.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&s&&a.push("and"),s&&a.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(a.join(" "))}c(new u.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:a.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(a.d)(t,e)},apps:null,SDK_VERSION:"8.0.1",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(s.f)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(u){var a,c,h=u.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===u.type?r[h]:null;if(n.set(h,u),"PUBLIC"===u.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==u.serviceProps&&Object(s.i)(f,u.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,u.multipleInstances?t:[])}}try{for(var d=Object(o.h)(Object.keys(e)),g=d.next();!g.done;g=d.next())e[g.value]._addComponent(u)}catch(y){a={error:y}}finally{try{g&&!g.done&&(c=d.return)&&c.call(d)}finally{if(a)throw a.error}}return"PUBLIC"===u.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(g);return e.INTERNAL=Object(o.a)(Object(o.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(s.i)(e,t)},createSubscribe:s.g,ErrorFactory:s.b,deepExtend:s.i}),e}(),v=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(s.k)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=y.initializeApp;y.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(s.q)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=y;!function(t,e){t.INTERNAL.registerComponent(new u.a("platform-logger",(function(t){return new v(t)}),"PRIVATE")),t.registerVersion(h,"0.6.13",void 0),t.registerVersion("fire-js","")}(w),e.a=w},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");const i={apiKey:"AIzaSyAp5LiWpDexp7IKwy0hQ9i6HOud1MMTkfg",authDomain:"firechat-8a5e3.firebaseapp.com",projectId:"firechat-8a5e3",storageBucket:"firechat-8a5e3.appspot.com",messagingSenderId:"298593796766",appId:"1:298593796766:web:3b9452763fdfea3975f18f",measurementId:"G-KBP3EL6NHN"};let o=null;function s(){return o}const u=new r.q("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:c,token:t,providedIn:"platform"}),t})();function c(){return Object(r.Pb)(h)}const l=new r.q("Location Initialized");let h=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){f()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){f()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=Object(r.Eb)({factory:d,token:t,providedIn:"platform"}),t})();function f(){return!!window.history.pushState}function d(){return new h(Object(r.Pb)(u))}function p(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function g(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function y(t){return t&&"?"!==t[0]?"?"+t:t}let v=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Eb)({factory:m,token:t,providedIn:"root"}),t})();function m(t){const e=Object(r.Pb)(u).location;return new w(Object(r.Pb)(a),e&&e.origin||"")}const b=new r.q("appBaseHref");let w=(()=>{class t extends v{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return p(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+y(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+y(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a),r.Pb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends v{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=p(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+y(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(a),r.Pb(b,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),O=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=g(I(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+y(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,I(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+y(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(v),r.Pb(a))},t.normalizeQueryParams=y,t.joinWithSlash=p,t.stripTrailingSlash=g,t.\u0275prov=Object(r.Eb)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new O(Object(r.Pb)(v),Object(r.Pb)(a))}function I(t){return t.replace(/\/index.html$/,"")}var S=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const C=r.lb;class T{}let x=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(C(e||this.locale)(t)){case S.Zero:return"zero";case S.One:return"one";case S.Two:return"two";case S.Few:return"few";case S.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),j=(()=>{class t{constructor(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Object(r.ob)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachChangedItem(t=>this._toggleClass(t.key,t.currentValue)),t.forEachRemovedItem(t=>{t.previousValue&&this._toggleClass(t.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(t=>{if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Object(r.tb)(t.item));this._toggleClass(t.item,!0)}),t.forEachRemovedItem(t=>this._toggleClass(t.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!0)):Object.keys(t).forEach(e=>this._toggleClass(e,!!t[e])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(t=>this._toggleClass(t,!1)):Object.keys(t).forEach(t=>this._toggleClass(t,!1)))}_toggleClass(t,e){(t=t.trim())&&t.split(/\s+/g).forEach(t=>{e?this._renderer.addClass(this._ngEl.nativeElement,t):this._renderer.removeClass(this._ngEl.nativeElement,t)})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.s),r.Ib(r.t),r.Ib(r.l),r.Ib(r.D))},t.\u0275dir=r.Db({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t})();class A{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let k=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){Object(r.U)()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(t)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new A(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new N(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new N(t,i);e.push(o)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K),r.Ib(r.s))},t.\u0275dir=r.Db({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class N{constructor(t,e){this.record=t,this.view=e}}let P=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new D,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){R("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){R("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.P),r.Ib(r.K))},t.\u0275dir=r.Db({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class D{constructor(){this.$implicit=null,this.ngIf=null}}function R(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.tb)(e)}'.`)}let V=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[{provide:T,useClass:x}]}),t})();function L(t){return"browser"===t}function M(t){return"server"===t}let U=(()=>{class t{}return t.\u0275prov=Object(r.Eb)({token:t,providedIn:"root",factory:()=>new F(Object(r.Pb)(u),window,Object(r.Pb)(r.m))}),t})();class F{constructor(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(this.supportsScrolling()){const e=this.document.getElementById(t)||this.document.getElementsByName(t)[0];e&&this.scrollToElement(e)}}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const t=q(this.window.history)||q(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(t){return!1}}}function q(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class H extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new H,o||(o=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=B||(B=document.querySelector("base"),B)?B.getAttribute("href"):null;return null==e?null:(n=e,z||(z=document.createElement("a")),z.setAttribute("href",n),"/"===z.pathname.charAt(0)?z.pathname:"/"+z.pathname);var n}resetBaseElement(){B=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let z,B=null;const G=new r.q("TRANSITION_ID"),$=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[G,u,r.r],multi:!0}];class K{static init(){Object(r.W)(new K)}addToWindow(t){r.nb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.nb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.nb.getAllAngularRootElements=()=>t.getAllRootElements(),r.nb.frameworkStabilizers||(r.nb.frameworkStabilizers=[]),r.nb.frameworkStabilizers.push(t=>{const e=r.nb.getAllAngularTestabilities();let n=e.length,i=!1;const o=function(e){i=i||e,n--,0==n&&t(i)};e.forEach((function(t){t.whenStable(o)}))})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const W=new r.q("EventManagerPlugins");let J=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error("No event manager plugin found for event "+t)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(W),r.Pb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class Z{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let Q=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Y=(()=>{class t extends Q{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const X={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},tt=/%COMP%/g;function et(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?et(t,i,n):(i=i.replace(tt,t),n.push(i))}return n}function nt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let rt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new it(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.Q.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ot(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case r.Q.Native:case r.Q.ShadowDom:return new st(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=et(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(J),r.Pb(Y),r.Pb(r.c))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();class it{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(X[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=X[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=X[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&r.F.DashCase?t.style.setProperty(e,n,i&r.F.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.F.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,nt(n)):this.eventManager.addEventListener(t,e,nt(n))}}class ot extends it{constructor(t,e,n,r){super(t),this.component=n;const i=et(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(tt,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(tt,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class st extends it{constructor(t,e,n,i){super(t),this.sharedStylesHost=e,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===r.Q.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const o=et(i.id,i.styles,[]);for(let r=0;r<o.length;r++){const t=document.createElement("style");t.textContent=o[r],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let ut=(()=>{class t extends Z{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const at=["alt","control","meta","shift"],ct={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},lt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ht={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ft=(()=>{class t extends Z{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let o="";if(at.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),o+=t+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&lt.hasOwnProperty(e)&&(e=lt[e]))}return ct[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),at.forEach(r=>{r!=n&&(0,ht[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const dt=[{provide:r.B,useValue:"browser"},{provide:r.C,useValue:function(){H.makeCurrent(),K.init()},multi:!0},{provide:u,useFactory:function(){return Object(r.sb)(document),document},deps:[]}],pt=Object(r.R)(r.V,"browser",dt),gt=[[],{provide:r.Y,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:W,useClass:ut,multi:!0,deps:[u,r.z,r.B]},{provide:W,useClass:ft,multi:!0,deps:[u]},[],{provide:rt,useClass:rt,deps:[J,Y,r.c]},{provide:r.E,useExisting:rt},{provide:Q,useExisting:Y},{provide:Y,useClass:Y,deps:[u]},{provide:r.L,useClass:r.L,deps:[r.z]},{provide:J,useClass:J,deps:[W,r.z]},[]];let yt=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:G,useExisting:r.c},$]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(t,12))},providers:gt,imports:[V,r.f]}),t})();function vt(){return new mt(Object(r.Pb)(u))}let mt=(()=>{class t{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(u))},t.\u0275prov=Object(r.Eb)({factory:vt,token:t,providedIn:"root"}),t})();"undefined"!=typeof window&&window;var bt=n("LRne"),wt=n("Cfvw"),_t=n("XNiG"),Ot=n("9ppp");class Et extends _t.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Ot.a;return this._value}next(t){super.next(this._value=t)}}var It=n("z+Ro"),St=n("DH7j"),Ct=n("7o/Q");class Tt extends Ct.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class xt extends Ct.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var jt=n("SeVD"),At=n("HDdC");function kt(t,e,n,r,i=new xt(t,n,r)){if(!i.closed)return e instanceof At.a?e.subscribe(i):Object(jt.a)(e)(i)}var Nt=n("yCtX");const Pt={};class Dt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Rt(t,this.resultSelector))}}class Rt extends Tt{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Pt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(kt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Pt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Vt=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var Lt=n("EY2u");function Mt(t){return new At.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(wt.a)(n):Object(Lt.b)()).subscribe(e)})}var Ut=n("lJxs"),Ft=n("bHdf");function qt(){return Object(Ft.a)(1)}function Ht(t,e){return function(n){return n.lift(new zt(t,e))}}class zt{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Bt(t,this.predicate,this.thisArg))}}class Bt extends Ct.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}const Gt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function $t(t){return function(e){return 0===t?Object(Lt.b)():e.lift(new Kt(t))}}class Kt{constructor(t){if(this.total=t,this.total<0)throw new Gt}call(t,e){return e.subscribe(new Wt(t,this.total))}}class Wt extends Ct.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function Jt(t=Yt){return e=>e.lift(new Zt(t))}class Zt{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Qt(t,this.errorFactory))}}class Qt extends Ct.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(Rm){t=Rm}this.destination.error(t)}}}function Yt(){return new Vt}function Xt(t=null){return e=>e.lift(new te(t))}class te{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new ee(t,this.defaultValue))}}class ee extends Ct.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var ne=n("SpAZ"),re=n("zx2A");function ie(t,e){return"function"==typeof e?n=>n.pipe(ie((n,r)=>Object(wt.a)(t(n,r)).pipe(Object(Ut.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new oe(t))}class oe{constructor(t){this.project=t}call(t,e){return e.subscribe(new se(t,this.project))}}class se extends re.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new re.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(re.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}function ue(t){return e=>0===t?Object(Lt.b)():e.lift(new ae(t))}class ae{constructor(t){if(this.total=t,this.total<0)throw new Gt}call(t,e){return e.subscribe(new ce(t,this.total))}}class ce extends Ct.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function le(...t){return qt()(Object(bt.a)(...t))}function he(...t){const e=t[t.length-1];return Object(It.a)(e)?(t.pop(),n=>le(t,n,e)):e=>le(t,e)}function fe(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new de(t,e,n))}}class de{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new pe(t,this.accumulator,this.seed,this.hasSeed))}}class pe extends Ct.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ge(t){return function(e){const n=new ye(t),r=e.lift(n);return n.caught=r}}class ye{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ve(t,this.selector,this.caught))}}class ve extends re.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new re.a(this);this.add(r);const i=Object(re.c)(n,r);i!==r&&this.add(i)}}}var me=n("5+tZ");function be(t,e){return Object(me.a)(t,e,1)}function we(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ht((e,n)=>t(e,n,r)):ne.a,ue(1),n?Xt(e):Jt(()=>new Vt))}var _e=n("vkgz"),Oe=n("quSY");class Ee{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ie(t,this.callback))}}class Ie extends Ct.a{constructor(t,e){super(t),this.add(new Oe.a(e))}}class Se{constructor(t,e){this.id=t,this.url=e}}class Ce extends Se{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Te extends Se{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class xe extends Se{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class je extends Se{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ae extends Se{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ke extends Se{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ne extends Se{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Pe extends Se{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class De extends Se{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Re{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ve{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Le{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Me{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ue{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fe{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qe{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const He="primary";class ze{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Be(t){return new ze(t)}function Ge(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function $e(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let o=0;o<r.length;o++){const e=r[o],n=t[o];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ke(t,e){const n=Object.keys(t),r=Object.keys(e);if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!We(t[i],e[i]))return!1;return!0}function We(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Je(t){return Array.prototype.concat.apply([],t)}function Ze(t){return t.length>0?t[t.length-1]:null}function Qe(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Ye(t){return Object(r.pb)(t)?t:Object(r.qb)(t)?Object(wt.a)(Promise.resolve(t)):Object(bt.a)(t)}function Xe(t,e,n){return n?function(t,e){return Ke(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!rn(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>We(t[n],e[n]))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!rn(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!rn(n.segments,i))return!1;for(const e in r.children){if(!n.children[e])return!1;if(!t(n.children[e],r.children[e]))return!1}return!0}{const t=i.slice(0,n.segments.length),o=i.slice(n.segments.length);return!!rn(n.segments,t)&&!!n.children.primary&&e(n.children.primary,r,o)}}(e,n,n.segments)}(t.root,e.root)}class tn{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Be(this.queryParams)),this._queryParamMap}toString(){return an.serialize(this)}}class en{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Qe(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cn(this)}}class nn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Be(this.parameters)),this._parameterMap}toString(){return gn(this)}}function rn(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}function on(t,e){let n=[];return Qe(t.children,(t,r)=>{r===He&&(n=n.concat(e(t,r)))}),Qe(t.children,(t,r)=>{r!==He&&(n=n.concat(e(t,r)))}),n}class sn{}class un{parse(t){const e=new wn(t);return new tn(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${"/"+function t(e,n){if(!e.hasChildren())return cn(e);if(n){const n=e.children.primary?t(e.children.primary,!1):"",r=[];return Qe(e.children,(e,n)=>{n!==He&&r.push(`${n}:${t(e,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=on(e,(n,r)=>r===He?[t(e.children.primary,!1)]:[`${r}:${t(n,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${cn(e)}/${n[0]}`:`${cn(e)}/(${n.join("//")})`}}(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${hn(e)}=${hn(t)}`).join("&"):`${hn(e)}=${hn(n)}`});return e.length?"?"+e.join("&"):""}(t.queryParams)}${"string"==typeof t.fragment?"#"+encodeURI(t.fragment):""}`}}const an=new un;function cn(t){return t.segments.map(t=>gn(t)).join("/")}function ln(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function hn(t){return ln(t).replace(/%3B/gi,";")}function fn(t){return ln(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dn(t){return decodeURIComponent(t)}function pn(t){return dn(t.replace(/\+/g,"%20"))}function gn(t){return`${fn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${fn(t)}=${fn(e[t])}`).join("")}`;var e}const yn=/^[^\/()?;=#]+/;function vn(t){const e=t.match(yn);return e?e[0]:""}const mn=/^[^=?&#]+/,bn=/^[^?&#]+/;class wn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new en([],{}):new en([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new en(t,e)),n}parseSegment(){const t=vn(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new nn(dn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=vn(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=vn(this.remaining);t&&(n=t,this.capture(n))}t[dn(e)]=dn(n)}parseQueryParam(t){const e=function(t){const e=t.match(mn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(bn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=pn(e),i=pn(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=vn(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=He);const o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new en([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class _n{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=On(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=On(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=En(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return En(t,this._root).map(t=>t.value)}}function On(t,e){if(t===e.value)return e;for(const n of e.children){const e=On(t,n);if(e)return e}return null}function En(t,e){if(t===e.value)return[e];for(const n of e.children){const r=En(t,n);if(r.length)return r.unshift(e),r}return[]}class In{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Sn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Cn extends _n{constructor(t,e){super(t),this.snapshot=e,Nn(this,t)}toString(){return this.snapshot.toString()}}function Tn(t,e){const n=function(t,e){const n=new An([],{},{},"",{},He,e,null,t.root,-1,{});return new kn("",new In(n,[]))}(t,e),r=new Et([new nn("",{})]),i=new Et({}),o=new Et({}),s=new Et({}),u=new Et(""),a=new xn(r,i,s,u,o,He,e,n.root);return a.snapshot=n.root,new Cn(new In(a,[]),n)}class xn{constructor(t,e,n,r,i,o,s,u){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=u}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Ut.a)(t=>Be(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Ut.a)(t=>Be(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function jn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class An{constructor(t,e,n,r,i,o,s,u,a,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=u,this._urlSegment=a,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Be(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Be(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class kn extends _n{constructor(t,e){super(e),this.url=t,Nn(this,e)}toString(){return Pn(this._root)}}function Nn(t,e){e.value._routerState=t,e.children.forEach(e=>Nn(t,e))}function Pn(t){const e=t.children.length>0?` { ${t.children.map(Pn).join(", ")} } `:"";return`${t.value}${e}`}function Dn(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ke(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ke(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ke(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ke(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Rn(t,e){return Ke(t.params,e.params)&&function(t,e){return rn(t,e)&&t.every((t,n)=>Ke(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||Rn(t.parent,e.parent))}function Vn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Ln(t){return"object"==typeof t&&null!=t&&t.outlets}function Mn(t,e,n,r,i){let o={};return r&&Qe(r,(t,e)=>{o[e]=Array.isArray(t)?t.map(t=>""+t):""+t}),new tn(n.root===t?e:function t(e,n,r){const i={};return Qe(e.children,(e,o)=>{i[o]=e===n?r:t(e,n,r)}),new en(e.segments,i)}(n.root,t,e),o,i)}class Un{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Vn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Ln);if(r&&r!==Ze(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function qn(t,e,n){if(t||(t=new en([],{})),0===t.segments.length&&t.hasChildren())return Hn(t,e,n);const r=function(t,e,n){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;const e=t.segments[i],s=n[r];if(Ln(s))break;const u=""+s,a=r<n.length-1?n[r+1]:null;if(i>0&&void 0===u)break;if(u&&a&&"object"==typeof a&&void 0===a.outlets){if(!$n(u,a,e))return o;r+=2}else{if(!$n(u,{},e))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new en(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new en(t.segments.slice(r.pathIndex),t.children),Hn(e,0,i)}return r.match&&0===i.length?new en(t.segments,{}):r.match&&!t.hasChildren()?zn(t,e,n):r.match?Hn(t,0,i):zn(t,e,n)}function Hn(t,e,n){if(0===n.length)return new en(t.segments,{});{const r=function(t){return Ln(t[0])?t[0].outlets:{[He]:t}}(n),i={};return Qe(r,(n,r)=>{null!==n&&(i[r]=qn(t.children[r],e,n))}),Qe(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new en(t.segments,i)}}function zn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const o=n[i];if(Ln(o)){const t=Bn(o.outlets);return new en(r,t)}if(0===i&&Vn(n[0])){r.push(new nn(t.segments[e].path,n[0])),i++;continue}const s=Ln(o)?o.outlets.primary:""+o,u=i<n.length-1?n[i+1]:null;s&&u&&Vn(u)?(r.push(new nn(s,Gn(u))),i+=2):(r.push(new nn(s,{})),i++)}return new en(r,{})}function Bn(t){const e={};return Qe(t,(t,n)=>{null!==t&&(e[n]=zn(new en([],{}),0,t))}),e}function Gn(t){const e={};return Qe(t,(t,n)=>e[n]=""+t),e}function $n(t,e,n){return t==n.path&&Ke(e,n.parameters)}class Kn{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Dn(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Sn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),Qe(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet);if(n){const r=Sn(t),i=t.value.component?n.children:e;Qe(r,(t,e)=>this.deactivateRouteAndItsChildren(t,i)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(t,e,n){const r=Sn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new Fe(t.value.snapshot))}),t.children.length&&this.forwardEvent(new Me(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Dn(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),Wn(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function Wn(t){Dn(t.value),t.children.forEach(Wn)}class Jn{constructor(t,e){this.routes=t,this.module=e}}function Zn(t){return"function"==typeof t}function Qn(t){return t instanceof tn}const Yn=Symbol("INITIAL_VALUE");function Xn(){return ie(t=>function(...t){let e=void 0,n=void 0;return Object(It.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(St.a)(t[0])&&(t=t[0]),Object(Nt.a)(t,n).lift(new Dt(e))}(...t.map(t=>t.pipe(ue(1),he(Yn)))).pipe(fe((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==Yn)return t;if(r===Yn&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||Qn(r))return r}return t},t)},Yn),Ht(t=>t!==Yn),Object(Ut.a)(t=>Qn(t)?t:!0===t),ue(1)))}class tr{constructor(t){this.segmentGroup=t||null}}class er{constructor(t){this.urlTree=t}}function nr(t){return new At.a(e=>e.error(new tr(t)))}function rr(t){return new At.a(e=>e.error(new er(t)))}function ir(t){return new At.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class or{constructor(t,e,n,i,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(r.x)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,He).pipe(Object(Ut.a)(t=>this.createUrlTree(t,this.urlTree.queryParams,this.urlTree.fragment))).pipe(ge(t=>{if(t instanceof er)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof tr)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,He).pipe(Object(Ut.a)(e=>this.createUrlTree(e,t.queryParams,t.fragment))).pipe(ge(t=>{if(t instanceof tr)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new en([],{[He]:t}):t;return new tn(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Ut.a)(t=>new en([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){return function(t,e){if(0===Object.keys(t).length)return Object(bt.a)({});const n=[],r=[],i={};return Qe(t,(t,o)=>{const s=e(o,t).pipe(Object(Ut.a)(t=>i[o]=t));o===He?n.push(s):r.push(s)}),bt.a.apply(null,n.concat(r)).pipe(qt(),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Ht((e,n)=>t(e,n,r)):ne.a,$t(1),n?Xt(e):Jt(()=>new Vt))}(),Object(Ut.a)(()=>i))}(n.children,(n,r)=>this.expandSegmentGroup(t,e,r,n))}expandSegment(t,e,n,r,i,o){return Object(bt.a)(...n).pipe(be(s=>this.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(ge(t=>{if(t instanceof tr)return Object(bt.a)(null);throw t}))),we(t=>!!t),ge((t,n)=>{if(t instanceof Vt||"EmptyError"===t.name){if(this.noLeftoversInUrl(e,r,i))return Object(bt.a)(new en([],{}));throw new tr(e)}throw t}))}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}expandSegmentAgainstRoute(t,e,n,r,i,o,s){return cr(r)!==o?nr(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):nr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?rr(i):this.lineralizeSegments(n,i).pipe(Object(me.a)(n=>{const i=new en(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o){const{matched:s,consumedSegments:u,lastChild:a,positionalParamSegments:c}=sr(e,r,i);if(!s)return nr(e);const l=this.applyRedirectCommands(u,r.redirectTo,c);return r.redirectTo.startsWith("/")?rr(l):this.lineralizeSegments(r,l).pipe(Object(me.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(a)),o,!1)))}matchSegmentAgainstRoute(t,e,n,r){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Ut.a)(t=>(n._loadedConfig=t,new en(r,{})))):Object(bt.a)(new en(r,{}));const{matched:i,consumedSegments:o,lastChild:s}=sr(e,n,r);if(!i)return nr(e);const u=r.slice(s);return this.getChildConfig(t,n,r).pipe(Object(me.a)(t=>{const n=t.module,r=t.routes,{segmentGroup:i,slicedSegments:s}=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some(n=>ar(t,e,n)&&cr(n)!==He)}(t,n,r)?{segmentGroup:ur(new en(e,function(t,e){const n={};n.primary=e;for(const r of t)""===r.path&&cr(r)!==He&&(n[cr(r)]=new en([],{}));return n}(r,new en(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some(n=>ar(t,e,n))}(t,n,r)?{segmentGroup:ur(new en(t.segments,function(t,e,n,r){const i={};for(const o of n)ar(t,e,o)&&!r[cr(o)]&&(i[cr(o)]=new en([],{}));return Object.assign(Object.assign({},r),i)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,o,u,r);return 0===s.length&&i.hasChildren()?this.expandChildren(n,r,i).pipe(Object(Ut.a)(t=>new en(o,t))):0===r.length&&0===s.length?Object(bt.a)(new en(o,{})):this.expandSegment(n,i,r,s,He,!0).pipe(Object(Ut.a)(t=>new en(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(bt.a)(new Jn(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(bt.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(me.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Ut.a)(t=>(e._loadedConfig=t,t))):function(t){return new At.a(e=>e.error(Ge(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(bt.a)(new Jn([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(bt.a)(!0);const i=r.map(r=>{const i=t.get(r);let o;if(function(t){return t&&Zn(t.canLoad)}(i))o=i.canLoad(e,n);else{if(!Zn(i))throw new Error("Invalid CanLoad guard");o=i(e,n)}return Ye(o)});return Object(bt.a)(i).pipe(Xn(),Object(_e.a)(t=>{if(!Qn(t))return;const e=Ge(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Ut.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(bt.a)(n);if(r.numberOfChildren>1||!r.children.primary)return ir(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new tn(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return Qe(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let o={};return Qe(e.children,(e,i)=>{o[i]=this.createSegmentGroup(t,e,n,r)}),new en(i,o)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function sr(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const r=(e.matcher||$e)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function ur(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new en(t.segments.concat(e.segments),e.children)}return t}function ar(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function cr(t){return t.outlet||He}class lr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class hr{constructor(t,e){this.component=t,this.route=e}}function fr(t,e,n){const r=t._root;return function t(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=Sn(n);return e.children.forEach(e=>{!function(e,n,r,i,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=e.value,u=n?n.value:null,a=r?r.getContext(e.value.outlet):null;if(u&&s.routeConfig===u.routeConfig){const c=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!rn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!rn(t.url,e.url)||!Ke(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Rn(t,e)||!Ke(t.queryParams,e.queryParams);case"paramsChange":default:return!Rn(t,e)}}(u,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new lr(i)):(s.data=u.data,s._resolvedData=u._resolvedData),t(e,n,s.component?a?a.children:null:r,i,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new hr(a.outlet.component,u))}else u&&pr(n,a,o),o.canActivateChecks.push(new lr(i)),t(e,null,s.component?a?a.children:null:r,i,o)}(e,s[e.value.outlet],r,i.concat([e.value]),o),delete s[e.value.outlet]}),Qe(s,(t,e)=>pr(t,r.getContext(e),o)),o}(r,e?e._root:null,n,[r.value])}function dr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function pr(t,e,n){const r=Sn(t),i=t.value;Qe(r,(t,r)=>{pr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new hr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function gr(t,e){return null!==t&&e&&e(new Ue(t)),Object(bt.a)(!0)}function yr(t,e){return null!==t&&e&&e(new Le(t)),Object(bt.a)(!0)}function vr(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(bt.a)(!0);const i=r.map(r=>Mt(()=>{const i=dr(r,e,n);let o;if(function(t){return t&&Zn(t.canActivate)}(i))o=Ye(i.canActivate(e,t));else{if(!Zn(i))throw new Error("Invalid CanActivate guard");o=Ye(i(e,t))}return o.pipe(we())}));return Object(bt.a)(i).pipe(Xn())}function mr(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Mt(()=>{const i=e.guards.map(i=>{const o=dr(i,e.node,n);let s;if(function(t){return t&&Zn(t.canActivateChild)}(o))s=Ye(o.canActivateChild(r,t));else{if(!Zn(o))throw new Error("Invalid CanActivateChild guard");s=Ye(o(r,t))}return s.pipe(we())});return Object(bt.a)(i).pipe(Xn())}));return Object(bt.a)(i).pipe(Xn())}class br{}class wr{constructor(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){try{const t=Er(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,He),n=new An([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},He,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new In(n,e),i=new kn(this.url,r);return this.inheritParamsAndData(i._root),Object(bt.a)(i)}catch(Rm){return new At.a(e=>e.error(Rm))}}inheritParamsAndData(t){const e=t.value,n=jn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=on(e,(e,n)=>this.processSegmentGroup(t,e,n));return function(t){const e={};t.forEach(t=>{const n=e[t.value.outlet];if(n){const e=n.url.map(t=>t.toString()).join("/"),r=t.value.url.map(t=>t.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${e}' and '${r}'.`)}e[t.value.outlet]=t.value})}(n),n.sort((t,e)=>t.value.outlet===He?-1:e.value.outlet===He?1:t.value.outlet.localeCompare(e.value.outlet)),n}processSegment(t,e,n,r){for(const i of t)try{return this.processSegmentAgainstRoute(i,e,n,r)}catch(Rm){if(!(Rm instanceof br))throw Rm}if(this.noLeftoversInUrl(e,n,r))return[];throw new br}noLeftoversInUrl(t,e,n){return 0===e.length&&!t.children[n]}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo)throw new br;if((t.outlet||He)!==r)throw new br;let i,o=[],s=[];if("**"===t.path){const o=n.length>0?Ze(n).parameters:{};i=new An(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Cr(t),r,t.component,t,_r(e),Or(e)+n.length,Tr(t))}else{const u=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new br;return{consumedSegments:[],lastChild:0,parameters:{}}}const r=(e.matcher||$e)(n,t,e);if(!r)throw new br;const i={};Qe(r.posParams,(t,e)=>{i[e]=t.path});const o=r.consumed.length>0?Object.assign(Object.assign({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:o}}(e,t,n);o=u.consumedSegments,s=n.slice(u.lastChild),i=new An(o,u.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Cr(t),r,t.component,t,_r(e),Or(e)+o.length,Tr(t))}const u=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:a,slicedSegments:c}=Er(e,o,s,u,this.relativeLinkResolution);if(0===c.length&&a.hasChildren()){const t=this.processChildren(u,a);return[new In(i,t)]}if(0===u.length&&0===c.length)return[new In(i,[])];const l=this.processSegment(u,a,c,He);return[new In(i,l)]}}function _r(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Or(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Er(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some(n=>Ir(t,e,n)&&Sr(n)!==He)}(t,n,r)){const i=new en(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const o of n)if(""===o.path&&Sr(o)!==He){const n=new en([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[Sr(o)]=n}return i}(t,e,r,new en(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>Ir(t,e,n))}(t,n,r)){const o=new en(t.segments,function(t,e,n,r,i,o){const s={};for(const u of r)if(Ir(t,n,u)&&!i[Sr(u)]){const n=new en([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===o?t.segments.length:e.length,s[Sr(u)]=n}return Object.assign(Object.assign({},i),s)}(t,e,n,r,t.children,i));return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}const o=new en(t.segments,t.children);return o._sourceSegment=t,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:n}}function Ir(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Sr(t){return t.outlet||He}function Cr(t){return t.data||{}}function Tr(t){return t.resolve||{}}function xr(t){return function(e){return e.pipe(ie(e=>{const n=t(e);return n?Object(wt.a)(n).pipe(Object(Ut.a)(()=>e)):Object(wt.a)([e])}))}}class jr extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}let Ar=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Cb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Jb(0,"router-outlet")},directives:function(){return[Br]},encapsulation:2}),t})();function kr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];Nr(r,Pr(e,r))}}function Nr(t,e){if(!t)throw new Error(`\n      Invalid configuration of route '${e}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(t))throw new Error(`Invalid configuration of route '${e}': Array cannot be specified`);if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==He)throw new Error(`Invalid configuration of route '${e}': a componentless route without children or loadChildren cannot have a named outlet set`);if(t.redirectTo&&t.children)throw new Error(`Invalid configuration of route '${e}': redirectTo and children cannot be used together`);if(t.redirectTo&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': redirectTo and loadChildren cannot be used together`);if(t.children&&t.loadChildren)throw new Error(`Invalid configuration of route '${e}': children and loadChildren cannot be used together`);if(t.redirectTo&&t.component)throw new Error(`Invalid configuration of route '${e}': redirectTo and component cannot be used together`);if(t.path&&t.matcher)throw new Error(`Invalid configuration of route '${e}': path and matcher cannot be used together`);if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error(`Invalid configuration of route '${e}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===t.path&&void 0===t.matcher)throw new Error(`Invalid configuration of route '${e}': routes must have either a path or a matcher specified`);if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error(`Invalid configuration of route '${e}': path cannot start with a slash`);if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error(`Invalid configuration of route '{path: "${e}", redirectTo: "${t.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error(`Invalid configuration of route '${e}': pathMatch can only be set to 'prefix' or 'full'`);t.children&&kr(t.children,e)}function Pr(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:`${t}/${e.path}`:"":t}function Dr(t){const e=t.children&&t.children.map(Dr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==He&&(n.component=Ar),n}const Rr=new r.q("ROUTES");class Vr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Ut.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const r=n.create(t);return new Jn(Je(r.injector.get(Rr)).map(Dr),r)}))}loadModuleFactory(t){return"string"==typeof t?Object(wt.a)(this.loader.load(t)):Ye(t()).pipe(Object(me.a)(t=>t instanceof r.v?Object(bt.a)(t):Object(wt.a)(this.compiler.compileModuleAsync(t))))}}class Lr{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Mr,this.attachRef=null}}class Mr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Lr,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Ur{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Fr(t){throw t}function qr(t,e,n){return e.parse("/")}function Hr(t,e){return Object(bt.a)(null)}let zr=(()=>{class t{constructor(t,e,n,i,o,s,u,a){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new _t.a,this.errorHandler=Fr,this.malformedUriErrorHandler=qr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Hr,afterPreactivation:Hr},this.urlHandlingStrategy=new Ur,this.routeReuseStrategy=new jr,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(r.x),this.console=o.get(r.X);const c=o.get(r.z);this.isNgZoneEnabled=c instanceof r.z,this.resetConfig(a),this.currentUrlTree=new tn(new en([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Vr(s,u,t=>this.triggerEvent(new Re(t)),t=>this.triggerEvent(new Ve(t))),this.routerState=Tn(this.currentUrlTree,this.rootComponentType),this.transitions=new Et({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(Ht(t=>0!==t.id),Object(Ut.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),ie(t=>{let n=!1,r=!1;return Object(bt.a)(t).pipe(Object(_e.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ie(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(bt.a)(t).pipe(ie(t=>{const n=this.transitions.getValue();return e.next(new Ce(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?Lt.a:[t]}),ie(t=>Promise.resolve(t)),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,function(t){return t.pipe(ie(t=>function(t,e,n,r,i){return new or(t,e,n,r,i).apply()}(r,i,o,t.extractedUrl,s).pipe(Object(Ut.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e})))))}),Object(_e.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return function(o){return o.pipe(Object(me.a)(o=>function(t,e,n,r,i="emptyOnly",o="legacy"){return new wr(t,e,n,r,i,o).recognize()}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe(Object(Ut.a)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t})))))}}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(_e.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),Object(_e.a)(t=>{const n=new Ae(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=t,u=new Ce(n,this.serializeUrl(r),i,o);e.next(u);const a=Tn(r,this.rootComponentType).snapshot;return Object(bt.a)(Object.assign(Object.assign({},t),{targetSnapshot:a,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),Lt.a}),xr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(_e.a)(t=>{const e=new ke(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Ut.a)(t=>Object.assign(Object.assign({},t),{guards:fr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return function(n){return n.pipe(Object(me.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Object(bt.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(wt.a)(t).pipe(Object(me.a)(t=>function(t,e,n,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||0===o.length)return Object(bt.a)(!0);const s=o.map(o=>{const s=dr(o,e,i);let u;if(function(t){return t&&Zn(t.canDeactivate)}(s))u=Ye(s.canDeactivate(t,e,n,r));else{if(!Zn(s))throw new Error("Invalid CanDeactivate guard");u=Ye(s(t,e,n,r))}return u.pipe(we())});return Object(bt.a)(s).pipe(Xn())}(t.component,t.route,n,e,r)),we(t=>!0!==t,!0))}(s,r,i,t).pipe(Object(me.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(wt.a)(e).pipe(be(e=>Object(wt.a)([yr(e.route.parent,r),gr(e.route,r),mr(t,e.path,n),vr(t,e.route,n)]).pipe(qt(),we(t=>!0!==t,!0))),we(t=>!0!==t,!0))}(r,o,t,e):Object(bt.a)(n)),Object(Ut.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))}))}}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(_e.a)(t=>{if(Qn(t.guardsResult)){const e=Ge(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}}),Object(_e.a)(t=>{const e=new Ne(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),Ht(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new xe(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),xr(t=>{if(t.guards.canActivateChecks.length)return Object(bt.a)(t).pipe(Object(_e.a)(t=>{const e=new Pe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),ie(t=>{let n=!1;return Object(bt.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,function(t){return t.pipe(Object(me.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(bt.a)(t);let o=0;return Object(wt.a)(n).pipe(be(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(bt.a)({});const o={};return Object(wt.a)(i).pipe(Object(me.a)(i=>function(t,e,n,r){const i=dr(t,e,r);return Ye(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(_e.a)(t=>{o[i]=t}))),$t(1),Object(me.a)(()=>Object.keys(o).length===i.length?Object(bt.a)(o):Lt.a))}(t._resolve,t,e,r).pipe(Object(Ut.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),jn(t,n).resolve),null)))}(t.route,e,r,i)),Object(_e.a)(()=>o++),$t(1),Object(me.a)(e=>o===n.length?Object(bt.a)(t):Lt.a))}))}),Object(_e.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new xe(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(_e.a)(t=>{const e=new De(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),xr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),Object(Ut.a)(t=>{const e=function(t,e,n){const r=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){const i=r.value;i._futureSnapshot=n.value;const o=function(e,n,r){return n.children.map(n=>{for(const i of r.children)if(e.shouldReuseRoute(i.value.snapshot,n.value))return t(e,n,i);return t(e,n)})}(e,n,r);return new In(i,o)}{const r=e.retrieve(n.value);if(r){const t=r.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(let r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,t),t}{const r=new xn(new Et((i=n.value).url),new Et(i.params),new Et(i.queryParams),new Et(i.fragment),new Et(i.data),i.outlet,i.component,i),o=n.children.map(n=>t(e,n));return new In(r,o)}}var i}(t,e._root,n?n._root:void 0);return new Cn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(_e.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(o=this.rootContexts,s=this.routeReuseStrategy,u=t=>this.triggerEvent(t),Object(Ut.a)(t=>(new Kn(s,t.targetRouterState,t.currentRouterState,u).activate(o),t))),Object(_e.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new xe(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Ee(i))),ge(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=Qn(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new xe(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new je(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(rl){t.reject(rl)}}var i;return Lt.a}));var i,o,s,u}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){kr(t),this.config=t.map(Dr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:i,fragment:o,preserveQueryParams:s,queryParamsHandling:u,preserveFragment:a}=e;Object(r.U)()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const c=n||this.routerState.root,l=a?this.currentUrlTree.fragment:o;let h=null;if(u)switch(u){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=s?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(t,e,n,r,i){if(0===n.length)return Mn(e.root,e.root,e,r,i);const o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Un(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return Qe(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Un(n,e,r)}(n);if(o.toRoot())return Mn(e.root,new en([],{}),e,r,i);const s=function(t,e,n){if(t.isAbsolute)return new Fn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Fn(t,t===e.root,0)}const r=Vn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Fn(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),u=s.processChildren?Hn(s.segmentGroup,s.index,o.commands):qn(s.segmentGroup,s.index,o.commands);return Mn(s.segmentGroup,u,e,r,i)}(c,this.currentUrlTree,t,h,l)}navigateByUrl(t,e={skipLocationChange:!1}){Object(r.U)()&&this.isNgZoneEnabled&&!r.z.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=Qn(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(Rm){e=this.malformedUriErrorHandler(Rm,this.urlSerializer,t)}return e}isActive(t,e){if(Qn(t))return Xe(this.currentUrlTree,t,e);const n=this.parseUrl(t);return Xe(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new Te(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const o=this.getTransition(),s="imperative"!==e&&"imperative"===(null==o?void 0:o.source),u=(this.lastSuccessfulId===o.id||this.currentNavigation?o.rawUrl:o.urlAfterRedirects).toString()===t.toString();if(s&&u)return Promise.resolve(!0);let a,c,l;i?(a=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{a=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.M),r.Pb(sn),r.Pb(Mr),r.Pb(O),r.Pb(r.r),r.Pb(r.w),r.Pb(r.i),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Br=(()=>{class t{constructor(t,e,n,i,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||He,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Gr(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Mr),r.Ib(r.P),r.Ib(r.j),r.Qb("name"),r.Ib(r.h))},t.\u0275dir=r.Db({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class Gr{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===xn?this.route:t===Mr?this.childContexts:this.parent.get(t,e)}}class $r{}class Kr{preload(t,e){return Object(bt.a)(null)}}let Wr=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Vr(e,n,e=>t.triggerEvent(new Re(e)),e=>t.triggerEvent(new Ve(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ht(t=>t instanceof Te),be(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.x);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(wt.a)(n).pipe(Object(Ft.a)(),Object(Ut.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(me.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(zr),r.Pb(r.w),r.Pb(r.i),r.Pb(r.r),r.Pb($r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Jr=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ce?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Te&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof qe&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new qe(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(zr),r.Pb(U),r.Pb(void 0))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Zr=new r.q("ROUTER_CONFIGURATION"),Qr=new r.q("ROUTER_FORROOT_GUARD"),Yr=[O,{provide:sn,useClass:un},{provide:zr,useFactory:function(t,e,n,r,i,o,u,a={},c,l){const h=new zr(null,t,e,n,r,i,o,Je(u));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),a.errorHandler&&(h.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(h.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup("Router Event: "+e.constructor.name),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return a.onSameUrlNavigation&&(h.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(h.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(h.relativeLinkResolution=a.relativeLinkResolution),h},deps:[sn,Mr,O,r.r,r.w,r.i,Rr,Zr,[class{},new r.A],[class{},new r.A]]},Mr,{provide:xn,useFactory:function(t){return t.routerState.root},deps:[zr]},{provide:r.w,useClass:r.J},Wr,Kr,class{preload(t,e){return e().pipe(ge(()=>Object(bt.a)(null)))}},{provide:Zr,useValue:{enableTracing:!1}}];function Xr(){return new r.y("Router",zr)}let ti=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[Yr,ii(e),{provide:Qr,useFactory:ri,deps:[[zr,new r.A,new r.I]]},{provide:Zr,useValue:n||{}},{provide:v,useFactory:ni,deps:[a,[new r.p(b),new r.A],Zr]},{provide:Jr,useFactory:ei,deps:[zr,U,Zr]},{provide:$r,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Kr},{provide:r.y,multi:!0,useFactory:Xr},[oi,{provide:r.d,multi:!0,useFactory:si,deps:[oi]},{provide:ai,useFactory:ui,deps:[oi]},{provide:r.b,multi:!0,useExisting:ai}]]}}static forChild(e){return{ngModule:t,providers:[ii(e)]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(Qr,8),r.Pb(zr,8))}}),t})();function ei(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Jr(t,e,n)}function ni(t,e,n={}){return n.useHash?new _(t,e):new w(t,e)}function ri(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ii(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Rr,multi:!0,useValue:t}]}let oi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new _t.a}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(zr),r=this.injector.get(Zr);if(this.isLegacyDisabled(r)||this.isLegacyEnabled(r))t(!0);else if("disabled"===r.initialNavigation)n.setUpLocationChangeListener(),t(!0);else{if("enabled"!==r.initialNavigation)throw new Error(`Invalid initialNavigation options: '${r.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Object(bt.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()}return e})}bootstrapListener(t){const e=this.injector.get(Zr),n=this.injector.get(Wr),i=this.injector.get(Jr),o=this.injector.get(zr),s=this.injector.get(r.g);t===s.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation}isLegacyDisabled(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(r.r))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();function si(t){return t.appInitializer.bind(t)}function ui(t){return t.bootstrapListener.bind(t)}const ai=new r.q("Router Initializer"),ci=[];let li=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},imports:[[ti.forRoot(ci)],ti]}),t})();var hi=n("Jgta"),fi=n("D0XW");function di(){return t=>t.lift(new pi)}class pi{call(t,e){return e.subscribe(new gi(t))}}class gi extends Ct.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function yi(t,e){return n=>n.lift(new vi(t,e))}class vi{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new mi(t,this.compare,this.keySelector))}}class mi extends Ct.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var bi=n("pxpQ"),wi=n("spgP"),_i=n("zIRd"),Oi=n("q/0M"),Ei=n("qOnz"),Ii=function(t,e){return(Ii=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function Si(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Ci,Ti="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},xi=xi||{},ji=Ti||self;function Ai(){}function ki(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Ni(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Pi="closure_uid_"+(1e9*Math.random()>>>0),Di=0;function Ri(t,e,n){return t.call.apply(t.bind,arguments)}function Vi(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Li(t,e,n){return(Li=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ri:Vi).apply(null,arguments)}function Mi(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Ui(){return Date.now()}function Fi(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function qi(){this.j=this.j,this.i=this.i}qi.prototype.j=!1,qi.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Pi)&&t[Pi]||(t[Pi]=++Di)}(this)},qi.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Hi=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},zi=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Bi(t){return Array.prototype.concat.apply([],arguments)}function Gi(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function $i(t){return/^[\s\xa0]*$/.test(t)}var Ki,Wi=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Ji(t,e){return-1!=t.indexOf(e)}function Zi(t,e){return t<e?-1:t>e?1:0}t:{var Qi=ji.navigator;if(Qi){var Yi=Qi.userAgent;if(Yi){Ki=Yi;break t}}Ki=""}function Xi(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function to(t){var e={};for(var n in t)e[n]=t[n];return e}var eo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function no(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<eo.length;o++)n=eo[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ro(t){return ro[" "](t),t}ro[" "]=Ai;var io,oo,so=Ji(Ki,"Opera"),uo=Ji(Ki,"Trident")||Ji(Ki,"MSIE"),ao=Ji(Ki,"Edge"),co=ao||uo,lo=Ji(Ki,"Gecko")&&!(Ji(Ki.toLowerCase(),"webkit")&&!Ji(Ki,"Edge"))&&!(Ji(Ki,"Trident")||Ji(Ki,"MSIE"))&&!Ji(Ki,"Edge"),ho=Ji(Ki.toLowerCase(),"webkit")&&!Ji(Ki,"Edge");function fo(){var t=ji.document;return t?t.documentMode:void 0}t:{var po="",go=(oo=Ki,lo?/rv:([^\);]+)(\)|;)/.exec(oo):ao?/Edge\/([\d\.]+)/.exec(oo):uo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(oo):ho?/WebKit\/(\S+)/.exec(oo):so?/(?:Version)[ \/]?(\S+)/.exec(oo):void 0);if(go&&(po=go?go[1]:""),uo){var yo=fo();if(null!=yo&&yo>parseFloat(po)){io=String(yo);break t}}io=po}var vo={};function mo(t){return function(t,e){var n=vo;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,(function(){for(var e=0,n=Wi(String(io)).split("."),r=Wi(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",u=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;e=Zi(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||Zi(0==s[2].length,0==u[2].length)||Zi(s[2],u[2]),s=s[3],u=u[3]}while(0==e)}return 0<=e}))}var bo=ji.document&&uo&&(fo()||parseInt(io,10))||void 0,wo=!uo||9<=Number(bo),_o=uo&&!mo("9"),Oo=function(){if(!ji.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ji.addEventListener("test",Ai,e),ji.removeEventListener("test",Ai,e)}catch(n){}return t}();function Eo(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Io(t,e){if(Eo.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(lo){t:{try{ro(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:So[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Eo.prototype.b=function(){this.defaultPrevented=!0},Fi(Io,Eo);var So={2:"touch",3:"pen",4:"mouse"};Io.prototype.b=function(){Io.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,_o)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var Co="closure_listenable_"+(1e6*Math.random()|0),To=0;function xo(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++To,this.Y=this.Z=!1}function jo(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Ao(t){this.src=t,this.a={},this.b=0}function ko(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Hi(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(jo(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function No(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Ao.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=No(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new xo(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Po="closure_lm_"+(1e6*Math.random()|0),Do={};function Ro(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=zo(r),e&&e[Co]?e.wa(n,r,Ni(i)?!!i.capture:!!i,o):Vo(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ro(t,e[o],n,r,i);return null}return n=zo(n),t&&t[Co]?t.va(e,n,Ni(r)?!!r.capture:!!r,i):Vo(t,e,n,!1,r,i)}function Vo(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Ni(i)?!!i.capture:!!i;if(s&&!wo)return null;var u=qo(t);if(u||(t[Po]=u=new Ao(t)),(n=u.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Fo,e=wo?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Oo||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Mo(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Lo(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Co])ko(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Mo(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=qo(e))?(ko(n,t),0==n.b&&(n.src=null,e[Po]=null)):jo(t)}}}function Mo(t){return t in Do?Do[t]:Do[t]="on"+t}function Uo(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&Lo(t),n.call(r,e)}function Fo(t,e){if(t.Y)return!0;if(!wo){if(!e)t:{e=["window","event"];for(var n=ji,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Uo(t,e=new Io(e,this))}return Uo(t,new Io(e,this))}function qo(t){return(t=t[Po])instanceof Ao?t:null}var Ho="__closure_events_fn_"+(1e9*Math.random()>>>0);function zo(t){return"function"==typeof t?t:(t[Ho]||(t[Ho]=function(e){return t.handleEvent(e)}),t[Ho])}function Bo(){qi.call(this),this.c=new Ao(this),this.J=this,this.C=null}function Go(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new Eo(e,t);else if(e instanceof Eo)e.target=e.target||t;else{var i=e;no(e=new Eo(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=e.a=n[o];i=$o(s,r,!0,e)&&i}if(i=$o(s=e.a=t,r,!0,e)&&i,i=$o(s,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=$o(s=e.a=n[o],r,!1,e)&&i}function $o(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var u=s.listener,a=s.ca||s.src;s.Z&&ko(t.c,s),i=!1!==u.call(a,r)&&i}}return i&&!r.defaultPrevented}Fi(Bo,qi),Bo.prototype[Co]=!0,(Ci=Bo.prototype).addEventListener=function(t,e,n,r){Ro(this,t,e,n,r)},Ci.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=Ni(i)?!!i.capture:!!i,r=zo(r),e&&e[Co]?(e=e.c,(n=String(n).toString())in e.a&&-1<(r=No(s=e.a[n],r,i,o))&&(jo(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--))):e&&(e=qo(e))&&(n=e.a[n.toString()],e=-1,n&&(e=No(n,r,i,o)),(r=-1<e?n[e]:null)&&Lo(r))}(this,t,e,n,r)},Ci.G=function(){if(Bo.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)jo(n[r]);delete e.a[t],e.b--}}this.C=null},Ci.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Ci.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Ko=ji.JSON.stringify;function Wo(){this.b=this.a=null}var Jo,Zo=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())((function(){return new Yo}),(function(t){t.reset()}));function Qo(){var t=ns,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Yo(){this.next=this.b=this.a=null}function Xo(t){ji.setTimeout((function(){throw t}),0)}function ts(t,e){Jo||function(){var t=ji.Promise.resolve(void 0);Jo=function(){t.then(rs)}}(),es||(Jo(),es=!0),ns.add(t,e)}Wo.prototype.add=function(t,e){var n=Zo.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Yo.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Yo.prototype.reset=function(){this.next=this.b=this.a=null};var es=!1,ns=new Wo;function rs(){for(var t;t=Qo();){try{t.a.call(t.b)}catch(n){Xo(n)}var e=Zo;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}es=!1}function is(t,e){Bo.call(this),this.b=t||1,this.a=e||ji,this.f=Li(this.Za,this),this.g=Ui()}function os(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function ss(t,e,n){if("function"==typeof t)n&&(t=Li(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Li(t.handleEvent,t)}return 2147483647<Number(e)?-1:ji.setTimeout(t,e||0)}function us(t){t.a=ss((function(){t.a=null,t.c&&(t.c=!1,us(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Fi(is,Bo),(Ci=is.prototype).aa=!1,Ci.M=null,Ci.Za=function(){if(this.aa){var t=Ui()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Go(this,"tick"),this.aa&&(os(this),this.start()))}},Ci.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=Ui())},Ci.G=function(){is.X.G.call(this),os(this),delete this.a};var as=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}Ii(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:us(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(ji.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(qi);function cs(t){qi.call(this),this.b=t,this.a={}}Fi(cs,qi);var ls=[];function hs(t,e,n,r){Array.isArray(n)||(n&&(ls[0]=n.toString()),n=ls);for(var i=0;i<n.length;i++){var o=Ro(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function fs(t){Xi(t.a,(function(t,e){this.a.hasOwnProperty(e)&&Lo(t)}),t),t.a={}}function ds(){this.a=!0}function ps(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Ko(n)}catch(u){return e}}(t,n)+(r?" "+r:"")}))}cs.prototype.G=function(){cs.X.G.call(this),fs(this)},cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ds.prototype.info=function(){};var gs={},ys=null;function vs(){return ys=ys||new Bo}function ms(t){Eo.call(this,gs.Fa,t)}function bs(t){var e=vs();Go(e,new ms(e,t))}function ws(t,e){Eo.call(this,gs.STAT_EVENT,t),this.stat=e}function _s(t){var e=vs();Go(e,new ws(e,t))}function Os(t){Eo.call(this,gs.Ga,t)}function Es(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ji.setTimeout((function(){t()}),e)}gs.Fa="serverreachability",Fi(ms,Eo),gs.STAT_EVENT="statevent",Fi(ws,Eo),gs.Ga="timingevent",Fi(Os,Eo);var Is={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},Ss={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function Cs(){}function Ts(){}Cs.prototype.a=null;var xs,js={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function As(){Eo.call(this,"d")}function ks(){Eo.call(this,"c")}function Ns(){}function Ps(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new cs(this),this.P=Ds,this.R=new is(t=co?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}Fi(As,Eo),Fi(ks,Eo),Fi(Ns,Cs),xs=new Ns;var Ds=45e3,Rs={},Vs={};function Ls(t,e,n){t.H=1,t.i=ou(Xs(e)),t.j=n,t.I=!0,Ms(t,null)}function Ms(t,e){t.u=Ui(),qs(t),t.l=Xs(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),mu(n.b,"t",r),t.D=0,t.a=fa(t.g,t.g.C?e:null),0<t.O&&(t.F=new as(Li(t.Ca,t,t.a),t.O)),hs(t.J,t.a,"readystatechange",t.Xa),e=t.B?to(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),bs(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",u=o.split("&"),a=0;a<u.length;a++){var c=u[a].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function Us(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Fs(t,n);if(i==Vs){4==e&&(t.h=4,_s(14),r=!1),ps(t.c,t.f,null,"[Incomplete Response]");break}if(i==Rs){t.h=4,_s(15),ps(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}ps(t.c,t.f,i,null),$s(t,i)}4==e&&0==n.length&&(t.h=1,_s(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),ia(e),e.F=!0,_s(11))):(ps(t.c,t.f,n,"[Invalid Chunked Response]"),Gs(t),Bs(t))}function Fs(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Vs:(n=Number(e.substring(n,r)),isNaN(n)?Rs:(r+=1)+n>e.length?Vs:(e=e.substr(r,n),t.D=r+n,e))}function qs(t){t.T=Ui()+t.P,Hs(t,t.P)}function Hs(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Es(Li(t.Va,t),e)}function zs(t){t.o&&(ji.clearTimeout(t.o),t.o=null)}function Bs(t){0==t.g.v||t.A||ua(t.g,t)}function Gs(t){zs(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,os(t.R),fs(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function $s(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Su(n.b,t)))if(n.I=t.N,!t.C&&Su(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Wv){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;sa(n),Ju(n)}ra(n),_s(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Es(Li(n.Sa,n),6e3));if(1>=Iu(n.b)&&n.ea){try{n.ea()}catch(Wv){}n.ea=void 0}}else ca(n,11)}else if((t.C||n.a==t)&&sa(n),!$i(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var u=i[5];if(null!=u&&"number"==typeof u&&0<u){var a=1.5*u;n.D=a,n.c.info("backChannelRequestTimeoutMs_="+a)}a=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=a.b;!h.a&&(Ji(l,"spdy")||Ji(l,"quic")||Ji(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Cu(h,h.b),h.b=null))}if(a.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(a.na=f,iu(a.B,a.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=Ui()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((a=n).la=ha(a,a.C?a.ga:null,a.fa),d.C){Tu(a.b,d);var p=d,g=a.D;g&&p.setTimeout(g),p.o&&(zs(p),qs(p)),a.a=d}else na(a);0<n.g.length&&Yu(n)}else"stop"!=i[0]&&"close"!=i[0]||ca(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?ca(n,7):Wu(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);bs(4)}catch(Wv){}}function Ks(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ki(t)||"string"==typeof t)zi(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ki(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ki(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ws(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ws)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Js(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Zs(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Zs(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Zs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Ci=Ps.prototype).setTimeout=function(t){this.P=t},Ci.Xa=function(t){t=t.target;var e=this.F;e&&3==Bu(t)?e.f():this.Ca(t)},Ci.Ca=function(t){try{if(t==this.a)t:{var e=Bu(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!co&&!this.a.$())){this.A||4!=e||7==n||bs(8==n||0>=r?3:2),zs(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var s,u=this.a;if((s=u.a?u.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$i(s)){var a=s;break e}}a=null}if(!a){this.b=!1,this.h=3,_s(12),Gs(this),Bs(this);break t}ps(this.c,this.f,a,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,$s(this,a)}this.I?(Us(this,e,o),co&&this.b&&3==e&&(hs(this.J,this.R,"tick",this.Wa),this.R.start())):(ps(this.c,this.f,o,null),$s(this,o)),4==e&&Gs(this),this.b&&!this.A&&(4==e?ua(this.g,this):(this.b=!1,qs(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,_s(12)):(this.h=0,_s(13)),Gs(this),Bs(this)}}}catch(c){}},Ci.Wa=function(){if(this.a){var t=Bu(this.a),e=this.a.$();this.D<e.length&&(zs(this),Us(this,t,e),this.b&&4!=t&&qs(this))}},Ci.cancel=function(){this.A=!0,Gs(this)},Ci.Va=function(){this.o=null;var t=Ui();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(bs(3),_s(17)),Gs(this),this.h=2,Bs(this)):Hs(this,this.T-t)},(Ci=Ws.prototype).K=function(){Js(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Ci.L=function(){return Js(this),this.a.concat()},Ci.get=function(t,e){return Zs(this.b,t)?this.b[t]:e},Ci.set=function(t,e){Zs(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Ci.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Qs=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ys(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ys){this.a=void 0!==e?e:t.a,tu(this,t.f),this.j=t.j,eu(this,t.c),nu(this,t.h),this.g=t.g,e=t.b;var n=new pu;n.c=e.c,e.a&&(n.a=new Ws(e.a),n.b=e.b),ru(this,n),this.i=t.i}else t&&(n=String(t).match(Qs))?(this.a=!!e,tu(this,n[1]||"",!0),this.j=su(n[2]||""),eu(this,n[3]||"",!0),nu(this,n[4]),this.g=su(n[5]||"",!0),ru(this,n[6]||"",!0),this.i=su(n[7]||"")):(this.a=!!e,this.b=new pu(null,this.a))}function Xs(t){return new Ys(t)}function tu(t,e,n){t.f=n?su(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function eu(t,e,n){t.c=n?su(e,!0):e}function nu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ru(t,e,n){e instanceof pu?(t.b=e,function(t,e){e&&!t.f&&(gu(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(yu(this,e),mu(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=uu(e,fu)),t.b=new pu(e,t.a))}function iu(t,e,n){t.b.set(e,n)}function ou(t){return iu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Ui()).toString(36)),t}function su(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function uu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,au),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function au(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ys.prototype.toString=function(){var t=[],e=this.f;e&&t.push(uu(e,cu,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(uu(e,cu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(uu(n,"/"==n.charAt(0)?hu:lu,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",uu(n,du)),t.join("")};var cu=/[#\/\?@]/g,lu=/[#\?:]/g,hu=/[#\?]/g,fu=/[#\?@]/g,du=/#/g;function pu(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function gu(t){t.a||(t.a=new Ws,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function yu(t,e){gu(t),e=bu(t,e),Zs(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Zs((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Js(t)))}function vu(t,e){return gu(t),e=bu(t,e),Zs(t.a.b,e)}function mu(t,e,n){yu(t,e),0<n.length&&(t.c=null,t.a.set(bu(t,e),Gi(n)),t.b+=n.length)}function bu(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(Ci=pu.prototype).add=function(t,e){gu(this),this.c=null,t=bu(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Ci.forEach=function(t,e){gu(this),this.a.forEach((function(n,r){zi(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Ci.L=function(){gu(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Ci.K=function(t){gu(this);var e=[];if("string"==typeof t)vu(this,t)&&(e=Bi(e,this.a.get(bu(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Bi(e,t[n])}return e},Ci.set=function(t,e){return gu(this),this.c=null,vu(this,t=bu(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Ci.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Ci.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var wu=function(){return function(t,e){this.b=t,this.a=e}}();function _u(t){this.g=t||Ou,t=ji.PerformanceNavigationTiming?0<(t=ji.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ji.ia&&ji.ia.ya&&ji.ia.ya()&&ji.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var Ou=10;function Eu(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Iu(t){return t.b?1:t.a?t.a.size:0}function Su(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Cu(t,e){t.a?t.a.add(e):t.b=e}function Tu(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function xu(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Si(t.a.values()),o=i.next();!o.done;o=i.next())r=r.concat(o.value.s)}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Gi(t.c)}function ju(){}function Au(){this.a=new ju}function ku(t,e,n){var r=n||"";try{Ks(t,(function(t,n){var i=t;Ni(t)&&(i=Ko(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(Rm){throw e.push(r+"type="+encodeURIComponent("_badmap")),Rm}}function Nu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}_u.prototype.cancel=function(){var t,e;if(this.c=xu(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Si(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},ju.prototype.stringify=function(t){return ji.JSON.stringify(t,void 0)},ju.prototype.parse=function(t){return ji.JSON.parse(t,void 0)};var Pu=ji.JSON.parse;function Du(t){Bo.call(this),this.headers=new Ws,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ru,this.D=this.F=!1}Fi(Du,Bo);var Ru="",Vu=/^https?$/i,Lu=["POST","PUT"];function Mu(t){return"content-type"==t.toLowerCase()}function Uu(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Fu(t),Hu(t)}function Fu(t){t.u||(t.u=!0,Go(t,"complete"),Go(t,"error"))}function qu(t){if(t.b&&void 0!==xi&&(!t.s[1]||4!=Bu(t)||2!=t.W()))if(t.l&&4==Bu(t))ss(t.za,0,t);else if(Go(t,"readystatechange"),4==Bu(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Qs)[1]||null;if(!o&&ji.self&&ji.self.location){var s=ji.self.location.protocol;o=s.substr(0,s.length-1)}i=!Vu.test(o?o.toLowerCase():"")}e=i}if(e)Go(t,"complete"),Go(t,"success");else{t.h=6;try{var u=2<Bu(t)?t.a.statusText:""}catch(n){u=""}t.f=u+" ["+t.W()+"]",Fu(t)}}finally{Hu(t)}}}function Hu(t,e){if(t.a){zu(t);var n=t.a,r=t.s[0]?Ai:null;t.a=null,t.s=null,e||Go(t,"ready");try{n.onreadystatechange=r}catch(Rm){}}}function zu(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(ji.clearTimeout(t.m),t.m=null)}function Bu(t){return t.a?t.a.readyState:0}function Gu(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Xi(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):iu(t,e,n))}function $u(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ku(t){this.pa=0,this.g=[],this.c=new ds,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=$u("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=$u("baseRetryDelayMs",5e3,t),this.Ra=$u("retryDelaySeedMs",1e4,t),this.Ma=$u("forwardChannelMaxRetries",2,t),this.ma=$u("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new _u(t&&t.concurrentRequestLimit),this.ka=new Au,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Wu(t){if(Zu(t),3==t.v){var e=t.R++,n=Xs(t.B);iu(n,"SID",t.J),iu(n,"RID",e),iu(n,"TYPE","terminate"),ta(t,n),(e=new Ps(t,t.c,e,void 0)).H=2,e.i=ou(Xs(n)),n=!1,ji.navigator&&ji.navigator.sendBeacon&&(n=ji.navigator.sendBeacon(e.i.toString(),"")),!n&&ji.Image&&((new Image).src=e.i,n=!0),n||(e.a=fa(e.g,null),e.a.ba(e.i)),e.u=Ui(),qs(e)}la(t)}function Ju(t){t.a&&(ia(t),t.a.cancel(),t.a=null)}function Zu(t){Ju(t),t.j&&(ji.clearTimeout(t.j),t.j=null),sa(t),t.b.cancel(),t.h&&("number"==typeof t.h&&ji.clearTimeout(t.h),t.h=null)}function Qu(t,e){t.g.push(new wu(t.Oa++,e)),3==t.v&&Yu(t)}function Yu(t){Eu(t.b)||t.h||(t.h=!0,ts(t.Ba,t),t.u=0)}function Xu(t,e){var n;n=e?e.f:t.R++;var r=Xs(t.B);iu(r,"SID",t.J),iu(r,"RID",n),iu(r,"AID",t.P),ta(t,r),t.i&&t.l&&Gu(r,t.i,t.l),n=new Ps(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=ea(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Cu(t.b,n),Ls(n,r,e)}function ta(t,e){t.f&&Ks({},(function(t,n){iu(e,n,t)}))}function ea(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Li(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?s.push("ofs="+(o=i[0].b)):o=0:s.push("ofs="+o);for(var u=!0,a=0;a<n;a++){var c=i[a].b,l=i[a].a;if(0>(c-=o))o=Math.max(0,i[a].b-100),u=!1;else try{ku(l,s,"req"+c+"_")}catch(Wa){r&&r(l)}}if(u){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function na(t){t.a||t.j||(t.T=1,ts(t.Aa,t),t.o=0)}function ra(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=Es(Li(t.Aa,t),aa(t,t.o)),t.o++,0))}function ia(t){null!=t.s&&(ji.clearTimeout(t.s),t.s=null)}function oa(t){t.a=new Ps(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Xs(t.la);iu(e,"RID","rpc"),iu(e,"SID",t.J),iu(e,"CI",t.H?"0":"1"),iu(e,"AID",t.P),ta(t,e),iu(e,"TYPE","xmlhttp"),t.i&&t.l&&Gu(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=ou(Xs(e)),n.j=null,n.I=!0,Ms(n,t)}function sa(t){null!=t.m&&(ji.clearTimeout(t.m),t.m=null)}function ua(t,e){var n=null;if(t.a==e){sa(t),ia(t),t.a=null;var r=2}else{if(!Su(t.b,e))return;n=e.s,Tu(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=Ui()-e.u;var i=t.u;Go(r=vs(),new Os(r,n,e,i)),Yu(t)}else na(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Iu(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=Es(Li(t.Ba,t,e),aa(t,t.u)),t.u++,0)))}(t,e)||2==r&&ra(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:ca(t,5);break;case 4:ca(t,10);break;case 3:ca(t,6);break;default:ca(t,2)}}function aa(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function ca(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Li(t.Ya,t);n||(n=new Ys("//www.google.com/images/cleardot.gif"),ji.location&&"http"==ji.location.protocol||tu(n,"https"),ou(n)),function(t,e){var n=new ds;if(ji.Image){var r=new Image;r.onload=Mi(Nu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Mi(Nu,n,r,"TestLoadImage: error",!1,e),r.onabort=Mi(Nu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Mi(Nu,n,r,"TestLoadImage: timeout",!1,e),ji.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else _s(2);t.v=0,t.f&&t.f.ra(e),la(t),Zu(t)}function la(t){t.v=0,t.I=-1,t.f&&(0==xu(t.b).length&&0==t.g.length||(t.b.c.length=0,Gi(t.g),t.g.length=0),t.f.qa())}function ha(t,e,n){var r=function(t){return t instanceof Ys?Xs(t):new Ys(t,void 0)}(n);if(""!=r.c)e&&eu(r,e+"."+r.c),nu(r,r.h);else{var i=ji.location;r=function(t,e,n,r){var i=new Ys(null,void 0);return t&&tu(i,t),e&&eu(i,e),n&&nu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Xi(t.V,(function(t,e){iu(r,e,t)})),n=t.na,(e=t.A)&&n&&iu(r,e,n),iu(r,"VER",t.ha),ta(t,r),r}function fa(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Du(t.Na)).F=t.C,e}function da(){}function pa(){if(uo&&!(10<=Number(bo)))throw Error("Environmental error: no available transport.")}function ga(t,e){Bo.call(this),this.a=new Ku(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!$i(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$i(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new ma(this)}function ya(t){As.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function va(){ks.call(this),this.status=1}function ma(t){this.a=t}(Ci=Du.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:xs),this.a.onreadystatechange=Li(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void Uu(this,o)}t=n||"";var i=new Ws(this.headers);r&&Ks(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=Mu,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=ji.FormData&&t instanceof ji.FormData,!(0<=Hi(Lu,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{zu(this),0<this.o&&((this.D=function(t){return uo&&mo(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Li(this.xa,this)):this.m=ss(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){Uu(this,o)}},Ci.xa=function(){void 0!==xi&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Go(this,"timeout"),this.abort(8))},Ci.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Go(this,"complete"),Go(this,"abort"),Hu(this))},Ci.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Hu(this,!0)),Du.X.G.call(this)},Ci.za=function(){this.j||(this.A||this.l||this.g?qu(this):this.Ua())},Ci.Ua=function(){qu(this)},Ci.W=function(){try{return 2<Bu(this)?this.a.status:-1}catch(oo){return-1}},Ci.$=function(){try{return this.a?this.a.responseText:""}catch(oo){return""}},Ci.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Pu(e)}},Ci.ua=function(){return this.h},Ci.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Ci=Ku.prototype).ha=8,Ci.v=1,Ci.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Ps(this,this.c,t,void 0),r=this.l;if(this.O&&(r?no(r=to(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=ea(this,n,e),iu(i=Xs(this.B),"RID",t),iu(i,"CVER",22),this.A&&iu(i,"X-HTTP-Session-Id",this.A),ta(this,i),this.i&&r&&Gu(i,this.i,r),Cu(this.b,n),this.Ia&&iu(i,"TYPE","init"),this.da?(iu(i,"$req",e),iu(i,"SID","null"),n.U=!0,Ls(n,i,null)):Ls(n,i,e),this.v=2}}else 3==this.v&&(t?Xu(this,t):0==this.g.length||Eu(this.b)||Xu(this))},Ci.Aa=function(){if(this.j=null,oa(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Es(Li(this.Ta,this),t)}},Ci.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,_s(10),Ju(this),oa(this))},Ci.Sa=function(){null!=this.m&&(this.m=null,Ju(this),ra(this),_s(19))},Ci.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),_s(2)):(this.c.info("Failed to ping google.com"),_s(1))},(Ci=da.prototype).ta=function(){},Ci.sa=function(){},Ci.ra=function(){},Ci.qa=function(){},Ci.Ja=function(){},pa.prototype.a=function(t,e){return new ga(t,e)},Fi(ga,Bo),ga.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;_s(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=ha(t,null,t.fa),Yu(t)},ga.prototype.close=function(){Wu(this.a)},ga.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Qu(this.a,e)}else this.l?((e={}).__data__=Ko(t),Qu(this.a,e)):Qu(this.a,t)},ga.prototype.G=function(){this.a.f=null,delete this.f,Wu(this.a),delete this.a,ga.X.G.call(this)},Fi(ya,As),Fi(va,ks),Fi(ma,da),ma.prototype.ta=function(){Go(this.a,"a")},ma.prototype.sa=function(t){Go(this.a,new ya(t))},ma.prototype.ra=function(t){Go(this.a,new va(t))},ma.prototype.qa=function(){Go(this.a,"b")},pa.prototype.createWebChannel=pa.prototype.a,ga.prototype.send=ga.prototype.h,ga.prototype.open=ga.prototype.g,ga.prototype.close=ga.prototype.close,Is.NO_ERROR=0,Is.TIMEOUT=8,Is.HTTP_ERROR=6,Ss.COMPLETE="complete",Ts.EventType=js,js.OPEN="a",js.CLOSE="b",js.ERROR="c",js.MESSAGE="d",Bo.prototype.listen=Bo.prototype.va,Du.prototype.listenOnce=Du.prototype.wa,Du.prototype.getLastError=Du.prototype.Qa,Du.prototype.getLastErrorCode=Du.prototype.ua,Du.prototype.getStatus=Du.prototype.W,Du.prototype.getResponseJson=Du.prototype.Pa,Du.prototype.getResponseText=Du.prototype.$,Du.prototype.send=Du.prototype.ba;var ba=Is,wa=Ss,_a=gs,Oa=Ts,Ea=Du,Ia=n("30Go"),Sa=new Oi.b("@firebase/firestore");function Ca(){return Sa.logLevel}function Ta(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Sa.logLevel<=Oi.a.DEBUG){var r=e.map(Aa);Sa.debug.apply(Sa,Object(Ia.g)(["Firestore (8.2.2): "+t],r))}}function xa(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Sa.logLevel<=Oi.a.ERROR){var r=e.map(Aa);Sa.error.apply(Sa,Object(Ia.g)(["Firestore (8.2.2): "+t],r))}}function ja(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Sa.logLevel<=Oi.a.WARN){var r=e.map(Aa);Sa.warn.apply(Sa,Object(Ia.g)(["Firestore (8.2.2): "+t],r))}}function Aa(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(Rm){return t}}function ka(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.2) INTERNAL ASSERTION FAILED: "+t;throw xa(e),new Error(e)}function Na(t,e){t||ka()}function Pa(t,e){return t}function Da(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Ra=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Da(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Va(t,e){return t<e?-1:t>e?1:0}function La(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function Ma(t){return t+"\0"}var Ua=function(){function t(t){this.i=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.i)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.i)},t.prototype.o=function(){return 2*this.i.length},t.prototype.u=function(t){return Va(this.i,t.i)},t.prototype.isEqual=function(t){return this.i===t.i},t}();Ua.h=new Ua("");var Fa={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},qa=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(Ia.c)(e,t),e}(Error),Ha=function(){function t(t){this.l=t}return t.fromBase64String=function(e){try{return new t(Ua.fromBase64String(e))}catch(e){throw new qa(Fa.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Ua.fromUint8Array(e))},t.prototype.toBase64=function(){return this.l.toBase64()},t.prototype.toUint8Array=function(){return this.l.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.l.isEqual(t.l)},t}(),za=function(t){this._=t};function Ba(){if("undefined"==typeof Uint8Array)throw new qa(Fa.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function Ga(){if("undefined"==typeof atob)throw new qa(Fa.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var $a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ia.c)(e,t),e.fromBase64String=function(t){return Ga(),new e(Ha.fromBase64String(t))},e.fromUint8Array=function(t){return Ba(),new e(Ha.fromUint8Array(t))},e.prototype.toBase64=function(){return Ga(),this._.toBase64()},e.prototype.toUint8Array=function(){return Ba(),this._.toUint8Array()},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(za),Ka=function(t,e,n,r,i,o){this.T=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.I=o},Wa=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"m",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Ja=function(){function t(t){this.uid=t}return t.prototype.A=function(){return null!=this.uid},t.prototype.R=function(){return this.A()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Ja.UNAUTHENTICATED=new Ja(null),Ja.P=new Ja("google-credentials-uid"),Ja.g=new Ja("first-party-uid");var Za=function(t,e){this.user=e,this.type="OAuth",this.V={},this.V.Authorization="Bearer "+t},Qa=function(){function t(){this.p=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.v=function(){},t.prototype.S=function(t){this.p=t,t(Ja.UNAUTHENTICATED)},t.prototype.D=function(){this.p=null},t}(),Ya=function(){function t(t){var e=this;this.C=null,this.currentUser=Ja.UNAUTHENTICATED,this.N=!1,this.O=0,this.p=null,this.forceRefresh=!1,this.C=function(){e.O++,e.currentUser=e.F(),e.N=!0,e.p&&e.p(e.currentUser)},this.O=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.C):(this.C(null),t.get().then((function(t){e.auth=t,e.C&&e.auth.addAuthTokenListener(e.C)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.O,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.O!==e?(Ta("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Na("string"==typeof n.accessToken),new Za(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.v=function(){this.forceRefresh=!0},t.prototype.S=function(t){this.p=t,this.N&&t(this.currentUser)},t.prototype.D=function(){this.auth&&this.auth.removeAuthTokenListener(this.C),this.C=null,this.p=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return Na(null===t||"string"==typeof t),new Ja(t)},t}(),Xa=function(){function t(t,e){this.k=t,this.M=e,this.type="FirstParty",this.user=Ja.g}return Object.defineProperty(t.prototype,"V",{get:function(){var t={"X-Goog-AuthUser":this.M},e=this.k.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),tc=function(){function t(t,e){this.k=t,this.M=e}return t.prototype.getToken=function(){return Promise.resolve(new Xa(this.k,this.M))},t.prototype.S=function(t){t(Ja.g)},t.prototype.D=function(){},t.prototype.v=function(){},t}(),ec=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.L=function(t){return n.$(t)},this.B=function(t){return e.q(t)})}return t.prototype.$=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.B&&this.B(t),t},t}();ec.U=-1;var nc=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new qa(Fa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new qa(Fa.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new qa(Fa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new qa(Fa.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.K=function(t){return this.seconds===t.seconds?Va(this.nanoseconds,t.nanoseconds):Va(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),rc=function(){function t(t){this.timestamp=t}return t.j=function(e){return new t(e)},t.min=function(){return new t(new nc(0,0))},t.prototype.u=function(t){return this.timestamp.K(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.G=function(){return this.timestamp},t}(),ic=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&ka(),void 0===n?n=t.length-e:n>t.length-e&&ka(),this.segments=t,this.offset=e,this.H=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.H},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.J(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.Y(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.X=function(t){return this.Y(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.Z=function(){return this.Y(this.segments,this.offset,this.length-1)},t.prototype.tt=function(){return this.segments[this.offset]},t.prototype.et=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.nt=function(){return 0===this.length},t.prototype.st=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.it=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.rt=function(){return this.segments.slice(this.offset,this.limit())},t.J=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),oc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ia.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.prototype.ot=function(){return this.rt().join("/")},e.prototype.toString=function(){return this.ot()},e.ct=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var s=o[i];if(s.indexOf("//")>=0)throw new qa(Fa.INVALID_ARGUMENT,"Invalid segment ("+s+"). Paths must not contain // in them.");r.push.apply(r,s.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.at=function(){return new e([])},e}(ic),sc=/^[_a-zA-Z][_a-zA-Z0-9]*$/,uc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ia.c)(e,t),e.prototype.Y=function(t,n,r){return new e(t,n,r)},e.ut=function(t){return sc.test(t)},e.prototype.ot=function(){return this.rt().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.ut(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.ot()},e.prototype.ht=function(){return 1===this.length&&"__name__"===this.get(0)},e.lt=function(){return new e(["__name__"])},e._t=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new qa(Fa.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var u=t[i];if("\\"===u){if(i+1===t.length)throw new qa(Fa.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var a=t[i+1];if("\\"!==a&&"."!==a&&"`"!==a)throw new qa(Fa.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=a,i+=2}else"`"===u?(s=!s,i++):"."!==u||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new qa(Fa.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.at=function(){return new e([])},e}(ic),ac=function(){function t(t){this.path=t}return t.ft=function(e){return new t(oc.ct(e))},t.dt=function(e){return new t(oc.ct(e).X(5))},t.prototype.wt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===oc.J(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.J=function(t,e){return oc.J(t.path,e.path)},t.Et=function(t){return t.length%2==0},t.Tt=function(e){return new t(new oc(e.slice()))},t}();function cc(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function lc(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var fc=function(){function t(t){this.fields=t,t.sort(uc.J)}return t.prototype.It=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].st(t))return!0;return!1},t.prototype.isEqual=function(t){return La(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),dc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function pc(t){if(Na(!!t),"string"==typeof t){var e=0,n=dc.exec(t);if(Na(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:gc(t.seconds),nanos:gc(t.nanos)}}function gc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function yc(t){return"string"==typeof t?Ua.fromBase64String(t):Ua.fromUint8Array(t)}function vc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function mc(t){var e=pc(t.mapValue.fields.__local_write_time__.timestampValue);return new nc(e.seconds,e.nanos)}function bc(t){return null==t}function wc(t){return 0===t&&1/t==-1/0}function _c(t){return"number"==typeof t&&Number.isInteger(t)&&!wc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function Oc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?vc(t)?4:10:ka()}function Ec(t,e){var n=Oc(t);if(n!==Oc(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return mc(t).isEqual(mc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=pc(t.timestampValue),r=pc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return yc(t.bytesValue).isEqual(yc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return gc(t.geoPointValue.latitude)===gc(e.geoPointValue.latitude)&&gc(t.geoPointValue.longitude)===gc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return gc(t.integerValue)===gc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=gc(t.doubleValue),r=gc(e.doubleValue);return n===r?wc(n)===wc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return La(t.arrayValue.values||[],e.arrayValue.values||[],Ec);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(cc(n)!==cc(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ec(n[i],r[i])))return!1;return!0}(t,e);default:return ka()}}function Ic(t,e){return void 0!==(t.values||[]).find((function(t){return Ec(t,e)}))}function Sc(t,e){var n=Oc(t),r=Oc(e);if(n!==r)return Va(n,r);switch(n){case 0:return 0;case 1:return Va(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=gc(t.integerValue||t.doubleValue),r=gc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Cc(t.timestampValue,e.timestampValue);case 4:return Cc(mc(t),mc(e));case 5:return Va(t.stringValue,e.stringValue);case 6:return function(t,e){var n=yc(t),r=yc(e);return n.u(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Va(n[i],r[i]);if(0!==o)return o}return Va(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Va(gc(t.latitude),gc(e.latitude));return 0!==n?n:Va(gc(t.longitude),gc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=Sc(n[i],r[i]);if(o)return o}return Va(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var u=Va(r[s],o[s]);if(0!==u)return u;var a=Sc(n[r[s]],i[o[s]]);if(0!==a)return a}return Va(r.length,o.length)}(t.mapValue,e.mapValue);default:throw ka()}}function Cc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Va(t,e);var n=pc(t),r=pc(e),i=Va(n.seconds,r.seconds);return 0!==i?i:Va(n.nanos,r.nanos)}function Tc(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=pc(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?yc(e.bytesValue).toBase64():"referenceValue"in e?ac.dt(e.referenceValue).toString():"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++)r?r=!1:n+=",",n+=t(o[i]);return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):ka();var n}(t)}function xc(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.ot()}}function jc(t){return!!t&&"integerValue"in t}function Ac(t){return!!t&&"arrayValue"in t}function kc(t){return!!t&&"nullValue"in t}function Nc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Pc(t){return!!t&&"mapValue"in t}var Dc=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.nt())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Pc(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.et()])||null},t.prototype.isEqual=function(t){return Ec(this.proto,t.proto)},t}(),Rc=function(){function t(t){void 0===t&&(t=Dc.empty()),this.At=t,this.Rt=new Map}return t.prototype.set=function(t,e){return this.Pt(t,e),this},t.prototype.delete=function(t){return this.Pt(t,null),this},t.prototype.Pt=function(t,e){for(var n=this.Rt,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Oc(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.et(),e)},t.prototype.yt=function(){var t=this.gt(uc.at(),this.Rt);return null!=t?new Dc(t):this.At},t.prototype.gt=function(t,e){var n=this,r=!1,i=this.At.field(t),o=Pc(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.gt(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function Vc(t){var e=[];return lc(t.fields||{},(function(t,n){var r=new uc([t]);if(Pc(n)){var i=Vc(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++)e.push(r.child(s[o]))}else e.push(r)})),new fc(e)}var Lc=function(t,e){this.key=t,this.version=e},Mc=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Vt=r,o.bt=!!i.bt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(Ia.c)(e,t),e.prototype.field=function(t){return this.Vt.field(t)},e.prototype.data=function(){return this.Vt},e.prototype.vt=function(){return this.Vt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.bt===t.bt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Vt.isEqual(t.Vt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Vt.toString()+", {hasLocalMutations: "+this.bt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.bt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Lc),Uc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(Ia.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Lc),Fc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ia.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Lc),qc=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.St=null};function Hc(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new qc(t,e,n,r,i,o,s)}function zc(t){var e=Pa(t);if(null===e.St){var n=e.path.ot();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.ot()+t.op.toString()+Tc(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.ot()+t.dir}(t)})).join(","),bc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=nl(e.startAt)),e.endAt&&(n+="|ub:",n+=nl(e.endAt)),e.St=n}return e.St}function Bc(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!il(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(o=e.filters[r]).op||!i.field.isEqual(o.field)||!Ec(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sl(t.startAt,e.startAt)&&sl(t.endAt,e.endAt)}function Gc(t){return ac.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}var $c=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(Ia.c)(e,t),e.create=function(t,n,r){return t.ht()?"in"===n||"not-in"===n?this.Dt(t,n,r):new Kc(t,n,r):"array-contains"===n?new Qc(t,r):"in"===n?new Yc(t,r):"not-in"===n?new Xc(t,r):"array-contains-any"===n?new tl(t,r):new e(t,n,r)},e.Dt=function(t,e,n){return"in"===e?new Wc(t,n):new Jc(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Ct(Sc(e,this.value)):null!==e&&Oc(this.value)===Oc(e)&&this.Ct(Sc(e,this.value))},e.prototype.Ct=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ka()}},e.prototype.xt=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Kc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ac.dt(r.referenceValue),i}return Object(Ia.c)(e,t),e.prototype.matches=function(t){var e=ac.J(t.key,this.key);return this.Ct(e)},e}($c),Wc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Zc(0,n),r}return Object(Ia.c)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}($c),Jc=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Zc(0,n),r}return Object(Ia.c)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}($c);function Zc(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return ac.dt(t.referenceValue)}))}var Qc=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(Ia.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return Ac(e)&&Ic(e.arrayValue,this.value)},e}($c),Yc=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(Ia.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Ic(this.value.arrayValue,e)},e}($c),Xc=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(Ia.c)(e,t),e.prototype.matches=function(t){if(Ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!Ic(this.value.arrayValue,e)},e}($c),tl=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(Ia.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!Ac(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Ic(e.value.arrayValue,t)}))},e}($c),el=function(t,e){this.position=t,this.before=e};function nl(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return Tc(t)})).join(",")}var rl=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function il(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function ol(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.ht()?ac.J(ac.dt(s.referenceValue),n.key):Sc(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function sl(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Ec(t.position[n],e.position[n]))return!1;return!0}var ul=function(t,e,n,r,i,o,s,u){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===u&&(u=null),this.path=t,this.collectionGroup=e,this.Nt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=u,this.Ot=null,this.Ft=null};function al(t,e,n,r,i,o,s,u){return new ul(t,e,n,r,i,o,s,u)}function cl(t){return new ul(t)}function ll(t){return!bc(t.limit)&&"F"===t.limitType}function hl(t){return!bc(t.limit)&&"L"===t.limitType}function fl(t){return t.Nt.length>0?t.Nt[0].field:null}function dl(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.xt())return r.field}return null}function pl(t){return null!==t.collectionGroup}function gl(t){var e=Pa(t);if(null===e.Ot){e.Ot=[];var n=dl(e),r=fl(e);if(null!==n&&null===r)n.ht()||e.Ot.push(new rl(n)),e.Ot.push(new rl(uc.lt(),"asc"));else{for(var i=!1,o=0,s=e.Nt;o<s.length;o++){var u=s[o];e.Ot.push(u),u.field.ht()&&(i=!0)}if(!i){var a=e.Nt.length>0?e.Nt[e.Nt.length-1].dir:"asc";e.Ot.push(new rl(uc.lt(),a))}}}return e.Ot}function yl(t){var e=Pa(t);if(!e.Ft)if("F"===e.limitType)e.Ft=Hc(e.path,e.collectionGroup,gl(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=gl(e);r<i.length;r++){var o=i[r];n.push(new rl(o.field,"desc"===o.dir?"asc":"desc"))}var s=e.endAt?new el(e.endAt.position,!e.endAt.before):null,u=e.startAt?new el(e.startAt.position,!e.startAt.before):null;e.Ft=Hc(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.Ft}function vl(t,e,n){return new ul(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ml(t,e){return Bc(yl(t),yl(e))&&t.limitType===e.limitType}function bl(t){return zc(yl(t))+"|lt:"+t.limitType}function wl(t){return"Query(target="+function(t){var e=t.path.ot();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.ot()+" "+e.op+" "+Tc(e.value);var e})).join(", ")+"]"),bc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.ot()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+nl(t.startAt)),t.endAt&&(e+=", endAt: "+nl(t.endAt)),"Target("+e+")"}(yl(t))+"; limitType="+t.limitType+")"}function _l(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.wt(t.collectionGroup)&&t.path.st(n):ac.Et(t.path)?t.path.isEqual(n):t.path.it(n)}(t,e)&&function(t,e){for(var n=0,r=t.Nt;n<r.length;n++){var i=r[n];if(!i.field.ht()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!ol(t.startAt,gl(t),e)||t.endAt&&ol(t.endAt,gl(t),e))}(t,e)}function Ol(t){return function(e,n){for(var r=!1,i=0,o=gl(t);i<o.length;i++){var s=o[i],u=El(s,e,n);if(0!==u)return u;r=r||s.field.ht()}return 0}}function El(t,e,n){var r=t.field.ht()?ac.J(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?Sc(r,i):ka()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ka()}}var Il=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=rc.min()),void 0===o&&(o=rc.min()),void 0===s&&(s=Ua.h),this.target=t,this.targetId=e,this.kt=n,this.sequenceNumber=r,this.Mt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Lt=function(e){return new t(this.target,this.targetId,this.kt,e,this.Mt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.$t=function(e,n){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.Bt=function(e){return new t(this.target,this.targetId,this.kt,this.sequenceNumber,this.Mt,e,this.resumeToken)},t}();function Sl(t,e){if(t.qt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wc(e)?"-0":e}}function Cl(t){return{integerValue:""+t}}function Tl(t,e){return _c(e)?Cl(e):Sl(t,e)}var xl=function(){this.Ut=void 0};function jl(t,e,n){return t instanceof Nl?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Pl?Dl(t,e):t instanceof Rl?Vl(t,e):function(t,e){var n=kl(t,e),r=Ml(n)+Ml(t.Qt);return jc(n)&&jc(t.Qt)?Cl(r):Sl(t.Kt,r)}(t,e)}function Al(t,e,n){return t instanceof Pl?Dl(t,e):t instanceof Rl?Vl(t,e):n}function kl(t,e){return t instanceof Ll?jc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Nl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ia.c)(e,t),e}(xl),Pl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ia.c)(e,t),e}(xl);function Dl(t,e){for(var n=Ul(e),r=function(t){n.some((function(e){return Ec(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Rl=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(Ia.c)(e,t),e}(xl);function Vl(t,e){for(var n=Ul(e),r=function(t){n=n.filter((function(e){return!Ec(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Ll=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Kt=e,r.Qt=n,r}return Object(Ia.c)(e,t),e}(xl);function Ml(t){return gc(t.integerValue||t.doubleValue)}function Ul(t){return Ac(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var Fl=function(t,e){this.field=t,this.transform=e},ql=function(t,e){this.version=t,this.transformResults=e},Hl=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.jt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function zl(t,e){return void 0!==t.updateTime?e instanceof Mc&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Mc}var Bl=function(){};function Gl(t,e,n){return t instanceof Zl?function(t,e,n){var r=t.value;if(n.transformResults){var i=Xl(t.fieldTransforms,e,n.transformResults);r=eh(t.fieldTransforms,r,i)}return new Mc(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Ql?function(t,e,n){if(!zl(t.Gt,e))return new Fc(t.key,n.version);var r=Yl(t,e,n.transformResults?Xl(t.fieldTransforms,e,n.transformResults):[]);return new Mc(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Uc(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function $l(t,e,n,r){return t instanceof Zl?function(t,e,n,r){if(!zl(t.Gt,e))return e;var i=t.value,o=th(t.fieldTransforms,n,e);i=eh(t.fieldTransforms,i,o);var s=Jl(e);return new Mc(t.key,s,i,{bt:!0})}(t,e,r):t instanceof Ql?function(t,e,n,r){if(!zl(t.Gt,e))return e;var i=Jl(e),o=Yl(t,e,th(t.fieldTransforms,n,e));return new Mc(t.key,i,o,{bt:!0})}(t,e,r):function(t,e){return zl(t.Gt,e)?new Uc(t.key,rc.min()):e}(t,e)}function Kl(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],s=e instanceof Mc?e.field(o.field):void 0,u=kl(o.transform,s||null);null!=u&&(n=null==n?(new Rc).set(o.field,u):n.set(o.field,u))}return n?n.yt():null}(t.fieldTransforms,e)}function Wl(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Gt.isEqual(e.Gt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&La(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Pl&&e instanceof Pl||t instanceof Rl&&e instanceof Rl?La(t.elements,e.elements,Ec):t instanceof Ll&&e instanceof Ll?Ec(t.Qt,e.Qt):t instanceof Nl&&e instanceof Nl}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.zt.isEqual(e.zt))}function Jl(t){return t instanceof Mc?t.version:rc.min()}var Zl=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.Gt=r,o.fieldTransforms=i,o.type=0,o}return Object(Ia.c)(e,t),e}(Bl),Ql=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var s=this;return(s=t.call(this)||this).key=e,s.data=n,s.zt=r,s.Gt=i,s.fieldTransforms=o,s.type=1,s}return Object(Ia.c)(e,t),e}(Bl);function Yl(t,e,n){var r;return r=function(t,e){var n=new Rc(e);return t.zt.fields.forEach((function(e){if(!e.nt()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.yt()}(t,r=e instanceof Mc?e.data():Dc.empty()),eh(t.fieldTransforms,r,n)}function Xl(t,e,n){var r=[];Na(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,u=null;e instanceof Mc&&(u=e.field(o.field)),r.push(Al(s,u,n[i]))}return r}function th(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var u=s[o],a=u.transform,c=null;n instanceof Mc&&(c=n.field(u.field)),i.push(jl(a,c,e))}return i}function eh(t,e,n){for(var r=new Rc(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.yt()}var nh,rh,ih=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=2,r.fieldTransforms=[],r}return Object(Ia.c)(e,t),e}(Bl),oh=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Gt=n,r.type=3,r.fieldTransforms=[],r}return Object(Ia.c)(e,t),e}(Bl),sh=function(t){this.count=t};function uh(t){switch(t){case Fa.OK:return ka();case Fa.CANCELLED:case Fa.UNKNOWN:case Fa.DEADLINE_EXCEEDED:case Fa.RESOURCE_EXHAUSTED:case Fa.INTERNAL:case Fa.UNAVAILABLE:case Fa.UNAUTHENTICATED:return!1;case Fa.INVALID_ARGUMENT:case Fa.NOT_FOUND:case Fa.ALREADY_EXISTS:case Fa.PERMISSION_DENIED:case Fa.FAILED_PRECONDITION:case Fa.ABORTED:case Fa.OUT_OF_RANGE:case Fa.UNIMPLEMENTED:case Fa.DATA_LOSS:return!0;default:return ka()}}function ah(t){if(void 0===t)return xa("GRPC error has no .code"),Fa.UNKNOWN;switch(t){case nh.OK:return Fa.OK;case nh.CANCELLED:return Fa.CANCELLED;case nh.UNKNOWN:return Fa.UNKNOWN;case nh.DEADLINE_EXCEEDED:return Fa.DEADLINE_EXCEEDED;case nh.RESOURCE_EXHAUSTED:return Fa.RESOURCE_EXHAUSTED;case nh.INTERNAL:return Fa.INTERNAL;case nh.UNAVAILABLE:return Fa.UNAVAILABLE;case nh.UNAUTHENTICATED:return Fa.UNAUTHENTICATED;case nh.INVALID_ARGUMENT:return Fa.INVALID_ARGUMENT;case nh.NOT_FOUND:return Fa.NOT_FOUND;case nh.ALREADY_EXISTS:return Fa.ALREADY_EXISTS;case nh.PERMISSION_DENIED:return Fa.PERMISSION_DENIED;case nh.FAILED_PRECONDITION:return Fa.FAILED_PRECONDITION;case nh.ABORTED:return Fa.ABORTED;case nh.OUT_OF_RANGE:return Fa.OUT_OF_RANGE;case nh.UNIMPLEMENTED:return Fa.UNIMPLEMENTED;case nh.DATA_LOSS:return Fa.DATA_LOSS;default:return ka()}}(rh=nh||(nh={}))[rh.OK=0]="OK",rh[rh.CANCELLED=1]="CANCELLED",rh[rh.UNKNOWN=2]="UNKNOWN",rh[rh.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rh[rh.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rh[rh.NOT_FOUND=5]="NOT_FOUND",rh[rh.ALREADY_EXISTS=6]="ALREADY_EXISTS",rh[rh.PERMISSION_DENIED=7]="PERMISSION_DENIED",rh[rh.UNAUTHENTICATED=16]="UNAUTHENTICATED",rh[rh.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rh[rh.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rh[rh.ABORTED=10]="ABORTED",rh[rh.OUT_OF_RANGE=11]="OUT_OF_RANGE",rh[rh.UNIMPLEMENTED=12]="UNIMPLEMENTED",rh[rh.INTERNAL=13]="INTERNAL",rh[rh.UNAVAILABLE=14]="UNAVAILABLE",rh[rh.DATA_LOSS=15]="DATA_LOSS";var ch=function(){function t(t,e){this.J=t,this.root=e||hh.EMPTY}return t.prototype.Ht=function(e,n){return new t(this.J,this.root.Ht(e,n,this.J).copy(null,null,hh.Jt,null,null))},t.prototype.remove=function(e){return new t(this.J,this.root.remove(e,this.J).copy(null,null,hh.Jt,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.nt();){var n=this.J(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.nt();){var r=this.J(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.nt=function(){return this.root.nt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(){return this.root.Xt()},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.forEach=function(t){this.Zt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Zt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.te=function(t){return this.root.te(t)},t.prototype.ee=function(){return new lh(this.root,null,this.J,!1)},t.prototype.ne=function(t){return new lh(this.root,t,this.J,!1)},t.prototype.se=function(){return new lh(this.root,null,this.J,!0)},t.prototype.ie=function(t){return new lh(this.root,t,this.J,!0)},t}(),lh=function(){function t(t,e,n,r){this.re=r,this.oe=[];for(var i=1;!t.nt();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.re?t.left:t.right;else{if(0===i){this.oe.push(t);break}this.oe.push(t),t=this.re?t.right:t.left}}return t.prototype.ce=function(){var t=this.oe.pop(),e={key:t.key,value:t.value};if(this.re)for(t=t.left;!t.nt();)this.oe.push(t),t=t.right;else for(t=t.right;!t.nt();)this.oe.push(t),t=t.left;return e},t.prototype.ae=function(){return this.oe.length>0},t.prototype.ue=function(){if(0===this.oe.length)return null;var t=this.oe[this.oe.length-1];return{key:t.key,value:t.value}},t}(),hh=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.nt=function(){return!1},t.prototype.Zt=function(t){return this.left.Zt(t)||t(this.key,this.value)||this.right.Zt(t)},t.prototype.te=function(t){return this.right.te(t)||t(this.key,this.value)||this.left.te(t)},t.prototype.min=function(){return this.left.nt()?this:this.left.min()},t.prototype.Yt=function(){return this.min().key},t.prototype.Xt=function(){return this.right.nt()?this.key:this.right.Xt()},t.prototype.Ht=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.Ht(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.Ht(t,e,n))).he()},t.prototype.le=function(){if(this.left.nt())return t.EMPTY;var e=this;return e.left._e()||e.left.left._e()||(e=e.fe()),(e=e.copy(null,null,null,e.left.le(),null)).he()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.nt()||i.left._e()||i.left.left._e()||(i=i.fe()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left._e()&&(i=i.de()),i.right.nt()||i.right._e()||i.right.left._e()||(i=i.we()),0===n(e,i.key)){if(i.right.nt())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.le())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.he()},t.prototype._e=function(){return this.color},t.prototype.he=function(){var t=this;return t.right._e()&&!t.left._e()&&(t=t.Ee()),t.left._e()&&t.left.left._e()&&(t=t.de()),t.left._e()&&t.right._e()&&(t=t.Te()),t},t.prototype.fe=function(){var t=this.Te();return t.right.left._e()&&(t=(t=(t=t.copy(null,null,null,null,t.right.de())).Ee()).Te()),t},t.prototype.we=function(){var t=this.Te();return t.left.left._e()&&(t=(t=t.de()).Te()),t},t.prototype.Ee=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.de=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Te=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Ie=function(){var t=this.me();return Math.pow(2,t)<=this.size+1},t.prototype.me=function(){if(this._e()&&this.left._e())throw ka();if(this.right._e())throw ka();var t=this.left.me();if(t!==this.right.me())throw ka();return t+(this._e()?0:1)},t}();hh.EMPTY=null,hh.RED=!0,hh.Jt=!1,hh.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ka()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ka()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ka()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ka()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ka()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.Ht=function(t,e,n){return new hh(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.nt=function(){return!0},t.prototype.Zt=function(t){return!1},t.prototype.te=function(t){return!1},t.prototype.Yt=function(){return null},t.prototype.Xt=function(){return null},t.prototype._e=function(){return!1},t.prototype.Ie=function(){return!0},t.prototype.me=function(){return 0},t}());var fh=function(){function t(t){this.J=t,this.data=new ch(this.J)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Yt()},t.prototype.last=function(){return this.data.Xt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Zt((function(e,n){return t(e),!1}))},t.prototype.Ae=function(t,e){for(var n=this.data.ne(t[0]);n.ae();){var r=n.ce();if(this.J(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Re=function(t,e){var n;for(n=void 0!==e?this.data.ne(e):this.data.ee();n.ae();)if(!t(n.ce().key))return},t.prototype.Pe=function(t){var e=this.data.ne(t);return e.ae()?e.ce().key:null},t.prototype.ee=function(){return new dh(this.data.ee())},t.prototype.ne=function(t){return new dh(this.data.ne(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).Ht(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.nt=function(){return this.data.nt()},t.prototype.ye=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.ee(),r=e.data.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(0!==this.J(i,o))return!1}return!0},t.prototype.rt=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.J);return n.data=e,n},t}(),dh=function(){function t(t){this.ge=t}return t.prototype.ce=function(){return this.ge.ce().key},t.prototype.ae=function(){return this.ge.ae()},t}(),ph=new ch(ac.J);function gh(){return ph}function yh(){return gh()}var vh=new ch(ac.J);function mh(){return vh}var bh=new ch(ac.J);function wh(){return bh}var _h=new fh(ac.J);function Oh(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=_h,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Eh=new fh(Va);function Ih(){return Eh}var Sh=function(){function t(t){this.J=t?function(e,n){return t(e,n)||ac.J(e.key,n.key)}:function(t,e){return ac.J(t.key,e.key)},this.Ve=mh(),this.pe=new ch(this.J)}return t.be=function(e){return new t(e.J)},t.prototype.has=function(t){return null!=this.Ve.get(t)},t.prototype.get=function(t){return this.Ve.get(t)},t.prototype.first=function(){return this.pe.Yt()},t.prototype.last=function(){return this.pe.Xt()},t.prototype.nt=function(){return this.pe.nt()},t.prototype.indexOf=function(t){var e=this.Ve.get(t);return e?this.pe.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.pe.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.pe.Zt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ve.Ht(t.key,t),e.pe.Ht(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ve.remove(t),this.pe.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.pe.ee(),r=e.pe.ee();n.ae();){var i=n.ce().key,o=r.ce().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.J=this.J,r.Ve=e,r.pe=n,r},t}(),Ch=function(){function t(){this.ve=new ch(ac.J)}return t.prototype.track=function(t){var e=t.doc.key,n=this.ve.get(e);n?0!==t.type&&3===n.type?this.ve=this.ve.Ht(e,t):3===t.type&&1!==n.type?this.ve=this.ve.Ht(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.ve=this.ve.Ht(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.ve=this.ve.remove(e):1===t.type&&2===n.type?this.ve=this.ve.Ht(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.ve=this.ve.Ht(e,{type:2,doc:t.doc}):ka():this.ve=this.ve.Ht(e,t)},t.prototype.Se=function(){var t=[];return this.ve.Zt((function(e,n){t.push(n)})),t},t}(),Th=function(){function t(t,e,n,r,i,o,s,u){this.query=t,this.docs=e,this.De=n,this.docChanges=r,this.Ce=i,this.fromCache=o,this.xe=s,this.Ne=u}return t.Oe=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Sh.be(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Ce.nt()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.xe===t.xe&&this.Ce.isEqual(t.Ce)&&ml(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.De.isEqual(t.De)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),xh=function(){function t(t,e,n,r,i){this.Mt=t,this.Fe=e,this.ke=n,this.Me=r,this.Le=i}return t.$e=function(e,n){var r=new Map;return r.set(e,jh.Be(e,n)),new t(rc.min(),r,Ih(),gh(),Oh())},t}(),jh=function(){function t(t,e,n,r,i){this.resumeToken=t,this.qe=e,this.Ue=n,this.Qe=r,this.Ke=i}return t.Be=function(e,n){return new t(Ua.h,n,Oh(),Oh(),Oh())},t}(),Ah=function(t,e,n,r){this.je=t,this.removedTargetIds=e,this.key=n,this.We=r},kh=function(t,e){this.targetId=t,this.Ge=e},Nh=function(t,e,n,r){void 0===n&&(n=Ua.h),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},Ph=function(){function t(){this.ze=0,this.He=Vh(),this.Je=Ua.h,this.Ye=!1,this.Xe=!0}return Object.defineProperty(t.prototype,"qe",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return 0!==this.ze},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tn",{get:function(){return this.Xe},enumerable:!1,configurable:!0}),t.prototype.en=function(t){t.o()>0&&(this.Xe=!0,this.Je=t)},t.prototype.nn=function(){var t=Oh(),e=Oh(),n=Oh();return this.He.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ka()}})),new jh(this.Je,this.Ye,t,e,n)},t.prototype.sn=function(){this.Xe=!1,this.He=Vh()},t.prototype.rn=function(t,e){this.Xe=!0,this.He=this.He.Ht(t,e)},t.prototype.on=function(t){this.Xe=!0,this.He=this.He.remove(t)},t.prototype.cn=function(){this.ze+=1},t.prototype.an=function(){this.ze-=1},t.prototype.un=function(){this.Xe=!0,this.Ye=!0},t}(),Dh=function(){function t(t){this.hn=t,this.ln=new Map,this._n=gh(),this.fn=Rh(),this.dn=new fh(Va)}return t.prototype.wn=function(t){for(var e=0,n=t.je;e<n.length;e++){var r=n[e];t.We instanceof Mc?this.En(r,t.We):t.We instanceof Uc&&this.Tn(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)this.Tn(r=o[i],t.key,t.We)},t.prototype.In=function(t){var e=this;this.mn(t,(function(n){var r=e.An(n);switch(t.state){case 0:e.Rn(n)&&r.en(t.resumeToken);break;case 1:r.an(),r.Ze||r.sn(),r.en(t.resumeToken);break;case 2:r.an(),r.Ze||e.removeTarget(n);break;case 3:e.Rn(n)&&(r.un(),r.en(t.resumeToken));break;case 4:e.Rn(n)&&(e.Pn(n),r.en(t.resumeToken));break;default:ka()}}))},t.prototype.mn=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.ln.forEach((function(t,r){n.Rn(r)&&e(r)}))},t.prototype.yn=function(t){var e=t.targetId,n=t.Ge.count,r=this.gn(e);if(r){var i=r.target;if(Gc(i))if(0===n){var o=new ac(i.path);this.Tn(e,o,new Uc(o,rc.min()))}else Na(1===n);else this.Vn(e)!==n&&(this.Pn(e),this.dn=this.dn.add(e))}},t.prototype.pn=function(t){var e=this,n=new Map;this.ln.forEach((function(r,i){var o=e.gn(i);if(o){if(r.qe&&Gc(o.target)){var s=new ac(o.target.path);null!==e._n.get(s)||e.bn(i,s)||e.Tn(i,s,new Uc(s,t))}r.tn&&(n.set(i,r.nn()),r.sn())}}));var r=Oh();this.fn.forEach((function(t,n){var i=!0;n.Re((function(t){var n=e.gn(t);return!n||2===n.kt||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new xh(t,n,this.dn,this._n,r);return this._n=gh(),this.fn=Rh(),this.dn=new fh(Va),i},t.prototype.En=function(t,e){if(this.Rn(t)){var n=this.bn(t,e.key)?2:0;this.An(t).rn(e.key,n),this._n=this._n.Ht(e.key,e),this.fn=this.fn.Ht(e.key,this.vn(e.key).add(t))}},t.prototype.Tn=function(t,e,n){if(this.Rn(t)){var r=this.An(t);this.bn(t,e)?r.rn(e,1):r.on(e),this.fn=this.fn.Ht(e,this.vn(e).delete(t)),n&&(this._n=this._n.Ht(e,n))}},t.prototype.removeTarget=function(t){this.ln.delete(t)},t.prototype.Vn=function(t){var e=this.An(t).nn();return this.hn.Sn(t).size+e.Ue.size-e.Ke.size},t.prototype.cn=function(t){this.An(t).cn()},t.prototype.An=function(t){var e=this.ln.get(t);return e||(e=new Ph,this.ln.set(t,e)),e},t.prototype.vn=function(t){var e=this.fn.get(t);return e||(e=new fh(Va),this.fn=this.fn.Ht(t,e)),e},t.prototype.Rn=function(t){var e=null!==this.gn(t);return e||Ta("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.gn=function(t){var e=this.ln.get(t);return e&&e.Ze?null:this.hn.Dn(t)},t.prototype.Pn=function(t){var e=this;this.ln.set(t,new Ph),this.hn.Sn(t).forEach((function(n){e.Tn(t,n,null)}))},t.prototype.bn=function(t,e){return this.hn.Sn(t).has(e)},t}();function Rh(){return new ch(ac.J)}function Vh(){return new ch(ac.J)}var Lh={asc:"ASCENDING",desc:"DESCENDING"},Mh={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Uh=function(t,e){this.T=t,this.qt=e};function Fh(t,e){return t.qt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function qh(t,e){return t.qt?e.toBase64():e.toUint8Array()}function Hh(t,e){return Fh(t,e.G())}function zh(t){return Na(!!t),rc.j(function(t){var e=pc(t);return new nc(e.seconds,e.nanos)}(t))}function Bh(t,e){return function(t){return new oc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).ot()}function Gh(t){var e=oc.ct(t);return Na(gf(e)),e}function $h(t,e){return Bh(t.T,e.path)}function Kh(t,e){var n=Gh(e);if(n.get(1)!==t.T.projectId)throw new qa(Fa.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.T.projectId);if(n.get(3)!==t.T.database)throw new qa(Fa.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.T.database);return new ac(Qh(n))}function Wh(t,e){return Bh(t.T,e)}function Jh(t){var e=Gh(t);return 4===e.length?oc.at():Qh(e)}function Zh(t){return new oc(["projects",t.T.projectId,"databases",t.T.database]).ot()}function Qh(t){return Na(t.length>4&&"documents"===t.get(4)),t.X(5)}function Yh(t,e,n){return{name:$h(t,e),fields:n.proto.mapValue.fields}}function Xh(t,e,n){var r=Kh(t,e.name),i=zh(e.updateTime),o=new Dc({mapValue:{fields:e.fields}});return new Mc(r,i,o,{hasCommittedMutations:!!n})}function tf(t,e){var n;if(e instanceof Zl)n={update:Yh(t,e.key,e.value)};else if(e instanceof ih)n={delete:$h(t,e.key)};else if(e instanceof Ql)n={update:Yh(t,e.key,e.data),updateMask:pf(e.zt)};else{if(!(e instanceof oh))return ka();n={verify:$h(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Nl)return{fieldPath:e.field.ot(),setToServerValue:"REQUEST_TIME"};if(n instanceof Pl)return{fieldPath:e.field.ot(),appendMissingElements:{values:n.elements}};if(n instanceof Rl)return{fieldPath:e.field.ot(),removeAllFromArray:{values:n.elements}};if(n instanceof Ll)return{fieldPath:e.field.ot(),increment:n.Qt};throw ka()}(0,t)}))),e.Gt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Hh(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ka()}(t,e.Gt)),n}function ef(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Hl.updateTime(zh(t.updateTime)):void 0!==t.exists?Hl.exists(t.exists):Hl.jt()}(e.currentDocument):Hl.jt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;"setToServerValue"in e?(Na("REQUEST_TIME"===e.setToServerValue),n=new Nl):"appendMissingElements"in e?n=new Pl(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Rl(e.removeAllFromArray.values||[]):"increment"in e?n=new Ll(t,e.increment):ka();var r=uc._t(e.fieldPath);return new Fl(r,n)}(t,e)})):[];if(e.update){var i=Kh(t,e.update.name),o=new Dc({mapValue:{fields:e.update.fields}});if(e.updateMask){var s=function(t){return new fc((t.fieldPaths||[]).map((function(t){return uc._t(t)})))}(e.updateMask);return new Ql(i,o,s,n,r)}return new Zl(i,o,n,r)}if(e.delete){var u=Kh(t,e.delete);return new ih(u,n)}if(e.verify){var a=Kh(t,e.verify);return new oh(a,n)}return ka()}function nf(t,e){return{documents:[Wh(t,e.path)]}}function rf(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Wh(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Wh(t,r.Z()),n.structuredQuery.from=[{collectionId:r.et()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(Nc(t.value))return{unaryFilter:{field:lf(t.field),op:"IS_NAN"}};if(kc(t.value))return{unaryFilter:{field:lf(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Nc(t.value))return{unaryFilter:{field:lf(t.field),op:"IS_NOT_NAN"}};if(kc(t.value))return{unaryFilter:{field:lf(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:lf(t.field),op:cf(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:lf(t.field),direction:af(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.qt||bc(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=sf(e.startAt)),e.endAt&&(n.structuredQuery.endAt=sf(e.endAt)),n}function of(t){var e=Jh(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Na(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[df(e)]:void 0!==e.fieldFilter?[ff(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):ka():[]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(t){return function(t){return new rl(hf(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var a=null;n.limit&&(a=function(t){var e;return bc(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=uf(n.startAt));var l=null;return n.endAt&&(l=uf(n.endAt)),al(e,i,u,s,a,"F",c,l)}function sf(t){return{before:t.before,values:t.position}}function uf(t){return new el(t.values||[],!!t.before)}function af(t){return Lh[t]}function cf(t){return Mh[t]}function lf(t){return{fieldPath:t.ot()}}function hf(t){return uc._t(t.fieldPath)}function ff(t){return $c.create(hf(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ka()}}(t.fieldFilter.op),t.fieldFilter.value)}function df(t){switch(t.unaryFilter.op){case"IS_NAN":var e=hf(t.unaryFilter.field);return $c.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=hf(t.unaryFilter.field);return $c.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=hf(t.unaryFilter.field);return $c.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=hf(t.unaryFilter.field);return $c.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ka()}}function pf(t){var e=[];return t.fields.forEach((function(t){return e.push(t.ot())})),{fieldPaths:e}}function gf(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var yf=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},vf=function(){function t(t){var e=this;this.Cn=null,this.xn=null,this.result=void 0,this.error=void 0,this.Nn=!1,this.On=!1,t((function(t){e.Nn=!0,e.result=t,e.Cn&&e.Cn(t)}),(function(t){e.Nn=!0,e.error=t,e.xn&&e.xn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.On&&ka(),this.On=!0,this.Nn?this.error?this.Fn(n,this.error):this.kn(e,this.result):new t((function(t,i){r.Cn=function(n){r.kn(e,n).next(t,i)},r.xn=function(e){r.Fn(n,e).next(t,i)}}))},t.prototype.Mn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Ln=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.kn=function(e,n){return e?this.Ln((function(){return e(n)})):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Ln((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.$n=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Bn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.$n(r)},t}(),mf=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.qn=new yf,this.transaction.oncomplete=function(){n.qn.resolve()},this.transaction.onabort=function(){e.error?n.qn.reject(new _f(t,e.error)):n.qn.resolve()},this.transaction.onerror=function(e){var r=Cf(e.target.error);n.qn.reject(new _f(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new _f(n,e)}},Object.defineProperty(t.prototype,"Un",{get:function(){return this.qn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.qn.reject(t),this.aborted||(Ta("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Ef(e)},t}(),bf=function(){function t(e,n,r){this.name=e,this.version=n,this.Qn=r,12.2===t.Kn(Object(Ei.j)())&&xa("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Ta("SimpleDb","Removing database:",t),If(window.indexedDB.deleteDatabase(t)).Mn()},t.jn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(Ei.j)(),n=t.Kn(e),r=0<n&&n<10,i=t.Gn(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.zn)},t.Hn=function(t,e){return t.store(e)},t.Kn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Gn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Jn=function(t){return Object(Ia.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Ia.d)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Ta("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new _f(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new qa(Fa.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new _f(t,n))},i.onupgradeneeded=function(t){Ta("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Qn.Yn(t.target.result,i.transaction,t.oldVersion,n.version).next((function(){Ta("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Xn&&(this.db.onversionchange=function(t){return n.Xn(t)}),this.db)]}}))}))},t.prototype.Zn=function(t){this.Xn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(Ia.b)(this,void 0,void 0,(function(){var i,o,s,u,a;return Object(Ia.d)(this,(function(c){switch(c.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,a,c,l;return Object(Ia.d)(this,(function(h){switch(h.label){case 0:++o,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,u.Jn(t)];case 2:return u.db=h.sent(),e=mf.open(u.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),vf.reject(t)})).Mn(),a={},s.catch((function(){})),[4,e.Un];case 3:return[2,(a.value=(h.sent(),s),a)];case 4:return Ta("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&o<3),u.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}}))},u=this,c.label=1;case 1:return[5,s()];case 2:if("object"==typeof(a=c.sent()))return[2,a.value];c.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),wf=function(){function t(t){this.ts=t,this.es=!1,this.ns=null}return Object.defineProperty(t.prototype,"Nn",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ss",{get:function(){return this.ns},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.ts=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.es=!0},t.prototype.rs=function(t){this.ns=t},t.prototype.delete=function(){return If(this.ts.delete())},t}(),_f=function(t){function e(e,n){var r=this;return(r=t.call(this,Fa.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(Ia.c)(e,t),e}(qa);function Of(t){return"IndexedDbTransactionError"===t.name}var Ef=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ta("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ta("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),If(n)},t.prototype.add=function(t){return Ta("SimpleDb","ADD",this.store.name,t,t),If(this.store.add(t))},t.prototype.get=function(t){var e=this;return If(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Ta("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Ta("SimpleDb","DELETE",this.store.name,t),If(this.store.delete(t))},t.prototype.count=function(){return Ta("SimpleDb","COUNT",this.store.name),If(this.store.count())},t.prototype.os=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.cs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.us=function(t,e){Ta("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.hs=!1;var r=this.cursor(n);return this.cs(r,(function(t,e,n){return n.delete()}))},t.prototype.ls=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.cs(r,e)},t.prototype._s=function(t){var e=this.cursor({});return new vf((function(n,r){e.onerror=function(t){var e=Cf(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.cs=function(t,e){var n=[];return new vf((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new wf(i),s=e(i.primaryKey,i.value,o);if(s instanceof vf){var u=s.catch((function(t){return o.done(),vf.reject(t)}));n.push(u)}o.Nn?r():null===o.ss?i.continue():i.continue(o.ss)}else r()}})).next((function(){return vf.$n(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.hs?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function If(t){return new vf((function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=Cf(t.target.error);n(e)}}))}var Sf=!1;function Cf(t){var e=bf.Kn(Object(Ei.j)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new qa("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Sf||(Sf=!0,setTimeout((function(){throw r}),0)),r}}return t}var Tf=function(){function t(t,e,n,r,i){this.fs=t,this.ds=e,this.ws=n,this.op=r,this.Es=i,this.Ts=new yf,this.then=this.Ts.promise.then.bind(this.Ts.promise),this.Ts.promise.catch((function(t){}))}return t.Is=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.As=setTimeout((function(){return e.Rs()}),t)},t.prototype.Ps=function(){return this.Rs()},t.prototype.cancel=function(t){null!==this.As&&(this.clearTimeout(),this.Ts.reject(new qa(Fa.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.Rs=function(){var t=this;this.fs.ys((function(){return null!==t.As?(t.clearTimeout(),t.op().then((function(e){return t.Ts.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.As&&(this.Es(this),clearTimeout(this.As),this.As=null)},t}();function xf(t,e){if(xa("AsyncQueue",e+": "+t),Of(t))return new qa(Fa.UNAVAILABLE,e+": "+t);throw t}var jf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Af=function(){function t(){this.gs=[]}return t.prototype.Vs=function(t){this.gs.push(t)},t.prototype.ps=function(){this.gs.forEach((function(t){return t()}))},t}();function kf(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Pf(e)),e=Nf(t.get(n),e);return Pf(e)}function Nf(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Pf(t){return t+"\x01\x01"}function Df(t){var e=t.length;if(Na(e>=2),2===e)return Na("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),oc.at();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("\x01",o);switch((s<0||s>n)&&ka(),t.charAt(s+1)){case"\x01":var u=t.substring(o,s),a=void 0;0===i.length?a=u:(a=i+=u,i=""),r.push(a);break;case"\x10":i+=t.substring(o,s),i+="\0";break;case"\x11":i+=t.substring(o,s+1);break;default:ka()}o=s+2}return new oc(r)}var Rf=function(t,e){this.seconds=t,this.nanoseconds=e},Vf=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Vf.store="owner",Vf.key="owner";var Lf=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};Lf.store="mutationQueues",Lf.keyPath="userId";var Mf=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};Mf.store="mutations",Mf.keyPath="batchId",Mf.userMutationsIndex="userMutationsIndex",Mf.userMutationsKeyPath=["userId","batchId"];var Uf=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,kf(e)]},t.key=function(t,e,n){return[t,kf(e),n]},t}();Uf.store="documentMutations",Uf.PLACEHOLDER=new Uf;var Ff=function(t,e){this.path=t,this.readTime=e},qf=function(t,e){this.path=t,this.version=e},Hf=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Hf.store="remoteDocuments",Hf.readTimeIndex="readTimeIndex",Hf.readTimeIndexPath="readTime",Hf.collectionReadTimeIndex="collectionReadTimeIndex",Hf.collectionReadTimeIndexPath=["parentPath","readTime"];var zf=function(t){this.byteSize=t};zf.store="remoteDocumentGlobal",zf.key="remoteDocumentGlobalKey";var Bf=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};Bf.store="targets",Bf.keyPath="targetId",Bf.queryTargetsIndexName="queryTargetsIndex",Bf.queryTargetsKeyPath=["canonicalId","targetId"];var Gf=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Gf.store="targetDocuments",Gf.keyPath=["targetId","path"],Gf.documentTargetsIndex="documentTargetsIndex",Gf.documentTargetsKeyPath=["path","targetId"];var $f=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};$f.key="targetGlobalKey",$f.store="targetGlobal";var Kf=function(t,e){this.collectionId=t,this.parent=e};Kf.store="collectionParents",Kf.keyPath=["collectionId","parent"];var Wf=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Wf.store="clientMetadata",Wf.keyPath="clientId";var Jf=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Jf.store="bundles",Jf.keyPath="bundleId";var Zf=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Zf.store="namedQueries",Zf.keyPath="name";var Qf=Object(Ia.g)(Object(Ia.g)(Object(Ia.g)(Object(Ia.g)([Lf.store,Mf.store,Uf.store,Hf.store,Bf.store,Vf.store,$f.store,Gf.store],[Wf.store]),[zf.store]),[Kf.store]),[Jf.store,Zf.store]),Yf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).bs=e,r.vs=n,r}return Object(Ia.c)(e,t),e}(Af);function Xf(t,e){var n=Pa(t);return bf.Hn(n.bs,e)}var td=function(){function t(t,e,n,r){this.batchId=t,this.Ss=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ds=function(t,e,n){for(var r=n.Cs,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Gl(o,e,r[i]))}return e},t.prototype.xs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(s=r[n]).key.isEqual(t)&&(e=$l(s,e,0,this.Ss));for(var i=0,o=this.mutations;i<o.length;i++){var s;(s=o[i]).key.isEqual(t)&&(e=$l(s,e,0,this.Ss))}return e},t.prototype.Ns=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.xs(r.key,t.get(r.key));i&&(n=n.Ht(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Oh())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&La(this.mutations,t.mutations,(function(t,e){return Wl(t,e)}))&&La(this.baseMutations,t.baseMutations,(function(t,e){return Wl(t,e)}))},t}(),ed=function(){function t(t,e,n,r){this.batch=t,this.Os=e,this.Cs=n,this.Fs=r}return t.from=function(e,n,r){Na(e.mutations.length===r.length);for(var i=wh(),o=e.mutations,s=0;s<o.length;s++)i=i.Ht(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),nd=function(t){this.ks=t};function rd(t,e){if(e.document)return Xh(t.ks,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ac.Tt(e.noDocument.path),r=ad(e.noDocument.readTime);return new Uc(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=ac.Tt(e.unknownDocument.path);return r=ad(e.unknownDocument.version),new Fc(i,r)}return ka()}function id(t,e,n){var r=od(n),i=e.key.path.Z().rt();if(e instanceof Mc){var o=function(t,e){return{name:$h(t,e.key),fields:e.vt().mapValue.fields,updateTime:Fh(t,e.version.G())}}(t.ks,e),s=e.hasCommittedMutations;return new Hf(null,null,o,s,r,i)}if(e instanceof Uc){var u=e.key.path.rt(),a=ud(e.version);return s=e.hasCommittedMutations,new Hf(null,new Ff(u,a),null,s,r,i)}if(e instanceof Fc){var c=e.key.path.rt(),l=ud(e.version);return new Hf(new qf(c,l),null,null,!0,r,i)}return ka()}function od(t){var e=t.G();return[e.seconds,e.nanoseconds]}function sd(t){var e=new nc(t[0],t[1]);return rc.j(e)}function ud(t){var e=t.G();return new Rf(e.seconds,e.nanoseconds)}function ad(t){var e=new nc(t.seconds,t.nanoseconds);return rc.j(e)}function cd(t,e){for(var n=(e.baseMutations||[]).map((function(e){return ef(t.ks,e)})),r=e.mutations.length-1;r>=0;--r){var i=e.mutations[r];void 0!==(null==i?void 0:i.transform)&&(e.mutations[r-1].updateTransforms=i.transform.fieldTransforms,e.mutations.splice(r,1),--r)}var o=e.mutations.map((function(e){return ef(t.ks,e)})),s=nc.fromMillis(e.localWriteTimeMs);return new td(e.batchId,s,n,o)}function ld(t){var e,n,r=ad(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?ad(t.lastLimboFreeSnapshotVersion):rc.min();return void 0!==t.query.documents?(Na(1===(n=t.query).documents.length),e=yl(cl(Jh(n.documents[0])))):e=function(t){return yl(of(t))}(t.query),new Il(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Ua.fromBase64String(t.resumeToken))}function hd(t,e){var n,r=ud(e.Mt),i=ud(e.lastLimboFreeSnapshotVersion);n=Gc(e.target)?nf(t.ks,e.target):rf(t.ks,e.target);var o=e.resumeToken.toBase64();return new Bf(e.targetId,zc(e.target),r,o,e.sequenceNumber,i,n)}function fd(t){var e=of({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?vl(e,e.limit,"L"):e}var dd=function(){function t(){}return t.prototype.Ms=function(t,e){return pd(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:ad(e.createTime),version:e.version};var e}))},t.prototype.Ls=function(t,e){return pd(t).put({bundleId:(n=e).id,createTime:ud(zh(n.createTime)),version:n.version});var n},t.prototype.$s=function(t,e){return gd(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:fd(e.bundledQuery),readTime:ad(e.readTime)};var e}))},t.prototype.Bs=function(t,e){return gd(t).put(function(t){return{name:t.name,readTime:ud(zh(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function pd(t){return Xf(t,Jf.store)}function gd(t){return Xf(t,Zf.store)}var yd=function(){function t(){this.qs=new vd}return t.prototype.Us=function(t,e){return this.qs.add(e),vf.resolve()},t.prototype.Qs=function(t,e){return vf.resolve(this.qs.getEntries(e))},t}(),vd=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.et(),n=t.Z(),r=this.index[e]||new fh(oc.J),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.et(),n=t.Z(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new fh(oc.J)).rt()},t}(),md=function(){function t(){this.Ks=new vd}return t.prototype.Us=function(t,e){var n=this;if(!this.Ks.has(e)){var r=e.et(),i=e.Z();t.Vs((function(){n.Ks.add(e)}));var o={collectionId:r,parent:kf(i)};return bd(t).put(o)}return vf.resolve()},t.prototype.Qs=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[Ma(e),""],!1,!0);return bd(t).os(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Df(o.parent))}return n}))},t}();function bd(t){return Xf(t,Kf.store)}var wd={js:!1,Ws:0,Gs:0,zs:0},_d=function(){function t(t,e,n){this.Hs=t,this.Js=e,this.Ys=n}return t.Xs=function(e){return new t(e,t.Zs,t.ti)},t}();function Od(t){return Object(Ia.b)(this,void 0,void 0,(function(){return Object(Ia.d)(this,(function(e){if(t.code!==Fa.FAILED_PRECONDITION||t.message!==jf)throw t;return Ta("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}_d.Zs=10,_d.ti=1e3,_d.ei=new _d(41943040,_d.Zs,_d.ti),_d.ni=new _d(-1,0,0);var Ed=function(){function t(t,e){this.si=t,this.ii=e,this.ri={}}return t.prototype.get=function(t){var e=this.si(t),n=this.ri[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[1];if(this.ii(o[0],t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.si(t),r=this.ri[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.ii(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ri[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.si(t),n=this.ri[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.ii(n[r][0],t))return 1===n.length?delete this.ri[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){lc(this.ri,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];t(o[0],o[1])}}))},t.prototype.nt=function(){return hc(this.ri)},t}(),Id=function(){function t(){this.oi=new Ed((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.ci=!1}return t.prototype.ai=function(t){var e=this.oi.get(t);return e?e.readTime:rc.min()},t.prototype.ui=function(t,e){this.hi(),this.oi.set(t.key,{li:t,readTime:e})},t.prototype._i=function(t,e){void 0===e&&(e=null),this.hi(),this.oi.set(t,{li:null,readTime:e})},t.prototype.fi=function(t,e){this.hi();var n=this.oi.get(e);return void 0!==n?vf.resolve(n.li):this.di(t,e)},t.prototype.getEntries=function(t,e){return this.wi(t,e)},t.prototype.apply=function(t){return this.hi(),this.ci=!0,this.Ei(t)},t.prototype.hi=function(){},t}();function Sd(t,e,n){var r=t.store(Mf.store),i=t.store(Uf.store),o=[],s=IDBKeyRange.only(n.batchId),u=0,a=r.ls({range:s},(function(t,e,n){return u++,n.delete()}));o.push(a.next((function(){Na(1===u)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=Uf.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return vf.$n(o).next((function(){return c}))}function Cd(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ka();e=t.noDocument}return JSON.stringify(e).length}var Td=function(){function t(t,e,n,r){this.userId=t,this.Kt=e,this.Ti=n,this.Ii=r,this.mi={}}return t.Ai=function(e,n,r,i){return Na(""!==e.uid),new t(e.A()?e.uid:"",n,r,i)},t.prototype.Ri=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return jd(t).ls({index:Mf.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Pi=function(t,e,n,r){var i=this,o=Ad(t),s=jd(t);return s.add({}).next((function(u){Na("number"==typeof u);for(var a=new td(u,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return tf(t.ks,e)})),i=n.mutations.map((function(e){return tf(t.ks,e)}));return new Mf(e,n.batchId,n.Ss.toMillis(),r,i)}(i.Kt,i.userId,a),l=[],h=new fh((function(t,e){return Va(t.ot(),e.ot())})),f=0,d=r;f<d.length;f++){var p=d[f],g=Uf.key(i.userId,p.key.path,u);h=h.add(p.key.path.Z()),l.push(s.put(c)),l.push(o.put(g,Uf.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ti.Us(t,e))})),t.Vs((function(){i.mi[u]=a.keys()})),vf.$n(l).next((function(){return a}))}))},t.prototype.yi=function(t,e){var n=this;return jd(t).get(e).next((function(t){return t?(Na(t.userId===n.userId),cd(n.Kt,t)):null}))},t.prototype.gi=function(t,e){var n=this;return this.mi[e]?vf.resolve(this.mi[e]):this.yi(t,e).next((function(t){if(t){var r=t.keys();return n.mi[e]=r,r}return null}))},t.prototype.Vi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return jd(t).ls({index:Mf.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Na(e.batchId>=r),o=cd(n.Kt,e)),i.done()})).next((function(){return o}))},t.prototype.pi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return jd(t).ls({index:Mf.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.bi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return jd(t).os(Mf.userMutationsIndex,n).next((function(t){return t.map((function(t){return cd(e.Kt,t)}))}))},t.prototype.vi=function(t,e){var n=this,r=Uf.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ad(t).ls({range:i},(function(r,i,s){var u=r[0],a=r[2],c=Df(r[1]);if(u===n.userId&&e.path.isEqual(c))return jd(t).get(a).next((function(t){if(!t)throw ka();Na(t.userId===n.userId),o.push(cd(n.Kt,t))}));s.done()})).next((function(){return o}))},t.prototype.Si=function(t,e){var n=this,r=new fh(Va),i=[];return e.forEach((function(e){var o=Uf.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),u=Ad(t).ls({range:s},(function(t,i,o){var s=t[0],u=t[2],a=Df(t[1]);s===n.userId&&e.path.isEqual(a)?r=r.add(u):o.done()}));i.push(u)})),vf.$n(i).next((function(){return n.Di(t,r)}))},t.prototype.Ci=function(t,e){var n=this,r=e.path,i=r.length+1,o=Uf.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),u=new fh(Va);return Ad(t).ls({range:s},(function(t,e,o){var s=t[0],a=t[2],c=Df(t[1]);s===n.userId&&r.st(c)?c.length===i&&(u=u.add(a)):o.done()})).next((function(){return n.Di(t,u)}))},t.prototype.Di=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(jd(t).get(e).next((function(t){if(null===t)throw ka();Na(t.userId===n.userId),r.push(cd(n.Kt,t))})))})),vf.$n(i).next((function(){return r}))},t.prototype.xi=function(t,e){var n=this;return Sd(t.bs,this.userId,e).next((function(r){return t.Vs((function(){n.Ni(e.batchId)})),vf.forEach(r,(function(e){return n.Ii.Oi(t,e)}))}))},t.prototype.Ni=function(t){delete this.mi[t]},t.prototype.Fi=function(t){var e=this;return this.Ri(t).next((function(n){if(!n)return vf.resolve();var r=IDBKeyRange.lowerBound(Uf.prefixForUser(e.userId)),i=[];return Ad(t).ls({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Df(t[1]);i.push(o)}else r.done()})).next((function(){Na(0===i.length)}))}))},t.prototype.ki=function(t,e){return xd(t,this.userId,e)},t.prototype.Mi=function(t){var e=this;return kd(t).get(this.userId).next((function(t){return t||new Lf(e.userId,-1,"")}))},t}();function xd(t,e,n){var r=Uf.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return Ad(t).ls({range:o,hs:!0},(function(t,n,r){t[0]===e&&t[1]===i&&(s=!0),r.done()})).next((function(){return s}))}function jd(t){return Xf(t,Mf.store)}function Ad(t){return Xf(t,Uf.store)}function kd(t){return Xf(t,Lf.store)}var Nd=function(){function t(t){this.Li=t}return t.prototype.next=function(){return this.Li+=2,this.Li},t.$i=function(){return new t(0)},t.Bi=function(){return new t(-1)},t}(),Pd=function(){function t(t,e){this.Ii=t,this.Kt=e}return t.prototype.qi=function(t){var e=this;return this.Ui(t).next((function(n){var r=new Nd(n.highestTargetId);return n.highestTargetId=r.next(),e.Qi(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Ki=function(t){return this.Ui(t).next((function(t){return rc.j(new nc(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.ji=function(t){return this.Ui(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Wi=function(t,e,n){var r=this;return this.Ui(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.G()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Qi(t,i)}))},t.prototype.Gi=function(t,e){var n=this;return this.zi(t,e).next((function(){return n.Ui(t).next((function(r){return r.targetCount+=1,n.Hi(e,r),n.Qi(t,r)}))}))},t.prototype.Ji=function(t,e){return this.zi(t,e)},t.prototype.Yi=function(t,e){var n=this;return this.Xi(t,e.targetId).next((function(){return Dd(t).delete(e.targetId)})).next((function(){return n.Ui(t)})).next((function(e){return Na(e.targetCount>0),e.targetCount-=1,n.Qi(t,e)}))},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return Dd(t).ls((function(s,u){var a=ld(u);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(i++,o.push(r.Yi(t,a)))})).next((function(){return vf.$n(o)})).next((function(){return i}))},t.prototype.mn=function(t,e){return Dd(t).ls((function(t,n){var r=ld(n);e(r)}))},t.prototype.Ui=function(t){return Rd(t).get($f.key).next((function(t){return Na(null!==t),t}))},t.prototype.Qi=function(t,e){return Rd(t).put($f.key,e)},t.prototype.zi=function(t,e){return Dd(t).put(hd(this.Kt,e))},t.prototype.Hi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.tr=function(t){return this.Ui(t).next((function(t){return t.targetCount}))},t.prototype.er=function(t,e){var n=zc(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return Dd(t).ls({range:r,index:Bf.queryTargetsIndexName},(function(t,n,r){var o=ld(n);Bc(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.nr=function(t,e,n){var r=this,i=[],o=Vd(t);return e.forEach((function(e){var s=kf(e.path);i.push(o.put(new Gf(n,s))),i.push(r.Ii.sr(t,n,e))})),vf.$n(i)},t.prototype.ir=function(t,e,n){var r=this,i=Vd(t);return vf.forEach(e,(function(e){var o=kf(e.path);return vf.$n([i.delete([n,o]),r.Ii.rr(t,n,e)])}))},t.prototype.Xi=function(t,e){var n=Vd(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.cr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Vd(t),i=Oh();return r.ls({range:n,hs:!0},(function(t,e,n){var r=Df(t[1]),o=new ac(r);i=i.add(o)})).next((function(){return i}))},t.prototype.ki=function(t,e){var n=kf(e.path),r=IDBKeyRange.bound([n],[Ma(n)],!1,!0),i=0;return Vd(t).ls({index:Gf.documentTargetsIndex,hs:!0,range:r},(function(t,e,n){0!==t[0]&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Dn=function(t,e){return Dd(t).get(e).next((function(t){return t?ld(t):null}))},t}();function Dd(t){return Xf(t,Bf.store)}function Rd(t){return Xf(t,$f.store)}function Vd(t){return Xf(t,Gf.store)}function Ld(t,e){var n=t[1],r=e[1],i=Va(t[0],e[0]);return 0===i?Va(n,r):i}var Md=function(){function t(t){this.ar=t,this.buffer=new fh(Ld),this.ur=0}return t.prototype.hr=function(){return++this.ur},t.prototype.lr=function(t){var e=[t,this.hr()];if(this.buffer.size<this.ar)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Ld(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),Ud=function(){function t(t,e){this._r=t,this.fs=e,this.dr=!1,this.wr=null}return t.prototype.start=function(t){-1!==this._r.params.Hs&&this.Er(t)},t.prototype.stop=function(){this.wr&&(this.wr.cancel(),this.wr=null)},Object.defineProperty(t.prototype,"Tr",{get:function(){return null!==this.wr},enumerable:!1,configurable:!0}),t.prototype.Er=function(t){var e=this,n=this.dr?3e5:6e4;Ta("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.wr=this.fs.Ir("lru_garbage_collection",n,(function(){return Object(Ia.b)(e,void 0,void 0,(function(){var e;return Object(Ia.d)(this,(function(n){switch(n.label){case 0:this.wr=null,this.dr=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.mr(this._r)];case 2:return n.sent(),[3,7];case 3:return Of(e=n.sent())?(Ta("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,Od(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Er(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),Fd=function(){function t(t,e){this.Ar=t,this.params=e}return t.prototype.Rr=function(t,e){return this.Ar.Pr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.yr=function(t,e){var n=this;if(0===e)return vf.resolve(ec.U);var r=new Md(e);return this.Ar.mn(t,(function(t){return r.lr(t.sequenceNumber)})).next((function(){return n.Ar.gr(t,(function(t){return r.lr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Zi=function(t,e,n){return this.Ar.Zi(t,e,n)},t.prototype.Vr=function(t,e){return this.Ar.Vr(t,e)},t.prototype.pr=function(t,e){var n=this;return-1===this.params.Hs?(Ta("LruGarbageCollector","Garbage collection skipped; disabled"),vf.resolve(wd)):this.br(t).next((function(r){return r<n.params.Hs?(Ta("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Hs),wd):n.vr(t,e)}))},t.prototype.br=function(t){return this.Ar.br(t)},t.prototype.vr=function(t,e){var n,r,i,o,s,u,a,c=this,l=Date.now();return this.Rr(t,this.params.Js).next((function(e){return e>c.params.Ys?(Ta("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Ys+" from "+e),r=c.params.Ys):r=e,o=Date.now(),c.yr(t,r)})).next((function(r){return n=r,s=Date.now(),c.Zi(t,n,e)})).next((function(e){return i=e,u=Date.now(),c.Vr(t,n)})).next((function(t){return a=Date.now(),Ca()<=Oi.a.DEBUG&&Ta("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(a-u)+"ms\nTotal Duration: "+(a-l)+"ms"),vf.resolve({js:!0,Ws:r,Gs:i,zs:t})}))},t}(),qd=function(){function t(t,e){this.db=t,this._r=function(t,e){return new Fd(t,e)}(this,e)}return t.prototype.Pr=function(t){var e=this.Sr(t);return this.db.Dr().tr(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.Sr=function(t){var e=0;return this.gr(t,(function(t){e++})).next((function(){return e}))},t.prototype.mn=function(t,e){return this.db.Dr().mn(t,e)},t.prototype.gr=function(t,e){return this.Cr(t,(function(t,n){return e(n)}))},t.prototype.sr=function(t,e,n){return Hd(t,n)},t.prototype.rr=function(t,e,n){return Hd(t,n)},t.prototype.Zi=function(t,e,n){return this.db.Dr().Zi(t,e,n)},t.prototype.Oi=function(t,e){return Hd(t,e)},t.prototype.Nr=function(t,e){return function(t,e){var n=!1;return kd(t)._s((function(r){return xd(t,r,e).next((function(t){return t&&(n=!0),vf.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.Vr=function(t,e){var n=this,r=this.db.Fr().Or(),i=[],o=0;return this.Cr(t,(function(s,u){if(u<=e){var a=n.Nr(t,s).next((function(e){if(!e)return o++,r.fi(t,s).next((function(){return r._i(s),Vd(t).delete([0,kf(s.path)])}))}));i.push(a)}})).next((function(){return vf.$n(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Lt(t.vs);return this.db.Dr().Ji(t,n)},t.prototype.kr=function(t,e){return Hd(t,e)},t.prototype.Cr=function(t,e){var n,r=Vd(t),i=ec.U;return r.ls({index:Gf.documentTargetsIndex},(function(t,r){var o=r.path,s=r.sequenceNumber;0===t[0]?(i!==ec.U&&e(new ac(Df(n)),i),i=s,n=o):i=ec.U})).next((function(){i!==ec.U&&e(new ac(Df(n)),i)}))},t.prototype.br=function(t){return this.db.Fr().Mr(t)},t}();function Hd(t,e){return Vd(t).put(function(t,e){return new Gf(0,kf(t.path),e)}(e,t.vs))}var zd=function(){function t(t,e){this.Kt=t,this.Ti=e}return t.prototype.ui=function(t,e,n){return $d(t).put(Kd(e),n)},t.prototype._i=function(t,e){var n=$d(t),r=Kd(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Lr(t,r)}))},t.prototype.fi=function(t,e){var n=this;return $d(t).get(Kd(e)).next((function(t){return n.$r(t)}))},t.prototype.Br=function(t,e){var n=this;return $d(t).get(Kd(e)).next((function(t){var e=n.$r(t);return e?{li:e,size:Cd(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=yh();return this.qr(t,e,(function(t,e){var i=n.$r(e);r=r.Ht(t,i)})).next((function(){return r}))},t.prototype.Ur=function(t,e){var n=this,r=yh(),i=new ch(ac.J);return this.qr(t,e,(function(t,e){var o=n.$r(e);o?(r=r.Ht(t,o),i=i.Ht(t,Cd(e))):(r=r.Ht(t,null),i=i.Ht(t,0))})).next((function(){return{Qr:r,Kr:i}}))},t.prototype.qr=function(t,e,n){if(e.nt())return vf.resolve();var r=IDBKeyRange.bound(e.first().path.rt(),e.last().path.rt()),i=e.ee(),o=i.ce();return $d(t).ls({range:r},(function(t,e,r){for(var s=ac.Tt(t);o&&ac.J(o,s)<0;)n(o,null),o=i.ce();o&&o.isEqual(s)&&(n(o,e),o=i.ae()?i.ce():null),o?r.rs(o.path.rt()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ae()?i.ce():null}))},t.prototype.jr=function(t,e,n){var r=this,i=mh(),o=e.path.length+1,s={};if(n.isEqual(rc.min())){var u=e.path.rt();s.range=IDBKeyRange.lowerBound(u)}else{var a=e.path.rt(),c=od(n);s.range=IDBKeyRange.lowerBound([a,c],!0),s.index=Hf.collectionReadTimeIndex}return $d(t).ls(s,(function(t,n,s){if(t.length===o){var u=rd(r.Kt,n);e.path.st(u.key.path)?u instanceof Mc&&_l(e,u)&&(i=i.Ht(u.key,u)):s.done()}})).next((function(){return i}))},t.prototype.Or=function(t){return new Bd(this,!!t&&t.Wr)},t.prototype.Mr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Gd(t).get(zf.key).next((function(t){return Na(!!t),t}))},t.prototype.Lr=function(t,e){return Gd(t).put(zf.key,e)},t.prototype.$r=function(t){if(t){var e=rd(this.Kt,t);return e instanceof Uc&&e.version.isEqual(rc.min())?null:e}return null},t}(),Bd=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Gr=e,r.Wr=n,r.zr=new Ed((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(Ia.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[],r=0,i=new fh((function(t,e){return Va(t.ot(),e.ot())}));return this.oi.forEach((function(o,s){var u=e.zr.get(o);if(s.li){var a=id(e.Gr.Kt,s.li,e.ai(o));i=i.add(o.path.Z());var c=Cd(a);r+=c-u,n.push(e.Gr.ui(t,o,a))}else if(r-=u,e.Wr){var l=id(e.Gr.Kt,new Uc(o,rc.min()),e.ai(o));n.push(e.Gr.ui(t,o,l))}else n.push(e.Gr._i(t,o))})),i.forEach((function(r){n.push(e.Gr.Ti.Us(t,r))})),n.push(this.Gr.updateMetadata(t,r)),vf.$n(n)},e.prototype.di=function(t,e){var n=this;return this.Gr.Br(t,e).next((function(t){return null===t?(n.zr.set(e,0),null):(n.zr.set(e,t.size),t.li)}))},e.prototype.wi=function(t,e){var n=this;return this.Gr.Ur(t,e).next((function(t){var e=t.Qr;return t.Kr.forEach((function(t,e){n.zr.set(t,e)})),e}))},e}(Id);function Gd(t){return Xf(t,zf.store)}function $d(t){return Xf(t,Hf.store)}function Kd(t){return t.path.rt()}var Wd=function(){function t(t){this.Kt=t}return t.prototype.Yn=function(t,e,n,r){var i=this;Na(n<r&&n>=0&&r<=11);var o=new mf("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Vf.store)}(t),function(t){t.createObjectStore(Lf.store,{keyPath:Lf.keyPath}),t.createObjectStore(Mf.store,{keyPath:Mf.keyPath,autoIncrement:!0}).createIndex(Mf.userMutationsIndex,Mf.userMutationsKeyPath,{unique:!0}),t.createObjectStore(Uf.store)}(t),Jd(t),function(t){t.createObjectStore(Hf.store)}(t));var s=vf.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Gf.store),t.deleteObjectStore(Bf.store),t.deleteObjectStore($f.store)}(t),Jd(t)),s=s.next((function(){return function(t){var e=t.store($f.store),n=new $f(0,0,rc.min().G(),0);return e.put($f.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(Mf.store).os().next((function(n){t.deleteObjectStore(Mf.store),t.createObjectStore(Mf.store,{keyPath:Mf.keyPath,autoIncrement:!0}).createIndex(Mf.userMutationsIndex,Mf.userMutationsKeyPath,{unique:!0});var r=e.store(Mf.store),i=n.map((function(t){return r.put(t)}));return vf.$n(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(Wf.store,{keyPath:Wf.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.Hr(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(zf.store)}(t),i.Jr(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.Yr(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.Xr(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Hf.store);e.createIndex(Hf.readTimeIndex,Hf.readTimeIndexPath,{unique:!1}),e.createIndex(Hf.collectionReadTimeIndex,Hf.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.Zr(o)}))),n<11&&r>=11&&(s=s.next((function(){!function(t){t.createObjectStore(Jf.store,{keyPath:Jf.keyPath})}(t),function(t){t.createObjectStore(Zf.store,{keyPath:Zf.keyPath})}(t)}))),s},t.prototype.Jr=function(t){var e=0;return t.store(Hf.store).ls((function(t,n){e+=Cd(n)})).next((function(){var n=new zf(e);return t.store(zf.store).put(zf.key,n)}))},t.prototype.Hr=function(t){var e=this,n=t.store(Lf.store),r=t.store(Mf.store);return n.os().next((function(n){return vf.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.os(Mf.userMutationsIndex,i).next((function(r){return vf.forEach(r,(function(r){Na(r.userId===n.userId);var i=cd(e.Kt,r);return Sd(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Yr=function(t){var e=t.store(Gf.store),n=t.store(Hf.store);return t.store($f.store).get($f.key).next((function(t){var r=[];return n.ls((function(n,i){var o=new oc(n),s=function(t){return[0,kf(t)]}(o);r.push(e.get(s).next((function(n){return n?vf.resolve():function(n){return e.put(new Gf(0,kf(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return vf.$n(r)}))}))},t.prototype.Xr=function(t,e){t.createObjectStore(Kf.store,{keyPath:Kf.keyPath});var n=e.store(Kf.store),r=new vd,i=function(t){if(r.add(t)){var e=t.et(),i=t.Z();return n.put({collectionId:e,parent:kf(i)})}};return e.store(Hf.store).ls({hs:!0},(function(t,e){var n=new oc(t);return i(n.Z())})).next((function(){return e.store(Uf.store).ls({hs:!0},(function(t,e){var n=Df(t[1]);return i(n.Z())}))}))},t.prototype.Zr=function(t){var e=this,n=t.store(Bf.store);return n.ls((function(t,r){var i=ld(r),o=hd(e.Kt,i);return n.put(o)}))},t}();function Jd(t){t.createObjectStore(Gf.store,{keyPath:Gf.keyPath}).createIndex(Gf.documentTargetsIndex,Gf.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Bf.store,{keyPath:Bf.keyPath}).createIndex(Bf.queryTargetsIndexName,Bf.queryTargetsKeyPath,{unique:!0}),t.createObjectStore($f.store)}var Zd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Qd=function(){function t(e,n,r,i,o,s,u,a,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.eo=o,this.window=s,this.document=u,this.no=c,this.so=l,this.io=null,this.ro=!1,this.isPrimary=!1,this.networkEnabled=!0,this.oo=null,this.inForeground=!1,this.co=null,this.ao=null,this.uo=Number.NEGATIVE_INFINITY,this.ho=function(t){return Promise.resolve()},!t.jn())throw new qa(Fa.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ii=new qd(this,i),this.lo=n+"main",this.Kt=new nd(a),this._o=new bf(this.lo,11,new Wd(this.Kt)),this.fo=new Pd(this.Ii,this.Kt),this.Ti=new md,this.wo=function(t,e){return new zd(t,e)}(this.Kt,this.Ti),this.Eo=new dd,this.window&&this.window.localStorage?this.To=this.window.localStorage:(this.To=null,!1===l&&xa("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.Io().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new qa(Fa.FAILED_PRECONDITION,Zd);return t.mo(),t.Ao(),t.Ro(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.fo.ji(e)}))})).then((function(e){t.io=new ec(e,t.no)})).then((function(){t.ro=!0})).catch((function(e){return t._o&&t._o.close(),Promise.reject(e)}))},t.prototype.Po=function(t){var e=this;return this.ho=function(n){return Object(Ia.b)(e,void 0,void 0,(function(){return Object(Ia.d)(this,(function(e){return this.Tr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.yo=function(t){var e=this;this._o.Zn((function(n){return Object(Ia.b)(e,void 0,void 0,(function(){return Object(Ia.d)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Vo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.eo.ys((function(){return Object(Ia.b)(e,void 0,void 0,(function(){return Object(Ia.d)(this,(function(t){switch(t.label){case 0:return this.Tr?[4,this.Io()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.Io=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Xd(e).put(new Wf(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.po(e).next((function(e){e||(t.isPrimary=!1,t.eo.bo((function(){return t.ho(!1)})))}))})).next((function(){return t.vo(e)})).next((function(n){return t.isPrimary&&!n?t.So(e).next((function(){return!1})):!!n&&t.Do(e).next((function(){return!0}))}))})).catch((function(e){if(Of(e))return Ta("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ta("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.eo.bo((function(){return t.ho(e)})),t.isPrimary=e}))},t.prototype.po=function(t){var e=this;return Yd(t).get(Vf.key).next((function(t){return vf.resolve(e.Co(t))}))},t.prototype.xo=function(t){return Xd(t).delete(this.clientId)},t.prototype.No=function(){return Object(Ia.b)(this,void 0,void 0,(function(){var t,e,n,r=this;return Object(Ia.d)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.Oo(this.uo,18e5)?[3,2]:(this.uo=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Xf(t,Wf.store);return e.os().next((function(t){var n=r.Fo(t,18e5),i=t.filter((function(t){return-1===n.indexOf(t)}));return vf.forEach(i,(function(t){return e.delete(t.clientId)})).next((function(){return i}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.To)for(e=0,n=t;e<n.length;e++)this.To.removeItem(this.ko(n[e].clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.Ro=function(){var t=this;this.ao=this.eo.Ir("client_metadata_refresh",4e3,(function(){return t.Io().then((function(){return t.No()})).then((function(){return t.Ro()}))}))},t.prototype.Co=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.vo=function(t){var e=this;return this.so?vf.resolve(!0):Yd(t).get(Vf.key).next((function(n){if(null!==n&&e.Oo(n.leaseTimestampMs,5e3)&&!e.Mo(n.ownerId)){if(e.Co(n)&&e.networkEnabled)return!0;if(!e.Co(n)){if(!n.allowTabSynchronization)throw new qa(Fa.FAILED_PRECONDITION,Zd);return!1}}return!(!e.networkEnabled||!e.inForeground)||Xd(t).os().next((function(t){return void 0===e.Fo(t,5e3).find((function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))}))}))})).next((function(t){return e.isPrimary!==t&&Ta("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Lo=function(){return Object(Ia.b)(this,void 0,void 0,(function(){var t=this;return Object(Ia.d)(this,(function(e){switch(e.label){case 0:return this.ro=!1,this.$o(),this.ao&&(this.ao.cancel(),this.ao=null),this.Bo(),this.qo(),[4,this._o.runTransaction("shutdown","readwrite",[Vf.store,Wf.store],(function(e){var n=new Yf(e,ec.U);return t.So(n).next((function(){return t.xo(n)}))}))];case 1:return e.sent(),this._o.close(),this.Uo(),[2]}}))}))},t.prototype.Fo=function(t,e){var n=this;return t.filter((function(t){return n.Oo(t.updateTimeMs,e)&&!n.Mo(t.clientId)}))},t.prototype.Qo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Xd(e).os().next((function(e){return t.Fo(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.Ko=function(t){return Td.Ai(t,this.Kt,this.Ti,this.Ii)},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.jo=function(){return this.Ti},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return Ta("IndexedDbPersistence","Starting transaction:",t),this._o.runTransaction(t,"readonly"===e?"readonly":"readwrite",Qf,(function(o){return r=new Yf(o,i.io?i.io.next():ec.U),"readwrite-primary"===e?i.po(r).next((function(t){return!!t||i.vo(r)})).next((function(e){if(!e)throw xa("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.eo.bo((function(){return i.ho(!1)})),new qa(Fa.FAILED_PRECONDITION,jf);return n(r)})).next((function(t){return i.Do(r).next((function(){return t}))})):i.Go(r).next((function(){return n(r)}))})).then((function(t){return r.ps(),t}))},t.prototype.Go=function(t){var e=this;return Yd(t).get(Vf.key).next((function(t){if(null!==t&&e.Oo(t.leaseTimestampMs,5e3)&&!e.Mo(t.ownerId)&&!e.Co(t)&&!(e.so||e.allowTabSynchronization&&t.allowTabSynchronization))throw new qa(Fa.FAILED_PRECONDITION,Zd)}))},t.prototype.Do=function(t){var e=new Vf(this.clientId,this.allowTabSynchronization,Date.now());return Yd(t).put(Vf.key,e)},t.jn=function(){return bf.jn()},t.prototype.So=function(t){var e=this,n=Yd(t);return n.get(Vf.key).next((function(t){return e.Co(t)?(Ta("IndexedDbPersistence","Releasing primary lease."),n.delete(Vf.key)):vf.resolve()}))},t.prototype.Oo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(xa("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.co=function(){t.eo.ys((function(){return t.inForeground="visible"===t.document.visibilityState,t.Io()}))},this.document.addEventListener("visibilitychange",this.co),this.inForeground="visible"===this.document.visibilityState)},t.prototype.Bo=function(){this.co&&(this.document.removeEventListener("visibilitychange",this.co),this.co=null)},t.prototype.Ao=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.oo=function(){e.$o(),e.eo.ys((function(){return e.Lo()}))},this.window.addEventListener("unload",this.oo))},t.prototype.qo=function(){this.oo&&(this.window.removeEventListener("unload",this.oo),this.oo=null)},t.prototype.Mo=function(t){var e;try{var n=null!==(null===(e=this.To)||void 0===e?void 0:e.getItem(this.ko(t)));return Ta("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return xa("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.$o=function(){if(this.To)try{this.To.setItem(this.ko(this.clientId),String(Date.now()))}catch(t){xa("Failed to set zombie client id.",t)}},t.prototype.Uo=function(){if(this.To)try{this.To.removeItem(this.ko(this.clientId))}catch(t){}},t.prototype.ko=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Yd(t){return Xf(t,Vf.store)}function Xd(t){return Xf(t,Wf.store)}function tp(t,e){var n=t.projectId;return t.m||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var ep=function(t,e){this.progress=t,this.zo=e},np=function(){function t(t,e,n){this.wo=t,this.Ho=e,this.Ti=n}return t.prototype.Jo=function(t,e){var n=this;return this.Ho.vi(t,e).next((function(r){return n.Yo(t,e,r)}))},t.prototype.Yo=function(t,e,n){return this.wo.fi(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].xs(e,t);return t}))},t.prototype.Xo=function(t,e,n){var r=yh();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].xs(t,e);r=r.Ht(t,e)})),r},t.prototype.Zo=function(t,e){var n=this;return this.wo.getEntries(t,e).next((function(e){return n.tc(t,e)}))},t.prototype.tc=function(t,e){var n=this;return this.Ho.Si(t,e).next((function(r){var i=n.Xo(t,e,r),o=gh();return i.forEach((function(t,e){e||(e=new Uc(t,rc.min())),o=o.Ht(t,e)})),o}))},t.prototype.jr=function(t,e,n){return function(t){return ac.Et(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ec(t,e.path):pl(e)?this.nc(t,e,n):this.sc(t,e,n)},t.prototype.ec=function(t,e){return this.Jo(t,new ac(e)).next((function(t){var e=mh();return t instanceof Mc&&(e=e.Ht(t.key,t)),e}))},t.prototype.nc=function(t,e,n){var r=this,i=e.collectionGroup,o=mh();return this.Ti.Qs(t,i).next((function(s){return vf.forEach(s,(function(s){var u=function(t,e){return new ul(e,null,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,s.child(i));return r.sc(t,u,n).next((function(t){t.forEach((function(t,e){o=o.Ht(t,e)}))}))})).next((function(){return o}))}))},t.prototype.sc=function(t,e,n){var r,i,o=this;return this.wo.jr(t,e,n).next((function(n){return r=n,o.Ho.Ci(t,e)})).next((function(e){return o.ic(t,i=e,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,u=o.mutations;s<u.length;s++){var a=u[s],c=a.key,l=$l(a,r.get(c),0,o.Ss);r=l instanceof Mc?r.Ht(c,l):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){_l(e,n)||(r=r.remove(t))})),r}))},t.prototype.ic=function(t,e,n){for(var r=Oh(),i=0,o=e;i<o.length;i++)for(var s=0,u=o[i].mutations;s<u.length;s++){var a=u[s];a instanceof Ql&&null===n.get(a.key)&&(r=r.add(a.key))}var c=n;return this.wo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Mc&&(c=c.Ht(t,e))})),c}))},t}(),rp=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.rc=n,this.oc=r}return t.cc=function(e,n){for(var r=Oh(),i=Oh(),o=0,s=n.docChanges;o<s.length;o++){var u=s[o];switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),ip=function(){function t(){}return t.prototype.ac=function(t){this.uc=t},t.prototype.jr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.Nt.length||1===t.Nt.length&&t.Nt[0].field.ht())}(e)||n.isEqual(rc.min())?this.hc(t,e):this.uc.Zo(t,r).next((function(o){var s=i.lc(e,o);return(ll(e)||hl(e))&&i._c(e.limitType,s,r,n)?i.hc(t,e):(Ca()<=Oi.a.DEBUG&&Ta("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),wl(e)),i.uc.jr(t,e,n).next((function(t){return s.forEach((function(e){t=t.Ht(e.key,e)})),t})))}))},t.prototype.lc=function(t,e){var n=new fh(Ol(t));return e.forEach((function(e,r){r instanceof Mc&&_l(t,r)&&(n=n.add(r))})),n},t.prototype._c=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.u(r)>0)},t.prototype.hc=function(t,e){return Ca()<=Oi.a.DEBUG&&Ta("QueryEngine","Using full collection scan to execute query:",wl(e)),this.uc.jr(t,e,rc.min())},t}(),op=function(){function t(t,e,n,r){this.persistence=t,this.fc=e,this.Kt=r,this.dc=new ch(Va),this.wc=new Ed((function(t){return zc(t)}),Bc),this.Ec=rc.min(),this.Ho=t.Ko(n),this.Tc=t.Fr(),this.fo=t.Dr(),this.Ic=new np(this.Tc,this.Ho,this.persistence.jo()),this.Eo=t.Wo(),this.fc.ac(this.Ic)}return t.prototype.mr=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.pr(n,e.dc)}))},t}();function sp(t,e,n,r){return new op(t,e,n,r)}function up(t,e){return Object(Ia.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Ia.d)(this,(function(s){switch(s.label){case 0:return n=Pa(t),r=n.Ho,i=n.Ic,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.Ho.bi(t).next((function(s){return o=s,r=n.persistence.Ko(e),i=new np(n.Tc,r,n.persistence.jo()),r.bi(t)})).next((function(e){for(var n=[],r=[],s=Oh(),u=0,a=o;u<a.length;u++){var c=a[u];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)s=s.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var g=0,y=p.mutations;g<y.length;g++)s=s.add(y[g].key)}return i.Zo(t,s).next((function(t){return{mc:t,Ac:n,Rc:r}}))}))}))];case 1:return o=s.sent(),[2,(n.Ho=r,n.Ic=i,n.fc.ac(n.Ic),o)]}}))}))}function ap(t,e){var n=Pa(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Tc.Or({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),s=vf.resolve();return o.forEach((function(t){s=s.next((function(){return r.fi(e,t)})).next((function(e){var o=e,s=n.Fs.get(t);Na(null!==s),(!o||o.version.u(s)<0)&&(o=i.Ds(t,o,n))&&r.ui(o,n.Os)}))})),s.next((function(){return t.Ho.xi(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.Ho.Fi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}function cp(t){var e=Pa(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.fo.Ki(t)}))}function lp(t,e){var n=Pa(t),r=e.Mt,i=n.dc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Tc.Or({Wr:!0});i=n.dc;var s=[];e.Fe.forEach((function(e,o){var u=i.get(o);if(u){s.push(n.fo.ir(t,e.Ke,o).next((function(){return n.fo.nr(t,e.Ue,o)})));var a=e.resumeToken;if(a.o()>0){var c=u.$t(a,r).Lt(t.vs);i=i.Ht(o,c),function(t,e,n){return Na(e.resumeToken.o()>0),0===t.resumeToken.o()||e.Mt.W()-t.Mt.W()>=3e8||n.Ue.size+n.Qe.size+n.Ke.size>0}(u,c,e)&&s.push(n.fo.Ji(t,c))}}}));var u=gh();if(e.Me.forEach((function(r,i){e.Le.has(r)&&s.push(n.persistence.Ii.kr(t,r))})),s.push(hp(t,o,e.Me,r,void 0).next((function(t){u=t}))),!r.isEqual(rc.min())){var a=n.fo.Ki(t).next((function(e){return n.fo.Wi(t,t.vs,r)}));s.push(a)}return vf.$n(s).next((function(){return o.apply(t)})).next((function(){return n.Ic.tc(t,u)}))})).then((function(t){return n.dc=i,t}))}function hp(t,e,n,r,i){var o=Oh();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=gh();return n.forEach((function(n,s){var u=t.get(n),a=(null==i?void 0:i.get(n))||r;s instanceof Uc&&s.version.isEqual(rc.min())?(e._i(n,a),o=o.Ht(n,s)):null==u||s.version.u(u.version)>0||0===s.version.u(u.version)&&u.hasPendingWrites?(e.ui(s,a),o=o.Ht(n,s)):Ta("LocalStore","Ignoring outdated watch update for ",n,". Current version:",u.version," Watch version:",s.version)})),o}))}function fp(t,e){var n=Pa(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.Ho.Vi(t,e)}))}function dp(t,e){var n=Pa(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.fo.er(t,e).next((function(i){return i?vf.resolve(r=i):n.fo.qi(t).next((function(i){return r=new Il(e,i,0,t.vs),n.fo.Gi(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.dc.get(t.targetId);return(null===r||t.Mt.u(r.Mt)>0)&&(n.dc=n.dc.Ht(t.targetId,t),n.wc.set(e,t.targetId)),t}))}function pp(t,e,n){return Object(Ia.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Ia.d)(this,(function(u){switch(u.label){case 0:r=Pa(t),i=r.dc.get(e),o=n?"readwrite":"readwrite-primary",u.label=1;case 1:return u.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Ii.removeTarget(t,i)}))];case 2:u.sent(),u.label=3;case 3:return[3,5];case 4:if(!Of(s=u.sent()))throw s;return Ta("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.dc=r.dc.remove(e),r.wc.delete(i.target),[2]}}))}))}function gp(t,e,n){var r=Pa(t),i=rc.min(),o=Oh();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Pa(t),i=r.wc.get(n);return void 0!==i?vf.resolve(r.dc.get(i)):r.fo.er(e,n)}(r,t,yl(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.fo.cr(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.fc.jr(t,e,n?i:rc.min(),n?o:Oh())})).next((function(t){return{documents:t,Pc:o}}))}))}function yp(t,e){var n=Pa(t),r=Pa(n.fo),i=n.dc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Dn(t,e).next((function(t){return t?t.target:null}))}))}function vp(t){var e=Pa(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Pa(t),i=gh(),o=od(n),s=$d(e),u=IDBKeyRange.lowerBound(o,!0);return s.ls({index:Hf.readTimeIndex,range:u},(function(t,e){var n=rd(r.Kt,e);i=i.Ht(n.key,n),o=e.readTime})).next((function(){return{zo:i,readTime:sd(o)}}))}(e.Tc,t,e.Ec)})).then((function(t){var n=t.zo;return e.Ec=t.readTime,n}))}function mp(t){return Object(Ia.b)(this,void 0,void 0,(function(){var e;return Object(Ia.d)(this,(function(n){return[2,(e=Pa(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=$d(t),n=rc.min();return e.ls({index:Hf.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=sd(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.Ec=t}))]}))}))}function bp(t,e,n,r){return Object(Ia.b)(this,void 0,void 0,(function(){var i,o,s,u,a,c,l,h,f,d;return Object(Ia.d)(this,(function(p){switch(p.label){case 0:for(i=Pa(t),o=Oh(),s=gh(),u=wh(),a=0,c=n;a<c.length;a++)h=e.yc((l=c[a]).metadata.name),l.document&&(o=o.add(h)),s=s.Ht(h,e.gc(l)),u=u.Ht(h,e.Vc(l.metadata.readTime));return f=i.Tc.Or({Wr:!0}),[4,dp(i,function(t){return yl(cl(oc.ct("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return hp(t,f,s,rc.min(),u).next((function(e){return f.apply(t),e})).next((function(e){return i.fo.Xi(t,d.targetId).next((function(){return i.fo.nr(t,o,d.targetId)})).next((function(){return i.Ic.tc(t,e)}))}))}))]}}))}))}function wp(t,e,n){return void 0===n&&(n=Oh()),Object(Ia.b)(this,void 0,void 0,(function(){var r,i;return Object(Ia.d)(this,(function(o){switch(o.label){case 0:return[4,dp(t,yl(fd(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=Pa(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=zh(e.readTime);if(r.Mt.u(o)>=0)return i.Eo.Bs(t,e);var s=r.$t(Ua.h,o);return i.dc=i.dc.Ht(s.targetId,s),i.fo.Ji(t,s).next((function(){return i.fo.Xi(t,r.targetId)})).next((function(){return i.fo.nr(t,n,r.targetId)})).next((function(){return i.Eo.Bs(t,e)}))}))]}}))}))}var _p=function(){function t(t){this.Kt=t,this.bc=new Map,this.vc=new Map}return t.prototype.Ms=function(t,e){return vf.resolve(this.bc.get(e))},t.prototype.Ls=function(t,e){var n;return this.bc.set(e.id,{id:(n=e).id,version:n.version,createTime:zh(n.createTime)}),vf.resolve()},t.prototype.$s=function(t,e){return vf.resolve(this.vc.get(e))},t.prototype.Bs=function(t,e){return this.vc.set(e.name,function(t){return{name:t.name,query:fd(t.bundledQuery),readTime:zh(t.readTime)}}(e)),vf.resolve()},t}(),Op=function(){function t(){this.Sc=new fh(Ep.Dc),this.Cc=new fh(Ep.xc)}return t.prototype.nt=function(){return this.Sc.nt()},t.prototype.sr=function(t,e){var n=new Ep(t,e);this.Sc=this.Sc.add(n),this.Cc=this.Cc.add(n)},t.prototype.Nc=function(t,e){var n=this;t.forEach((function(t){return n.sr(t,e)}))},t.prototype.rr=function(t,e){this.Oc(new Ep(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach((function(t){return n.rr(t,e)}))},t.prototype.kc=function(t){var e=this,n=new ac(new oc([])),r=new Ep(n,t),i=new Ep(n,t+1),o=[];return this.Cc.Ae([r,i],(function(t){e.Oc(t),o.push(t.key)})),o},t.prototype.Mc=function(){var t=this;this.Sc.forEach((function(e){return t.Oc(e)}))},t.prototype.Oc=function(t){this.Sc=this.Sc.delete(t),this.Cc=this.Cc.delete(t)},t.prototype.Lc=function(t){var e=new ac(new oc([])),n=new Ep(e,t),r=new Ep(e,t+1),i=Oh();return this.Cc.Ae([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.ki=function(t){var e=new Ep(t,0),n=this.Sc.Pe(e);return null!==n&&t.isEqual(n.key)},t}(),Ep=function(){function t(t,e){this.key=t,this.$c=e}return t.Dc=function(t,e){return ac.J(t.key,e.key)||Va(t.$c,e.$c)},t.xc=function(t,e){return Va(t.$c,e.$c)||ac.J(t.key,e.key)},t}(),Ip=function(){function t(t,e){this.Ti=t,this.Ii=e,this.Ho=[],this.Bc=1,this.qc=new fh(Ep.Dc)}return t.prototype.Ri=function(t){return vf.resolve(0===this.Ho.length)},t.prototype.Pi=function(t,e,n,r){var i=this.Bc;this.Bc++;var o=new td(i,e,n,r);this.Ho.push(o);for(var s=0,u=r;s<u.length;s++){var a=u[s];this.qc=this.qc.add(new Ep(a.key,i)),this.Ti.Us(t,a.key.path.Z())}return vf.resolve(o)},t.prototype.yi=function(t,e){return vf.resolve(this.Uc(e))},t.prototype.Vi=function(t,e){var n=this.Qc(e+1),r=n<0?0:n;return vf.resolve(this.Ho.length>r?this.Ho[r]:null)},t.prototype.pi=function(){return vf.resolve(0===this.Ho.length?-1:this.Bc-1)},t.prototype.bi=function(t){return vf.resolve(this.Ho.slice())},t.prototype.vi=function(t,e){var n=this,r=new Ep(e,0),i=new Ep(e,Number.POSITIVE_INFINITY),o=[];return this.qc.Ae([r,i],(function(t){var e=n.Uc(t.$c);o.push(e)})),vf.resolve(o)},t.prototype.Si=function(t,e){var n=this,r=new fh(Va);return e.forEach((function(t){var e=new Ep(t,0),i=new Ep(t,Number.POSITIVE_INFINITY);n.qc.Ae([e,i],(function(t){r=r.add(t.$c)}))})),vf.resolve(this.Kc(r))},t.prototype.Ci=function(t,e){var n=e.path,r=n.length+1,i=n;ac.Et(i)||(i=i.child(""));var o=new Ep(new ac(i),0),s=new fh(Va);return this.qc.Re((function(t){var e=t.key.path;return!!n.st(e)&&(e.length===r&&(s=s.add(t.$c)),!0)}),o),vf.resolve(this.Kc(s))},t.prototype.Kc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Uc(t);null!==r&&n.push(r)})),n},t.prototype.xi=function(t,e){var n=this;Na(0===this.jc(e.batchId,"removed")),this.Ho.shift();var r=this.qc;return vf.forEach(e.mutations,(function(i){var o=new Ep(i.key,e.batchId);return r=r.delete(o),n.Ii.Oi(t,i.key)})).next((function(){n.qc=r}))},t.prototype.Ni=function(t){},t.prototype.ki=function(t,e){var n=new Ep(e,0),r=this.qc.Pe(n);return vf.resolve(e.isEqual(r&&r.key))},t.prototype.Fi=function(t){return vf.resolve()},t.prototype.jc=function(t,e){return this.Qc(t)},t.prototype.Qc=function(t){return 0===this.Ho.length?0:t-this.Ho[0].batchId},t.prototype.Uc=function(t){var e=this.Qc(t);return e<0||e>=this.Ho.length?null:this.Ho[e]},t}(),Sp=function(){function t(t,e){this.Ti=t,this.Wc=e,this.docs=new ch(ac.J),this.size=0}return t.prototype.ui=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.Wc(e);return this.docs=this.docs.Ht(r,{li:e,size:s,readTime:n}),this.size+=s-o,this.Ti.Us(t,r.path.Z())},t.prototype._i=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.fi=function(t,e){var n=this.docs.get(e);return vf.resolve(n?n.li:null)},t.prototype.getEntries=function(t,e){var n=this,r=yh();return e.forEach((function(t){var e=n.docs.get(t);r=r.Ht(t,e?e.li:null)})),vf.resolve(r)},t.prototype.jr=function(t,e,n){for(var r=mh(),i=new ac(e.path.child("")),o=this.docs.ne(i);o.ae();){var s=o.ce(),u=s.value,a=u.li,c=u.readTime;if(!e.path.st(s.key.path))break;c.u(n)<=0||a instanceof Mc&&_l(e,a)&&(r=r.Ht(a.key,a))}return vf.resolve(r)},t.prototype.Gc=function(t,e){return vf.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Or=function(t){return new Cp(this)},t.prototype.Mr=function(t){return vf.resolve(this.size)},t}(),Cp=function(t){function e(e){var n=this;return(n=t.call(this)||this).Gr=e,n}return Object(Ia.c)(e,t),e.prototype.Ei=function(t){var e=this,n=[];return this.oi.forEach((function(r,i){i&&i.li?n.push(e.Gr.ui(t,i.li,e.ai(r))):e.Gr._i(r)})),vf.$n(n)},e.prototype.di=function(t,e){return this.Gr.fi(t,e)},e.prototype.wi=function(t,e){return this.Gr.getEntries(t,e)},e}(Id),Tp=function(){function t(t){this.persistence=t,this.zc=new Ed((function(t){return zc(t)}),Bc),this.lastRemoteSnapshotVersion=rc.min(),this.highestTargetId=0,this.Hc=0,this.Jc=new Op,this.targetCount=0,this.Yc=Nd.$i()}return t.prototype.mn=function(t,e){return this.zc.forEach((function(t,n){return e(n)})),vf.resolve()},t.prototype.Ki=function(t){return vf.resolve(this.lastRemoteSnapshotVersion)},t.prototype.ji=function(t){return vf.resolve(this.Hc)},t.prototype.qi=function(t){return this.highestTargetId=this.Yc.next(),vf.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Hc&&(this.Hc=e),vf.resolve()},t.prototype.zi=function(t){this.zc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Yc=new Nd(e),this.highestTargetId=e),t.sequenceNumber>this.Hc&&(this.Hc=t.sequenceNumber)},t.prototype.Gi=function(t,e){return this.zi(e),this.targetCount+=1,vf.resolve()},t.prototype.Ji=function(t,e){return this.zi(e),vf.resolve()},t.prototype.Yi=function(t,e){return this.zc.delete(e.target),this.Jc.kc(e.targetId),this.targetCount-=1,vf.resolve()},t.prototype.Zi=function(t,e,n){var r=this,i=0,o=[];return this.zc.forEach((function(s,u){u.sequenceNumber<=e&&null===n.get(u.targetId)&&(r.zc.delete(s),o.push(r.Xi(t,u.targetId)),i++)})),vf.$n(o).next((function(){return i}))},t.prototype.tr=function(t){return vf.resolve(this.targetCount)},t.prototype.er=function(t,e){var n=this.zc.get(e)||null;return vf.resolve(n)},t.prototype.nr=function(t,e,n){return this.Jc.Nc(e,n),vf.resolve()},t.prototype.ir=function(t,e,n){this.Jc.Fc(e,n);var r=this.persistence.Ii,i=[];return r&&e.forEach((function(e){i.push(r.Oi(t,e))})),vf.$n(i)},t.prototype.Xi=function(t,e){return this.Jc.kc(e),vf.resolve()},t.prototype.cr=function(t,e){var n=this.Jc.Lc(e);return vf.resolve(n)},t.prototype.ki=function(t,e){return vf.resolve(this.Jc.ki(e))},t}(),xp=function(){function t(t,e){var n=this;this.Xc={},this.io=new ec(0),this.ro=!1,this.ro=!0,this.Ii=t(this),this.fo=new Tp(this),this.Ti=new yd,this.wo=function(t,e){return new Sp(t,(function(t){return n.Ii.Zc(t)}))}(this.Ti),this.Kt=new nd(e),this.Eo=new _p(this.Kt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Lo=function(){return this.ro=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Tr",{get:function(){return this.ro},enumerable:!1,configurable:!0}),t.prototype.yo=function(){},t.prototype.Vo=function(){},t.prototype.jo=function(){return this.Ti},t.prototype.Ko=function(t){var e=this.Xc[t.R()];return e||(e=new Ip(this.Ti,this.Ii),this.Xc[t.R()]=e),e},t.prototype.Dr=function(){return this.fo},t.prototype.Fr=function(){return this.wo},t.prototype.Wo=function(){return this.Eo},t.prototype.runTransaction=function(t,e,n){var r=this;Ta("MemoryPersistence","Starting transaction:",t);var i=new jp(this.io.next());return this.Ii.ta(),n(i).next((function(t){return r.Ii.ea(i).next((function(){return t}))})).Mn().then((function(t){return i.ps(),t}))},t.prototype.na=function(t,e){return vf.Bn(Object.values(this.Xc).map((function(n){return function(){return n.ki(t,e)}})))},t}(),jp=function(t){function e(e){var n=this;return(n=t.call(this)||this).vs=e,n}return Object(Ia.c)(e,t),e}(Af),Ap=function(){function t(t){this.persistence=t,this.sa=new Op,this.ia=null}return t.ra=function(e){return new t(e)},Object.defineProperty(t.prototype,"oa",{get:function(){if(this.ia)return this.ia;throw ka()},enumerable:!1,configurable:!0}),t.prototype.sr=function(t,e,n){return this.sa.sr(n,e),this.oa.delete(n.toString()),vf.resolve()},t.prototype.rr=function(t,e,n){return this.sa.rr(n,e),this.oa.add(n.toString()),vf.resolve()},t.prototype.Oi=function(t,e){return this.oa.add(e.toString()),vf.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.sa.kc(e.targetId).forEach((function(t){return n.oa.add(t.toString())}));var r=this.persistence.Dr();return r.cr(t,e.targetId).next((function(t){t.forEach((function(t){return n.oa.add(t.toString())}))})).next((function(){return r.Yi(t,e)}))},t.prototype.ta=function(){this.ia=new Set},t.prototype.ea=function(t){var e=this,n=this.persistence.Fr().Or();return vf.forEach(this.oa,(function(r){var i=ac.ft(r);return e.ca(t,i).next((function(t){t||n._i(i)}))})).next((function(){return e.ia=null,n.apply(t)}))},t.prototype.kr=function(t,e){var n=this;return this.ca(t,e).next((function(t){t?n.oa.delete(e.toString()):n.oa.add(e.toString())}))},t.prototype.Zc=function(t){return 0},t.prototype.ca=function(t,e){var n=this;return vf.Bn([function(){return vf.resolve(n.sa.ki(e))},function(){return n.persistence.Dr().ki(t,e)},function(){return n.persistence.na(t,e)}])},t}();function kp(t,e){return"firestore_clients_"+t+"_"+e}function Np(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.A()&&(r+="_"+e.uid),r}function Pp(t,e){return"firestore_targets_"+t+"_"+e}var Dp=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.aa=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new qa(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(xa("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Rp=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.aa=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new qa(r.error.code,r.error.message)),i?new t(e,r.state,o):(xa("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.ua=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Vp=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.aa=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Ih(),s=0;i&&s<r.activeTargetIds.length;++s)i=_c(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(xa("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),Lp=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.aa=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(xa("SharedClientState","Failed to parse online state: "+e),null)},t}(),Mp=function(){function t(){this.activeTargetIds=Ih()}return t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.la=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.ua=function(){var t={activeTargetIds:this.activeTargetIds.rt(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Up=function(){function t(t,e,n,r,i){this.window=t,this.eo=e,this.persistenceKey=n,this._a=r,this.fa=null,this.da=null,this.L=null,this.wa=this.Ea.bind(this),this.Ta=new ch(Va),this.Tr=!1,this.Ia=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ma=kp(this.persistenceKey,this._a),this.Aa=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ta=this.Ta.Ht(this._a,new Mp),this.Ra=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Pa=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.ya=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ga=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Va=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.wa)}return t.jn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(Ia.b)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,u,a,c,l=this;return Object(Ia.d)(this,(function(h){switch(h.label){case 0:return[4,this.fa.Qo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this._a&&(i=this.getItem(kp(this.persistenceKey,r)))&&(o=Vp.aa(r,i))&&(this.Ta=this.Ta.Ht(o.clientId,o));for(this.pa(),(s=this.storage.getItem(this.ga))&&(u=this.ba(s))&&this.va(u),a=0,c=this.Ia;a<c.length;a++)this.Ea(c[a]);return this.Ia=[],this.window.addEventListener("unload",(function(){return l.Lo()})),this.Tr=!0,[2]}}))}))},t.prototype.q=function(t){this.setItem(this.Aa,JSON.stringify(t))},t.prototype.Sa=function(){return this.Da(this.Ta)},t.prototype.Ca=function(t){var e=!1;return this.Ta.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.xa=function(t){this.Na(t,"pending")},t.prototype.Oa=function(t,e,n){this.Na(t,e,n),this.Fa(t)},t.prototype.ka=function(t){var e="not-current";if(this.Ca(t)){var n=this.storage.getItem(Pp(this.persistenceKey,t));if(n){var r=Rp.aa(t,n);r&&(e=r.state)}}return this.Ma.ha(t),this.pa(),e},t.prototype.La=function(t){this.Ma.la(t),this.pa()},t.prototype.$a=function(t){return this.Ma.activeTargetIds.has(t)},t.prototype.Ba=function(t){this.removeItem(Pp(this.persistenceKey,t))},t.prototype.qa=function(t,e,n){this.Ua(t,e,n)},t.prototype.Qa=function(t,e,n){var r=this;e.forEach((function(t){r.Fa(t)})),this.currentUser=t,n.forEach((function(t){r.xa(t)}))},t.prototype.Ka=function(t){this.ja(t)},t.prototype.Wa=function(){this.Ga()},t.prototype.Lo=function(){this.Tr&&(this.window.removeEventListener("storage",this.wa),this.removeItem(this.ma),this.Tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ta("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ta("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ta("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Ea=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Ta("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ma)return void xa("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.eo.bo((function(){return Object(Ia.b)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Object(Ia.d)(this,(function(u){if(this.Tr){if(null!==n.key)if(this.Ra.test(n.key)){if(null==n.newValue)return t=this.za(n.key),[2,this.Ha(t,null)];if(e=this.Ja(n.key,n.newValue))return[2,this.Ha(e.clientId,e)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(r=this.Ya(n.key,n.newValue)))return[2,this.Xa(r)]}else if(this.ya.test(n.key)){if(null!==n.newValue&&(i=this.Za(n.key,n.newValue)))return[2,this.tu(i)]}else if(n.key===this.ga){if(null!==n.newValue&&(o=this.ba(n.newValue)))return[2,this.va(o)]}else if(n.key===this.Aa)(s=function(t){var e=ec.U;if(null!=t)try{var n=JSON.parse(t);Na("number"==typeof n),e=n}catch(t){xa("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==ec.U&&this.L(s);else if(n.key===this.Va)return[2,this.fa.eu()]}else this.Ia.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ma",{get:function(){return this.Ta.get(this._a)},enumerable:!1,configurable:!0}),t.prototype.pa=function(){this.setItem(this.ma,this.Ma.ua())},t.prototype.Na=function(t,e,n){var r=new Dp(this.currentUser,t,e,n),i=Np(this.persistenceKey,this.currentUser,t);this.setItem(i,r.ua())},t.prototype.Fa=function(t){var e=Np(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.ja=function(t){this.storage.setItem(this.ga,JSON.stringify({clientId:this._a,onlineState:t}))},t.prototype.Ua=function(t,e,n){var r=Pp(this.persistenceKey,t),i=new Rp(t,e,n);this.setItem(r,i.ua())},t.prototype.Ga=function(){this.setItem(this.Va,"value-not-used")},t.prototype.za=function(t){var e=this.Ra.exec(t);return e?e[1]:null},t.prototype.Ja=function(t,e){var n=this.za(t);return Vp.aa(n,e)},t.prototype.Ya=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return Dp.aa(new Ja(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Za=function(t,e){var n=this.ya.exec(t),r=Number(n[1]);return Rp.aa(r,e)},t.prototype.ba=function(t){return Lp.aa(t)},t.prototype.Xa=function(t){return Object(Ia.b)(this,void 0,void 0,(function(){return Object(Ia.d)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.fa.nu(t.batchId,t.state,t.error)]:(Ta("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.tu=function(t){return this.fa.su(t.targetId,t.state,t.error)},t.prototype.Ha=function(t,e){var n=this,r=e?this.Ta.Ht(t,e):this.Ta.remove(t),i=this.Da(this.Ta),o=this.Da(r),s=[],u=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||u.push(t)})),this.fa.iu(s,u).then((function(){n.Ta=r}))},t.prototype.va=function(t){this.Ta.get(t.clientId)&&this.da(t.onlineState)},t.prototype.Da=function(t){var e=Ih();return t.forEach((function(t,n){e=e.ye(n.activeTargetIds)})),e},t}(),Fp=function(){function t(){this.ru=new Mp,this.ou={},this.da=null,this.L=null}return t.prototype.xa=function(t){},t.prototype.Oa=function(t,e,n){},t.prototype.ka=function(t){return this.ru.ha(t),this.ou[t]||"not-current"},t.prototype.qa=function(t,e,n){this.ou[t]=e},t.prototype.La=function(t){this.ru.la(t)},t.prototype.$a=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.Ba=function(t){delete this.ou[t]},t.prototype.Sa=function(){return this.ru.activeTargetIds},t.prototype.Ca=function(t){return this.ru.activeTargetIds.has(t)},t.prototype.start=function(){return this.ru=new Mp,Promise.resolve()},t.prototype.Qa=function(t,e,n){},t.prototype.Ka=function(t){},t.prototype.Lo=function(){},t.prototype.q=function(t){},t.prototype.Wa=function(){},t}(),qp=function(){function t(){}return t.prototype.cu=function(t){},t.prototype.Lo=function(){},t}(),Hp=function(){function t(){var t=this;this.au=function(){return t.uu()},this.hu=function(){return t.lu()},this._u=[],this.fu()}return t.prototype.cu=function(t){this._u.push(t)},t.prototype.Lo=function(){window.removeEventListener("online",this.au),window.removeEventListener("offline",this.hu)},t.prototype.fu=function(){window.addEventListener("online",this.au),window.addEventListener("offline",this.hu)},t.prototype.uu=function(){Ta("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(0)},t.prototype.lu=function(){Ta("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this._u;t<e.length;t++)(0,e[t])(1)},t.jn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),zp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Bp=function(){function t(t){this.du=t.du,this.wu=t.wu}return t.prototype.Eu=function(t){this.Tu=t},t.prototype.Iu=function(t){this.mu=t},t.prototype.onMessage=function(t){this.Au=t},t.prototype.close=function(){this.wu()},t.prototype.send=function(t){this.du(t)},t.prototype.Ru=function(){this.Tu()},t.prototype.Pu=function(t){this.mu(t)},t.prototype.yu=function(t){this.Au(t)},t}(),Gp=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.I=e.I,n}return Object(Ia.c)(e,t),e.prototype.Du=function(t,e,n,r){return new Promise((function(i,o){var s=new Ea;s.listenOnce(wa.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case ba.NO_ERROR:var e=s.getResponseJson();Ta("Connection","XHR received:",JSON.stringify(e)),i(e);break;case ba.TIMEOUT:Ta("Connection",'RPC "'+t+'" timed out'),o(new qa(Fa.DEADLINE_EXCEEDED,"Request time out"));break;case ba.HTTP_ERROR:var n=s.getStatus();if(Ta("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Fa).indexOf(e)>=0?e:Fa.UNKNOWN}(r.status);o(new qa(u,r.message))}else o(new qa(Fa.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new qa(Fa.UNAVAILABLE,"Connection failed."));break;default:ka()}}finally{Ta("Connection",'RPC "'+t+'" completed.')}}));var u=JSON.stringify(r);s.send(e,"POST",u,n,15)}))},e.prototype.xu=function(t,e){var n=[this.Vu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new pa,i=vs(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.T.projectId+"/databases/"+this.T.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.I};this.Su(o.initMessageHeaders,e),Object(Ei.p)()||Object(Ei.r)()||Object(Ei.m)()||Object(Ei.n)()||Object(Ei.s)()||Object(Ei.l)()||(o.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Ta("Connection","Creating WebChannel: "+s,o);var u=r.createWebChannel(s,o),a=!1,c=!1,l=new Bp({du:function(t){c?Ta("Connection","Not sending because WebChannel is closed:",t):(a||(Ta("Connection","Opening WebChannel transport."),u.open(),a=!0),Ta("Connection","WebChannel sending:",t),u.send(t))},wu:function(){return u.close()}}),h=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return h(u,Oa.EventType.OPEN,(function(){c||Ta("Connection","WebChannel transport opened.")})),h(u,Oa.EventType.CLOSE,(function(){c||(c=!0,Ta("Connection","WebChannel transport closed"),l.Pu())})),h(u,Oa.EventType.ERROR,(function(t){c||(c=!0,ja("Connection","WebChannel transport errored:",t),l.Pu(new qa(Fa.UNAVAILABLE,"The operation could not be completed")))})),h(u,Oa.EventType.MESSAGE,(function(t){var e;if(!c){var n=t.data[0];Na(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){Ta("Connection","WebChannel received error:",r);var i=r.status,o=function(t){var e=nh[t];if(void 0!==e)return ah(e)}(i),s=r.message;void 0===o&&(o=Fa.INTERNAL,s="Unknown error status: "+i+" with message "+r.message),c=!0,l.Pu(new qa(o,s)),u.close()}else Ta("Connection","WebChannel received:",n),l.yu(n)}})),h(i,_a.STAT_EVENT,(function(t){10===t.stat?Ta("Connection","Detected buffering proxy"):11===t.stat&&Ta("Connection","Detected no buffering proxy")})),setTimeout((function(){l.Ru()}),0),l},e}(function(){function t(t){this.gu=t,this.T=t.T,this.Vu=(t.ssl?"https":"http")+"://"+t.host,this.pu="projects/"+this.T.projectId+"/databases/"+this.T.database+"/documents"}return t.prototype.bu=function(t,e,n,r){var i=this.vu(t,e);Ta("RestConnection","Sending: ",i,n);var o={};return this.Su(o,r),this.Du(t,i,o,n).then((function(t){return Ta("RestConnection","Received: ",t),t}),(function(e){throw ja("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Cu=function(t,e,n,r){return this.bu(t,e,n,r)},t.prototype.Su=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.2",t["Content-Type"]="text/plain",e)for(var n in e.V)e.V.hasOwnProperty(n)&&(t[n]=e.V[n])},t.prototype.vu=function(t,e){return this.Vu+"/v1/"+e+":"+zp[t]},t}());function $p(){return"undefined"!=typeof window?window:null}function Kp(){return"undefined"!=typeof document?document:null}function Wp(t){return new Uh(t,!0)}var Jp=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.eo=t,this.ds=e,this.Nu=n,this.Ou=r,this.Fu=i,this.ku=0,this.Mu=null,this.Lu=Date.now(),this.reset()}return t.prototype.reset=function(){this.ku=0},t.prototype.$u=function(){this.ku=this.Fu},t.prototype.Bu=function(t){var e=this;this.cancel();var n=Math.floor(this.ku+this.qu()),r=Math.max(0,Date.now()-this.Lu),i=Math.max(0,n-r);i>0&&Ta("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.ku+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Mu=this.eo.Ir(this.ds,i,(function(){return e.Lu=Date.now(),t()})),this.ku*=this.Ou,this.ku<this.Nu&&(this.ku=this.Nu),this.ku>this.Fu&&(this.ku=this.Fu)},t.prototype.Uu=function(){null!==this.Mu&&(this.Mu.Ps(),this.Mu=null)},t.prototype.cancel=function(){null!==this.Mu&&(this.Mu.cancel(),this.Mu=null)},t.prototype.qu=function(){return(Math.random()-.5)*this.ku},t}(),Zp=function(){function t(t,e,n,r,i,o){this.eo=t,this.Qu=n,this.Ku=r,this.ju=i,this.listener=o,this.state=0,this.Wu=0,this.Gu=null,this.stream=null,this.zu=new Jp(t,e)}return t.prototype.Hu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Ju=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Yu()},t.prototype.stop=function(){return Object(Ia.b)(this,void 0,void 0,(function(){return Object(Ia.d)(this,(function(t){switch(t.label){case 0:return this.Hu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Xu=function(){this.state=0,this.zu.reset()},t.prototype.Zu=function(){var t=this;this.Ju()&&null===this.Gu&&(this.Gu=this.eo.Ir(this.Qu,6e4,(function(){return t.th()})))},t.prototype.eh=function(t){this.nh(),this.stream.send(t)},t.prototype.th=function(){return Object(Ia.b)(this,void 0,void 0,(function(){return Object(Ia.d)(this,(function(t){return this.Ju()?[2,this.close(0)]:[2]}))}))},t.prototype.nh=function(){this.Gu&&(this.Gu.cancel(),this.Gu=null)},t.prototype.close=function(t,e){return Object(Ia.b)(this,void 0,void 0,(function(){return Object(Ia.d)(this,(function(n){switch(n.label){case 0:return this.nh(),this.zu.cancel(),this.Wu++,3!==t?this.zu.reset():e&&e.code===Fa.RESOURCE_EXHAUSTED?(xa(e.toString()),xa("Using maximum backoff delay to prevent overloading the backend."),this.zu.$u()):e&&e.code===Fa.UNAUTHENTICATED&&this.ju.v(),null!==this.stream&&(this.sh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Iu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.sh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.ih(this.Wu),n=this.Wu;this.ju.getToken().then((function(e){t.Wu===n&&t.rh(e)}),(function(n){e((function(){var e=new qa(Fa.UNKNOWN,"Fetching auth token failed: "+n.message);return t.oh(e)}))}))},t.prototype.rh=function(t){var e=this,n=this.ih(this.Wu);this.stream=this.ah(t),this.stream.Eu((function(){n((function(){return e.state=2,e.listener.Eu()}))})),this.stream.Iu((function(t){n((function(){return e.oh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Yu=function(){var t=this;this.state=4,this.zu.Bu((function(){return Object(Ia.b)(t,void 0,void 0,(function(){return Object(Ia.d)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.oh=function(t){return Ta("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.ih=function(t){var e=this;return function(n){e.eo.ys((function(){return e.Wu===t?n():(Ta("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Qp=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Kt=i,s}return Object(Ia.c)(e,t),e.prototype.ah=function(t){return this.Ku.xu("Listen",t)},e.prototype.onMessage=function(t){this.zu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ka()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.qt?(Na(void 0===e||"string"==typeof e),Ua.fromBase64String(e||"")):(Na(void 0===e||e instanceof Uint8Array),Ua.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=(u=e.targetChange.cause)&&function(t){var e=void 0===t.code?Fa.UNKNOWN:ah(t.code);return new qa(e,t.message||"")}(u);n=new Nh(r,i,o,s||null)}else if("documentChange"in e){i=Kh(t,(r=e.documentChange).document.name),o=zh(r.document.updateTime);var u=new Dc({mapValue:{fields:r.document.fields}}),a=(s=new Mc(i,o,u,{}),r.targetIds||[]);n=new Ah(a,r.removedTargetIds||[],s.key,s)}else if("documentDelete"in e)i=Kh(t,(r=e.documentDelete).document),o=r.readTime?zh(r.readTime):rc.min(),u=new Uc(i,o),n=new Ah([],s=r.removedTargetIds||[],u.key,u);else if("documentRemove"in e)i=Kh(t,(r=e.documentRemove).document),n=new Ah([],o=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return ka();var c=e.filter;i=new sh(r=c.count||0),n=new kh(o=c.targetId,i)}return n}(this.Kt,t),n=function(t){if(!("targetChange"in t))return rc.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?rc.min():e.readTime?zh(e.readTime):rc.min()}(t);return this.listener.uh(e,n)},e.prototype.hh=function(t){var e={};e.database=Zh(this.Kt),e.addTarget=function(t,e){var n,r=e.target;return(n=Gc(r)?{documents:nf(t,r)}:{query:rf(t,r)}).targetId=e.targetId,e.resumeToken.o()>0?n.resumeToken=qh(t,e.resumeToken):e.Mt.u(rc.min())>0&&(n.readTime=Fh(t,e.Mt.G())),n}(this.Kt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ka()}}(0,e.kt);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.eh(e)},e.prototype.lh=function(t){var e={};e.database=Zh(this.Kt),e.removeTarget=t,this.eh(e)},e}(Zp),Yp=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Kt=i,s._h=!1,s}return Object(Ia.c)(e,t),Object.defineProperty(e.prototype,"fh",{get:function(){return this._h},enumerable:!1,configurable:!0}),e.prototype.start=function(){this._h=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.sh=function(){this._h&&this.dh([])},e.prototype.ah=function(t){return this.Ku.xu("Write",t)},e.prototype.onMessage=function(t){if(Na(!!t.streamToken),this.lastStreamToken=t.streamToken,this._h){this.zu.reset();var e=function(t,e){return t&&t.length>0?(Na(void 0!==e),t.map((function(t){return function(t,e){var n=zh(t.updateTime?t.updateTime:e);n.isEqual(rc.min())&&(n=zh(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new ql(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=zh(t.commitTime);return this.listener.wh(n,e)}return Na(!t.writeResults||0===t.writeResults.length),this._h=!0,this.listener.Eh()},e.prototype.Th=function(){var t={};t.database=Zh(this.Kt),this.eh(t)},e.prototype.dh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return tf(e.Kt,t)}))};this.eh(n)},e}(Zp),Xp=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Ku=n,i.Kt=r,i.Ih=!1,i}return Object(Ia.c)(e,t),e.prototype.mh=function(){if(this.Ih)throw new qa(Fa.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.bu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.bu(t,e,n,i)})).catch((function(t){throw t.code===Fa.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.Cu=function(t,e,n){var r=this;return this.mh(),this.credentials.getToken().then((function(i){return r.Ku.Cu(t,e,n,i)})).catch((function(t){throw t.code===Fa.UNAUTHENTICATED&&r.credentials.v(),t}))},e.prototype.terminate=function(){this.Ih=!1},e}((function(){})),tg=function(){function t(t,e){this.fs=t,this.da=e,this.state="Unknown",this.Ah=0,this.Rh=null,this.Ph=!0}return t.prototype.yh=function(){var t=this;0===this.Ah&&(this.gh("Unknown"),this.Rh=this.fs.Ir("online_state_timeout",1e4,(function(){return t.Rh=null,t.Vh("Backend didn't respond within 10 seconds."),t.gh("Offline"),Promise.resolve()})))},t.prototype.ph=function(t){"Online"===this.state?this.gh("Unknown"):(this.Ah++,this.Ah>=1&&(this.bh(),this.Vh("Connection failed 1 times. Most recent error: "+t.toString()),this.gh("Offline")))},t.prototype.set=function(t){this.bh(),this.Ah=0,"Online"===t&&(this.Ph=!1),this.gh(t)},t.prototype.gh=function(t){t!==this.state&&(this.state=t,this.da(t))},t.prototype.Vh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ph?(xa(e),this.Ph=!1):Ta("OnlineStateTracker",e)},t.prototype.bh=function(){null!==this.Rh&&(this.Rh.cancel(),this.Rh=null)},t}(),eg=function(t,e,n,r,i){var o=this;this.Sh=t,this.Dh=e,this.fs=n,this.Ch={},this.xh=[],this.Nh=new Map,this.Oh=new Set,this.Fh=[],this.kh=i,this.kh.cu((function(t){n.ys((function(){return Object(Ia.b)(o,void 0,void 0,(function(){return Object(Ia.d)(this,(function(t){switch(t.label){case 0:return lg(this)?(Ta("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(Ia.b)(this,void 0,void 0,(function(){var e;return Object(Ia.d)(this,(function(n){switch(n.label){case 0:return(e=Pa(t)).Oh.add(4),[4,rg(e)];case 1:return n.sent(),e.Mh.set("Unknown"),e.Oh.delete(4),[4,ng(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Mh=new tg(n,r)};function ng(t){return Object(Ia.b)(this,void 0,void 0,(function(){var e,n;return Object(Ia.d)(this,(function(r){switch(r.label){case 0:if(!lg(t))return[3,4];e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function rg(t){return Object(Ia.b)(this,void 0,void 0,(function(){var e,n;return Object(Ia.d)(this,(function(r){switch(r.label){case 0:e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function ig(t,e){var n=Pa(t);n.Nh.has(e.targetId)||(n.Nh.set(e.targetId,e),cg(n)?ag(n):Sg(n).Ju()&&sg(n,e))}function og(t,e){var n=Pa(t),r=Sg(n);n.Nh.delete(e),r.Ju()&&ug(n,e),0===n.Nh.size&&(r.Ju()?r.Zu():lg(n)&&n.Mh.set("Unknown"))}function sg(t,e){t.Lh.cn(e.targetId),Sg(t).hh(e)}function ug(t,e){t.Lh.cn(e),Sg(t).lh(e)}function ag(t){t.Lh=new Dh({Sn:function(e){return t.Ch.Sn(e)},Dn:function(e){return t.Nh.get(e)||null}}),Sg(t).start(),t.Mh.yh()}function cg(t){return lg(t)&&!Sg(t).Hu()&&t.Nh.size>0}function lg(t){return 0===Pa(t).Oh.size}function hg(t){t.Lh=void 0}function fg(t){return Object(Ia.b)(this,void 0,void 0,(function(){return Object(Ia.d)(this,(function(e){return t.Nh.forEach((function(e,n){sg(t,e)})),[2]}))}))}function dg(t,e){return Object(Ia.b)(this,void 0,void 0,(function(){return Object(Ia.d)(this,(function(n){return hg(t),cg(t)?(t.Mh.ph(e),ag(t)):t.Mh.set("Unknown"),[2]}))}))}function pg(t,e,n){return Object(Ia.b)(this,void 0,void 0,(function(){var r,i,o;return Object(Ia.d)(this,(function(s){switch(s.label){case 0:if(t.Mh.set("Online"),!(e instanceof Nh&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(Ia.b)(this,void 0,void 0,(function(){var n,r,i,o;return Object(Ia.d)(this,(function(s){switch(s.label){case 0:n=e.cause,r=0,i=e.targetIds,s.label=1;case 1:return r<i.length?t.Nh.has(o=i[r])?[4,t.Ch.$h(o,n)]:[3,3]:[3,5];case 2:s.sent(),t.Nh.delete(o),t.Lh.removeTarget(o),s.label=3;case 3:s.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Ta("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,gg(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof Ah?t.Lh.wn(e):e instanceof kh?t.Lh.yn(e):t.Lh.In(e),n.isEqual(rc.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,cp(t.Sh)];case 8:return i=s.sent(),n.u(i)>=0?[4,function(t,e){var n=t.Lh.pn(e);return n.Fe.forEach((function(n,r){if(n.resumeToken.o()>0){var i=t.Nh.get(r);i&&t.Nh.set(r,i.$t(n.resumeToken,e))}})),n.ke.forEach((function(e){var n=t.Nh.get(e);if(n){t.Nh.set(e,n.$t(Ua.h,n.Mt)),ug(t,e);var r=new Il(n.target,e,1,n.sequenceNumber);sg(t,r)}})),t.Ch.Bh(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Ta("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,gg(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function gg(t,e,n){return Object(Ia.b)(this,void 0,void 0,(function(){var r=this;return Object(Ia.d)(this,(function(i){switch(i.label){case 0:if(!Of(e))throw e;return t.Oh.add(1),[4,rg(t)];case 1:return i.sent(),t.Mh.set("Offline"),n||(n=function(){return cp(t.Sh)}),t.fs.bo((function(){return Object(Ia.b)(r,void 0,void 0,(function(){return Object(Ia.d)(this,(function(e){switch(e.label){case 0:return Ta("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Oh.delete(1),[4,ng(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function yg(t,e){return e().catch((function(n){return gg(t,n,e)}))}function vg(t){return Object(Ia.b)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(Ia.d)(this,(function(s){switch(s.label){case 0:e=Pa(t),n=Cg(e),r=e.xh.length>0?e.xh[e.xh.length-1].batchId:-1,s.label=1;case 1:if(!function(t){return lg(t)&&t.xh.length<10}(e))return[3,7];s.label=2;case 2:return s.trys.push([2,4,,6]),[4,fp(e.Sh,r)];case 3:return null===(i=s.sent())?(0===e.xh.length&&n.Zu(),[3,7]):(r=i.batchId,function(t,e){t.xh.push(e);var n=Cg(t);n.Ju()&&n.fh&&n.dh(e.mutations)}(e,i),[3,6]);case 4:return o=s.sent(),[4,gg(e,o)];case 5:return s.sent(),[3,6];case 6:return[3,1];case 7:return mg(e)&&bg(e),[2]}}))}))}function mg(t){return lg(t)&&!Cg(t).Hu()&&t.xh.length>0}function bg(t){Cg(t).start()}function wg(t){return Object(Ia.b)(this,void 0,void 0,(function(){return Object(Ia.d)(this,(function(e){return Cg(t).Th(),[2]}))}))}function _g(t){return Object(Ia.b)(this,void 0,void 0,(function(){var e,n,r;return Object(Ia.d)(this,(function(i){for(e=Cg(t),n=0,r=t.xh;n<r.length;n++)e.dh(r[n].mutations);return[2]}))}))}function Og(t,e,n){return Object(Ia.b)(this,void 0,void 0,(function(){var r,i;return Object(Ia.d)(this,(function(o){switch(o.label){case 0:return r=t.xh.shift(),i=ed.from(r,e,n),[4,yg(t,(function(){return t.Ch.qh(i)}))];case 1:return o.sent(),[4,vg(t)];case 2:return o.sent(),[2]}}))}))}function Eg(t,e){return Object(Ia.b)(this,void 0,void 0,(function(){return Object(Ia.d)(this,(function(n){switch(n.label){case 0:return e&&Cg(t).fh?[4,function(t,e){return Object(Ia.b)(this,void 0,void 0,(function(){var n,r;return Object(Ia.d)(this,(function(i){switch(i.label){case 0:return uh(r=e.code)&&r!==Fa.ABORTED?(n=t.xh.shift(),Cg(t).Xu(),[4,yg(t,(function(){return t.Ch.Uh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,vg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return mg(t)&&bg(t),[2]}}))}))}function Ig(t,e){return Object(Ia.b)(this,void 0,void 0,(function(){var n;return Object(Ia.d)(this,(function(r){switch(r.label){case 0:return n=Pa(t),e?(n.Oh.delete(2),[4,ng(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Oh.add(2),[4,rg(n)]);case 3:r.sent(),n.Mh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function Sg(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=Pa(t);return r.mh(),new Qp(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:fg.bind(null,t),Iu:dg.bind(null,t),uh:pg.bind(null,t)}),t.Fh.push((function(n){return Object(Ia.b)(e,void 0,void 0,(function(){return Object(Ia.d)(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Xu(),cg(t)?ag(t):t.Mh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Qh.stop()];case 2:e.sent(),hg(t),e.label=3;case 3:return[2]}}))}))}))),t.Qh}function Cg(t){var e=this;return t.Kh||(t.Kh=function(t,e,n){var r=Pa(t);return r.mh(),new Yp(e,r.Ku,r.credentials,r.Kt,n)}(t.Dh,t.fs,{Eu:wg.bind(null,t),Iu:Eg.bind(null,t),Eh:_g.bind(null,t),wh:Og.bind(null,t)}),t.Fh.push((function(n){return Object(Ia.b)(e,void 0,void 0,(function(){return Object(Ia.d)(this,(function(e){switch(e.label){case 0:return n?(t.Kh.Xu(),[4,vg(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kh.stop()];case 3:e.sent(),t.xh.length>0&&(Ta("RemoteStore","Stopping write stream with "+t.xh.length+" pending writes"),t.xh=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kh}var Tg=function(){this.jh=void 0,this.listeners=[]},xg=function(){this.queries=new Ed((function(t){return bl(t)}),ml),this.onlineState="Unknown",this.Wh=new Set};function jg(t,e){return Object(Ia.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u,a;return Object(Ia.d)(this,(function(c){switch(c.label){case 0:if(n=Pa(t),i=!1,(o=n.queries.get(r=e.query))||(i=!0,o=new Tg),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),s=o,[4,n.Gh(r)];case 2:return s.jh=c.sent(),[3,4];case 3:return u=c.sent(),a=xf(u,"Initialization of query '"+wl(e.query)+"' failed"),[2,void e.onError(a)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.zh(n.onlineState),o.jh&&e.Hh(o.jh)&&Pg(n),[2]}}))}))}function Ag(t,e){return Object(Ia.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Ia.d)(this,(function(u){return n=Pa(t),i=!1,(o=n.queries.get(r=e.query))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Jh(r))]:[2]}))}))}function kg(t,e){for(var n=Pa(t),r=!1,i=0,o=e;i<o.length;i++){var s=o[i],u=n.queries.get(s.query);if(u){for(var a=0,c=u.listeners;a<c.length;a++)c[a].Hh(s)&&(r=!0);u.jh=s}}r&&Pg(n)}function Ng(t,e,n){var r=Pa(t),i=r.queries.get(e);if(i)for(var o=0,s=i.listeners;o<s.length;o++)s[o].onError(n);r.queries.delete(e)}function Pg(t){t.Wh.forEach((function(t){t.next()}))}var Dg=function(){function t(t,e,n){this.query=t,this.Yh=e,this.Xh=!1,this.Zh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Th(t.query,t.docs,t.De,e,t.Ce,t.fromCache,t.xe,!0)}var o=!1;return this.Xh?this.tl(t)&&(this.Yh.next(t),o=!0):this.el(t,this.onlineState)&&(this.nl(t),o=!0),this.Zh=t,o},t.prototype.onError=function(t){this.Yh.error(t)},t.prototype.zh=function(t){this.onlineState=t;var e=!1;return this.Zh&&!this.Xh&&this.el(this.Zh,t)&&(this.nl(this.Zh),e=!0),e},t.prototype.el=function(t,e){return!t.fromCache||!(this.options.sl&&"Offline"!==e||t.docs.nt()&&"Offline"!==e)},t.prototype.tl=function(t){return t.docChanges.length>0||!!(t.xe||this.Zh&&this.Zh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.nl=function(t){t=Th.Oe(t.query,t.docs,t.Ce,t.fromCache),this.Xh=!0,this.Yh.next(t)},t}(),Rg=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.il=function(){return"metadata"in this.payload},t}(),Vg=function(){function t(t){this.Kt=t}return t.prototype.yc=function(t){return Kh(this.Kt,t)},t.prototype.gc=function(t){return t.metadata.exists?Xh(this.Kt,t.document,!1):new Uc(this.yc(t.metadata.name),this.Vc(t.metadata.readTime))},t.prototype.Vc=function(t){return zh(t)},t}();!function(){function t(t,e,n){this.rl=t,this.Sh=e,this.Kt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.ol=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.cl=function(t){for(var e=new Map,n=new Vg(this.Kt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var s=n.yc(o.metadata.name),u=0,a=o.metadata.queries;u<a.length;u++){var c=a[u],l=(e.get(c)||Oh()).add(s);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(Ia.b)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(Ia.d)(this,(function(o){switch(o.label){case 0:return[4,bp(this.Sh,new Vg(this.Kt),this.documents,this.rl.id)];case 1:t=o.sent(),e=this.cl(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?[4,wp(this.Sh,i=r[n],e.get(i.name))]:[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new ep(Object.assign({},this.progress),t))]}}))}))}}();var Lg=function(t){this.key=t},Mg=function(t){this.key=t},Ug=function(){function t(t,e){this.query=t,this.al=e,this.ul=null,this.qe=!1,this.hl=Oh(),this.Ce=Oh(),this.ll=Ol(t),this._l=new Sh(this.ll)}return Object.defineProperty(t.prototype,"fl",{get:function(){return this.al},enumerable:!1,configurable:!0}),t.prototype.dl=function(t,e){var n=this,r=e?e.wl:new Ch,i=e?e._l:this._l,o=e?e.Ce:this.Ce,s=i,u=!1,a=ll(this.query)&&i.size===this.query.limit?i.last():null,c=hl(this.query)&&i.size===this.query.limit?i.first():null;if(t.Zt((function(t,e){var l=i.get(t),h=e instanceof Mc?e:null;h&&(h=_l(n.query,h)?h:null);var f=!!l&&n.Ce.has(l.key),d=!!h&&(h.bt||n.Ce.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.El(l,h)||(r.track({type:2,doc:h}),p=!0,(a&&n.ll(h,a)>0||c&&n.ll(h,c)<0)&&(u=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(a||c)&&(u=!0)),p&&(h?(s=s.add(h),o=d?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),ll(this.query)||hl(this.query))for(;s.size>this.query.limit;){var l=ll(this.query)?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{_l:s,wl:r,_c:u,Ce:o}},t.prototype.El=function(t,e){return t.bt&&e.hasCommittedMutations&&!e.bt},t.prototype.Ei=function(t,e,n){var r=this,i=this._l;this._l=t._l,this.Ce=t.Ce;var o=t.wl.Se();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ka()}};return n(t)-n(e)}(t.type,e.type)||r.ll(t.doc,e.doc)})),this.Tl(n);var s=e?this.Il():[],u=0===this.hl.size&&this.qe?1:0,a=u!==this.ul;return this.ul=u,0!==o.length||a?{snapshot:new Th(this.query,t._l,i,o,t.Ce,0===u,a,!1),ml:s}:{ml:s}},t.prototype.zh=function(t){return this.qe&&"Offline"===t?(this.qe=!1,this.Ei({_l:this._l,wl:new Ch,Ce:this.Ce,_c:!1},!1)):{ml:[]}},t.prototype.Al=function(t){return!this.al.has(t)&&!!this._l.has(t)&&!this._l.get(t).bt},t.prototype.Tl=function(t){var e=this;t&&(t.Ue.forEach((function(t){return e.al=e.al.add(t)})),t.Qe.forEach((function(t){})),t.Ke.forEach((function(t){return e.al=e.al.delete(t)})),this.qe=t.qe)},t.prototype.Il=function(){var t=this;if(!this.qe)return[];var e=this.hl;this.hl=Oh(),this._l.forEach((function(e){t.Al(e.key)&&(t.hl=t.hl.add(e.key))}));var n=[];return e.forEach((function(e){t.hl.has(e)||n.push(new Mg(e))})),this.hl.forEach((function(t){e.has(t)||n.push(new Lg(t))})),n},t.prototype.Rl=function(t){this.al=t.Pc,this.hl=Oh();var e=this.dl(t.documents);return this.Ei(e,!0)},t.prototype.Pl=function(){return Th.Oe(this.query,this._l,this.Ce,0===this.ul)},t}(),Fg=function(t,e,n){this.query=t,this.targetId=e,this.view=n},qg=function(t){this.key=t,this.yl=!1},Hg=function(){function t(t,e,n,r,i,o){this.Sh=t,this.gl=e,this.Vl=n,this.pl=r,this.currentUser=i,this.bl=o,this.vl={},this.Sl=new Ed((function(t){return bl(t)}),ml),this.Dl=new Map,this.Cl=[],this.xl=new ch(ac.J),this.Nl=new Map,this.Ol=new Op,this.Fl={},this.kl=new Map,this.Ml=Nd.Bi(),this.onlineState="Unknown",this.Ll=void 0}return Object.defineProperty(t.prototype,"$l",{get:function(){return!0===this.Ll},enumerable:!1,configurable:!0}),t}();function zg(t,e){return Object(Ia.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Ia.d)(this,(function(u){switch(u.label){case 0:return n=my(t),(i=n.Sl.get(e))?(n.pl.ka(i.targetId),r=i.view.Pl(),[3,4]):[3,1];case 1:return[4,dp(n.Sh,yl(e))];case 2:return o=u.sent(),s=n.pl.ka(o.targetId),[4,Bg(n,e,o.targetId,"current"===s)];case 3:r=u.sent(),n.$l&&ig(n.gl,o),u.label=4;case 4:return[2,r]}}))}))}function Bg(t,e,n,r){return Object(Ia.b)(this,void 0,void 0,(function(){var i,o,s,u,a,c;return Object(Ia.d)(this,(function(l){switch(l.label){case 0:return t.Bl=function(e,n,r){return function(t,e,n,r){return Object(Ia.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Ia.d)(this,(function(u){switch(u.label){case 0:return(i=e.view.dl(n))._c?[4,gp(t.Sh,e.query,!1).then((function(t){return e.view.dl(t.documents,i)}))]:[3,2];case 1:i=u.sent(),u.label=2;case 2:return o=r&&r.Fe.get(e.targetId),s=e.view.Ei(i,t.$l,o),[2,(ry(t,e.targetId,s.ml),s.snapshot)]}}))}))}(t,e,n,r)},[4,gp(t.Sh,e,!0)];case 1:return i=l.sent(),o=new Ug(e,i.Pc),s=o.dl(i.documents),u=jh.Be(n,r&&"Offline"!==t.onlineState),a=o.Ei(s,t.$l,u),ry(t,n,a.ml),c=new Fg(e,n,o),[2,(t.Sl.set(e,c),t.Dl.has(n)?t.Dl.get(n).push(e):t.Dl.set(n,[e]),a.snapshot)]}}))}))}function Gg(t,e){return Object(Ia.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Ia.d)(this,(function(o){switch(o.label){case 0:return n=Pa(t),r=n.Sl.get(e),(i=n.Dl.get(r.targetId)).length>1?[2,(n.Dl.set(r.targetId,i.filter((function(t){return!ml(t,e)}))),void n.Sl.delete(e))]:n.$l?(n.pl.La(r.targetId),n.pl.Ca(r.targetId)?[3,2]:[4,pp(n.Sh,r.targetId,!1).then((function(){n.pl.Ba(r.targetId),og(n.gl,r.targetId),ey(n,r.targetId)})).catch(Od)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return ey(n,r.targetId),[4,pp(n.Sh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function $g(t,e,n){return Object(Ia.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Ia.d)(this,(function(u){switch(u.label){case 0:r=by(t),u.label=1;case 1:return u.trys.push([1,5,,6]),[4,function(t,e){var n,r=Pa(t),i=nc.now(),o=e.reduce((function(t,e){return t.add(e.key)}),Oh());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Ic.Zo(t,o).next((function(o){n=o;for(var s=[],u=0,a=e;u<a.length;u++){var c=a[u],l=Kl(c,n.get(c.key));null!=l&&s.push(new Ql(c.key,l,Vc(l.proto.mapValue),Hl.exists(!0)))}return r.Ho.Pi(t,i,s,e)}))})).then((function(t){var e=t.Ns(n);return{batchId:t.batchId,oi:e}}))}(r.Sh,e)];case 2:return i=u.sent(),r.pl.xa(i.batchId),function(t,e,n){var r=t.Fl[t.currentUser.R()];r||(r=new ch(Va)),r=r.Ht(e,n),t.Fl[t.currentUser.R()]=r}(r,i.batchId,n),[4,sy(r,i.oi)];case 3:return u.sent(),[4,vg(r.gl)];case 4:return u.sent(),[3,6];case 5:return o=u.sent(),s=xf(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Kg(t,e){return Object(Ia.b)(this,void 0,void 0,(function(){var n,r;return Object(Ia.d)(this,(function(i){switch(i.label){case 0:n=Pa(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,lp(n.Sh,e)];case 2:return r=i.sent(),e.Fe.forEach((function(t,e){var r=n.Nl.get(e);r&&(Na(t.Ue.size+t.Qe.size+t.Ke.size<=1),t.Ue.size>0?r.yl=!0:t.Qe.size>0?Na(r.yl):t.Ke.size>0&&(Na(r.yl),r.yl=!1))})),[4,sy(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,Od(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Wg(t,e,n){var r=Pa(t);if(r.$l&&0===n||!r.$l&&1===n){var i=[];r.Sl.forEach((function(t,n){var r=n.view.zh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Pa(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zh(e)&&(r=!0)})),r&&Pg(n)}(r.Vl,e),i.length&&r.vl.uh(i),r.onlineState=e,r.$l&&r.pl.Ka(e)}}function Jg(t,e,n){return Object(Ia.b)(this,void 0,void 0,(function(){var r,i,o,s,u,a;return Object(Ia.d)(this,(function(c){switch(c.label){case 0:return(r=Pa(t)).pl.qa(e,"rejected",n),i=r.Nl.get(e),(o=i&&i.key)?(s=(s=new ch(ac.J)).Ht(o,new Uc(o,rc.min())),u=Oh().add(o),a=new xh(rc.min(),new Map,new fh(Va),s,u),[4,Kg(r,a)]):[3,2];case 1:return c.sent(),r.xl=r.xl.remove(o),r.Nl.delete(e),oy(r),[3,4];case 2:return[4,pp(r.Sh,e,!1).then((function(){return ey(r,e,n)})).catch(Od)];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))}function Zg(t,e){return Object(Ia.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Ia.d)(this,(function(o){switch(o.label){case 0:n=Pa(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,ap(n.Sh,e)];case 2:return i=o.sent(),ty(n,r,null),Xg(n,r),n.pl.Oa(r,"acknowledged"),[4,sy(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,Od(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Qg(t,e,n){return Object(Ia.b)(this,void 0,void 0,(function(){var r,i;return Object(Ia.d)(this,(function(o){switch(o.label){case 0:r=Pa(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=Pa(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.Ho.yi(t,e).next((function(e){return Na(null!==e),r=e.keys(),n.Ho.xi(t,e)})).next((function(){return n.Ho.Fi(t)})).next((function(){return n.Ic.Zo(t,r)}))}))}(r.Sh,e)];case 2:return i=o.sent(),ty(r,e,n),Xg(r,e),r.pl.Oa(e,"rejected",n),[4,sy(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,Od(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Yg(t,e){return Object(Ia.b)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(Ia.d)(this,(function(u){switch(u.label){case 0:lg((n=Pa(t)).gl)||Ta("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),u.label=1;case 1:return u.trys.push([1,3,,4]),[4,function(t){var e=Pa(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.Ho.pi(t)}))}(n.Sh)];case 2:return-1===(r=u.sent())?[2,void e.resolve()]:((i=n.kl.get(r)||[]).push(e),n.kl.set(r,i),[3,4]);case 3:return o=u.sent(),s=xf(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function Xg(t,e){(t.kl.get(e)||[]).forEach((function(t){t.resolve()})),t.kl.delete(e)}function ty(t,e,n){var r=Pa(t),i=r.Fl[r.currentUser.R()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fl[r.currentUser.R()]=i}}function ey(t,e,n){void 0===n&&(n=null),t.pl.La(e);for(var r=0,i=t.Dl.get(e);r<i.length;r++){var o=i[r];t.Sl.delete(o),n&&t.vl.ql(o,n)}t.Dl.delete(e),t.$l&&t.Ol.kc(e).forEach((function(e){t.Ol.ki(e)||ny(t,e)}))}function ny(t,e){var n=t.xl.get(e);null!==n&&(og(t.gl,n),t.xl=t.xl.remove(e),t.Nl.delete(n),oy(t))}function ry(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Lg?(t.Ol.sr(o.key,e),iy(t,o)):o instanceof Mg?(Ta("SyncEngine","Document no longer in limbo: "+o.key),t.Ol.rr(o.key,e),t.Ol.ki(o.key)||ny(t,o.key)):ka()}}function iy(t,e){var n=e.key;t.xl.get(n)||(Ta("SyncEngine","New document in limbo: "+n),t.Cl.push(n),oy(t))}function oy(t){for(;t.Cl.length>0&&t.xl.size<t.bl;){var e=t.Cl.shift(),n=t.Ml.next();t.Nl.set(n,new qg(e)),t.xl=t.xl.Ht(e,n),ig(t.gl,new Il(yl(cl(e.path)),n,2,ec.U))}}function sy(t,e,n){return Object(Ia.b)(this,void 0,void 0,(function(){var r,i,o,s;return Object(Ia.d)(this,(function(u){switch(u.label){case 0:return r=Pa(t),i=[],o=[],s=[],r.Sl.nt()?[3,3]:(r.Sl.forEach((function(t,u){s.push(r.Bl(u,e,n).then((function(t){if(t){r.$l&&r.pl.qa(u.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=rp.cc(u.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),r.vl.uh(i),[4,function(t,e){return Object(Ia.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u,a,c;return Object(Ia.d)(this,(function(l){switch(l.label){case 0:n=Pa(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return vf.forEach(e,(function(e){return vf.forEach(e.rc,(function(r){return n.persistence.Ii.sr(t,e.targetId,r)})).next((function(){return vf.forEach(e.oc,(function(r){return n.persistence.Ii.rr(t,e.targetId,r)}))}))}))}))];case 2:return l.sent(),[3,4];case 3:if(!Of(r=l.sent()))throw r;return Ta("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)u=(s=o[i]).targetId,s.fromCache||(a=n.dc.get(u),c=a.Bt(a.Mt),n.dc=n.dc.Ht(u,c));return[2]}}))}))}(r.Sh,o)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function uy(t,e){return Object(Ia.b)(this,void 0,void 0,(function(){var n,r;return Object(Ia.d)(this,(function(i){switch(i.label){case 0:return(n=Pa(t)).currentUser.isEqual(e)?[3,3]:(Ta("SyncEngine","User change. New user:",e.R()),[4,up(n.Sh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.kl.forEach((function(t){t.forEach((function(t){t.reject(new qa(Fa.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.kl.clear()}(n),n.pl.Qa(e,r.Ac,r.Rc),[4,sy(n,r.mc)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function ay(t,e){var n=Pa(t),r=n.Nl.get(e);if(r&&r.yl)return Oh().add(r.key);var i=Oh(),o=n.Dl.get(e);if(!o)return i;for(var s=0,u=o;s<u.length;s++){var a=n.Sl.get(u[s]);i=i.ye(a.view.fl)}return i}function cy(t,e){return Object(Ia.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Ia.d)(this,(function(o){switch(o.label){case 0:return[4,gp((n=Pa(t)).Sh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Rl(r),[2,(n.$l&&ry(n,e.targetId,i.ml),i)]}}))}))}function ly(t){return Object(Ia.b)(this,void 0,void 0,(function(){var e;return Object(Ia.d)(this,(function(n){return[2,vp((e=Pa(t)).Sh).then((function(t){return sy(e,t)}))]}))}))}function hy(t,e,n,r){return Object(Ia.b)(this,void 0,void 0,(function(){var i,o;return Object(Ia.d)(this,(function(s){switch(s.label){case 0:return[4,function(t,e){var n=Pa(t),r=Pa(n.Ho);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.gi(t,e).next((function(e){return e?n.Ic.Zo(t,e):vf.resolve(null)}))}))}((i=Pa(t)).Sh,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,vg(i.gl)];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(ty(i,e,r||null),Xg(i,e),function(t,e){Pa(Pa(t).Ho).Ni(e)}(i.Sh,e)):ka(),s.label=4;case 4:return[4,sy(i,o)];case 5:return s.sent(),[3,7];case 6:Ta("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function fy(t,e){return Object(Ia.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u,a;return Object(Ia.d)(this,(function(c){switch(c.label){case 0:return my(n=Pa(t)),by(n),!0!==e||!0===n.Ll?[3,3]:(r=n.pl.Sa(),[4,dy(n,r.rt())]);case 1:return i=c.sent(),n.Ll=!0,[4,Ig(n.gl,!0)];case 2:for(c.sent(),o=0,s=i;o<s.length;o++)ig(n.gl,s[o]);return[3,7];case 3:return!1!==e||!1===n.Ll?[3,7]:(u=[],a=Promise.resolve(),n.Dl.forEach((function(t,e){n.pl.$a(e)?u.push(e):a=a.then((function(){return ey(n,e),pp(n.Sh,e,!0)})),og(n.gl,e)})),[4,a]);case 4:return c.sent(),[4,dy(n,u)];case 5:return c.sent(),function(t){var e=Pa(t);e.Nl.forEach((function(t,n){og(e.gl,n)})),e.Ol.Mc(),e.Nl=new Map,e.xl=new ch(ac.J)}(n),n.Ll=!1,[4,Ig(n.gl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}}))}))}function dy(t,e,n){return Object(Ia.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u,a,c,l,h,f,d,p;return Object(Ia.d)(this,(function(g){switch(g.label){case 0:n=Pa(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(a=void 0,(c=n.Dl.get(u=s[o]))&&0!==c.length?[4,dp(n.Sh,yl(c[0]))]:[3,7]):[3,13];case 2:a=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=n.Sl.get(h[l]),[4,cy(n,f)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,yp(n.Sh,u)];case 8:return p=g.sent(),[4,dp(n.Sh,p)];case 9:return a=g.sent(),[4,Bg(n,py(p),u,!1)];case 10:g.sent(),g.label=11;case 11:r.push(a),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.vl.uh(i),r)]}}))}))}function py(t){return al(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function gy(t){var e=Pa(t);return Pa(Pa(e.Sh).persistence).Qo()}function yy(t,e,n,r){return Object(Ia.b)(this,void 0,void 0,(function(){var i,o,s;return Object(Ia.d)(this,(function(u){switch(u.label){case 0:return(i=Pa(t)).Ll?(Ta("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Dl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,vp(i.Sh)];case 3:return o=u.sent(),s=xh.$e(e,"current"===n),[4,sy(i,o,s)];case 4:return u.sent(),[3,8];case 5:return[4,pp(i.Sh,e,!0)];case 6:return u.sent(),ey(i,e,r),[3,8];case 7:ka(),u.label=8;case 8:return[2]}}))}))}function vy(t,e,n){return Object(Ia.b)(this,void 0,void 0,(function(){var r,i,o,s,u,a,c,l,h;return Object(Ia.d)(this,(function(f){switch(f.label){case 0:if(!(r=my(t)).Ll)return[3,10];i=0,o=e,f.label=1;case 1:return i<o.length?r.Dl.has(s=o[i])?(Ta("SyncEngine","Adding an already active target "+s),[3,5]):[4,yp(r.Sh,s)]:[3,6];case 2:return u=f.sent(),[4,dp(r.Sh,u)];case 3:return a=f.sent(),[4,Bg(r,py(u),a.targetId,!1)];case 4:f.sent(),ig(r.gl,a),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(Ia.d)(this,(function(e){switch(e.label){case 0:return r.Dl.has(t)?[4,pp(r.Sh,t,!1).then((function(){og(r.gl,t),ey(r,t)})).catch(Od)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}function my(t){var e=Pa(t);return e.gl.Ch.Bh=Kg.bind(null,e),e.gl.Ch.Sn=ay.bind(null,e),e.gl.Ch.$h=Jg.bind(null,e),e.vl.uh=kg.bind(null,e.Vl),e.vl.ql=Ng.bind(null,e.Vl),e}function by(t){var e=Pa(t);return e.gl.Ch.qh=Zg.bind(null,e),e.gl.Ch.Uh=Qg.bind(null,e),e}var wy=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(Ia.b)(this,void 0,void 0,(function(){return Object(Ia.d)(this,(function(e){switch(e.label){case 0:return this.Kt=Wp(t.gu.T),this.pl=this.Wl(t),this.persistence=this.Gl(t),[4,this.persistence.start()];case 1:return e.sent(),this.zl=this.Hl(t),this.Sh=this.Jl(t),[2]}}))}))},t.prototype.Hl=function(t){return null},t.prototype.Jl=function(t){return sp(this.persistence,new ip,t.Yl,this.Kt)},t.prototype.Gl=function(t){return new xp(Ap.ra,this.Kt)},t.prototype.Wl=function(t){return new Fp},t.prototype.terminate=function(){return Object(Ia.b)(this,void 0,void 0,(function(){return Object(Ia.d)(this,(function(t){switch(t.label){case 0:return this.zl&&this.zl.stop(),[4,this.pl.Lo()];case 1:return t.sent(),[4,this.persistence.Lo()];case 2:return t.sent(),[2]}}))}))},t}(),_y=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(Ia.c)(e,t),e.prototype.initialize=function(e){return Object(Ia.b)(this,void 0,void 0,(function(){return Object(Ia.d)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,mp(this.Sh)];case 2:return n.sent(),[4,this.Xl.initialize(this,e)];case 3:return n.sent(),[4,by(this.Xl.fa)];case 4:return n.sent(),[4,vg(this.Xl.gl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Jl=function(t){return sp(this.persistence,new ip,t.Yl,this.Kt)},e.prototype.Hl=function(t){return new Ud(this.persistence.Ii._r,t.fs)},e.prototype.Gl=function(t){var e=tp(t.gu.T,t.gu.persistenceKey),n=void 0!==this.cacheSizeBytes?_d.Xs(this.cacheSizeBytes):_d.ei;return new Qd(this.synchronizeTabs,e,t.clientId,n,t.fs,$p(),Kp(),this.Kt,this.pl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new Fp},e}(wy),Oy=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Xl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(Ia.c)(e,t),e.prototype.initialize=function(e){return Object(Ia.b)(this,void 0,void 0,(function(){var n,r=this;return Object(Ia.d)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Xl.fa,this.pl instanceof Up?(this.pl.fa={nu:hy.bind(null,n),su:yy.bind(null,n),iu:vy.bind(null,n),Qo:gy.bind(null,n),eu:ly.bind(null,n)},[4,this.pl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Po((function(t){return Object(Ia.b)(r,void 0,void 0,(function(){return Object(Ia.d)(this,(function(e){switch(e.label){case 0:return[4,fy(this.Xl.fa,t)];case 1:return e.sent(),this.zl&&(t&&!this.zl.Tr?this.zl.start(this.Sh):t||this.zl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Wl=function(t){var e=$p();if(!Up.jn(e))throw new qa(Fa.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=tp(t.gu.T,t.gu.persistenceKey);return new Up(e,t.fs,n,t.clientId,t.Yl)},e}(_y),Ey=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(Ia.b)(this,void 0,void 0,(function(){var n=this;return Object(Ia.d)(this,(function(r){switch(r.label){case 0:return this.Sh?[3,2]:(this.Sh=t.Sh,this.pl=t.pl,this.Dh=this.Zl(e),this.gl=this.t_(e),this.Vl=this.e_(e),this.fa=this.n_(e,!t.synchronizeTabs),this.pl.da=function(t){return Wg(n.fa,t,1)},this.gl.Ch.s_=uy.bind(null,this.fa),[4,Ig(this.gl,this.fa.$l)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.e_=function(t){return new xg},t.prototype.Zl=function(t){var e=Wp(t.gu.T),n=new Gp(t.gu);return function(t,e,n){return new Xp(t,e,n)}(t.credentials,n,e)},t.prototype.t_=function(t){var e,n,r,i,o,s=this;return e=this.Sh,n=this.Dh,r=t.fs,i=function(t){return Wg(s.fa,t,0)},o=Hp.jn()?new Hp:new qp,new eg(e,n,r,i,o)},t.prototype.n_=function(t,e){return function(t,e,n,r,i,o,s){var u=new Hg(t,e,n,r,i,o);return s&&(u.Ll=!0),u}(this.Sh,this.gl,this.Vl,this.pl,t.Yl,t.bl,e)},t.prototype.terminate=function(){return function(t){return Object(Ia.b)(this,void 0,void 0,(function(){var e;return Object(Ia.d)(this,(function(n){switch(n.label){case 0:return e=Pa(t),Ta("RemoteStore","RemoteStore shutting down."),e.Oh.add(5),[4,rg(e)];case 1:return n.sent(),e.kh.Lo(),e.Mh.set("Unknown"),[2]}}))}))}(this.gl)},t}(),Iy=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.i_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.i_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.r_=function(){this.muted=!0},t.prototype.i_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),Sy=(function(){function t(t,e){var n=this;this.o_=t,this.Kt=e,this.metadata=new yf,this.buffer=new Uint8Array,this.c_=new TextDecoder("utf-8"),this.a_().then((function(t){t&&t.il()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.o_.cancel()},t.prototype.getMetadata=function(){return Object(Ia.b)(this,void 0,void 0,(function(){return Object(Ia.d)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Kl=function(){return Object(Ia.b)(this,void 0,void 0,(function(){return Object(Ia.d)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.a_())]}}))}))},t.prototype.a_=function(){return Object(Ia.b)(this,void 0,void 0,(function(){var t,e,n,r;return Object(Ia.d)(this,(function(i){switch(i.label){case 0:return[4,this.u_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.c_.decode(t),n=Number(e),isNaN(n)&&this.h_("length string ("+e+") is not valid number"),[4,this.l_(n)]);case 2:return r=i.sent(),[2,new Rg(JSON.parse(r),t.length+n)]}}))}))},t.prototype.__=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.u_=function(){return Object(Ia.b)(this,void 0,void 0,(function(){var t,e;return Object(Ia.d)(this,(function(n){switch(n.label){case 0:return this.__()<0?[4,this.f_()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.__())<0&&this.h_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.l_=function(t){return Object(Ia.b)(this,void 0,void 0,(function(){var e;return Object(Ia.d)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.f_()]:[3,3];case 1:n.sent()&&this.h_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.c_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.h_=function(t){throw this.o_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.f_=function(){return Object(Ia.b)(this,void 0,void 0,(function(){var t,e;return Object(Ia.d)(this,(function(n){switch(n.label){case 0:return[4,this.o_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new qa(Fa.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.d_=new uc(t)}return t.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},t}()),Cy=function(t){this._methodName=t};function Ty(t,e,n){if(!n)throw new qa(Fa.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function xy(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new qa(Fa.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function jy(t,e,n,r){if(!0===e&&!0===r)throw new qa(Fa.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Ay(t){if(!ac.Et(t))throw new qa(Fa.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function ky(t){if(ac.Et(t))throw new qa(Fa.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Ny(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":ka()}function Py(t,e){if("_delegate"in t&&(t=t._),!(t instanceof e)){if(e.name===t.constructor.name)throw new qa(Fa.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Ny(t);throw new qa(Fa.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Dy(t,e){if(e<=0)throw new qa(Fa.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Ry=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new qa(Fa.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new qa(Fa.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,jy("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),Vy=new Map,Ly=function(){function t(t,e){this.w_="(lite)",this.E_=new Ry({}),this.T_=!1,t instanceof Wa?(this.I_=t,this.m_=new Qa):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new qa(Fa.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wa(t.options.projectId)}(t),this.m_=new Ya(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new qa(Fa.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new qa(Fa.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new Ry(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Qa;switch(t.type){case"gapi":var e=t.client;return Na(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new tc(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new qa(Fa.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.b_=function(){return(t=Vy.get(this))&&(Ta("ComponentProvider","Removing Datastore"),Vy.delete(this),t.terminate()),Promise.resolve();var t},t}(),My=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Fy(this.firestore,this.v_,this.S_.path.Z())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Uy=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Fy=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,cl(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(Ia.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.ot()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.Z();return t.nt()?null:new My(this.firestore,null,new ac(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Uy);function qy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof za&&(t=t._),Ty("collection","path",e),t instanceof Ly)return ky(n=oc.ct.apply(oc,Object(Ia.g)([e],r))),new Fy(t,null,n);if(!(t instanceof My||t instanceof Fy))throw new qa(Fa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ky(n=oc.ct.apply(oc,Object(Ia.g)([t.path],r)).child(oc.ct(e))),new Fy(t.firestore,null,n)}function Hy(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof za&&(t=t._),1===arguments.length&&(e=Ra.t()),Ty("doc","path",e),t instanceof Ly)return Ay(n=oc.ct.apply(oc,Object(Ia.g)([e],r))),new My(t,null,new ac(n));if(!(t instanceof My||t instanceof Fy))throw new qa(Fa.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Ay(n=t.D_.child(oc.ct.apply(oc,Object(Ia.g)([e],r)))),new My(t.firestore,t instanceof Fy?t.v_:null,new ac(n))}function zy(t,e){return t instanceof za&&(t=t._),e instanceof za&&(e=e._),(t instanceof My||t instanceof Fy)&&(e instanceof My||e instanceof Fy)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function By(t,e){return t instanceof za&&(t=t._),e instanceof za&&(e=e._),t instanceof Uy&&e instanceof Uy&&t.firestore===e.firestore&&ml(t.C_,e.C_)&&t.v_===e.v_}var Gy=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new qa(Fa.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new qa(Fa.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.K=function(t){return Va(this.x_,t.x_)||Va(this.N_,t.N_)},t}(),$y=/^__.*__$/,Ky=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return null!==this.zt?new Ql(t,this.data,this.zt,e,this.fieldTransforms):new Zl(t,this.data,e,this.fieldTransforms)},t}(),Wy=function(){function t(t,e,n){this.data=t,this.zt=e,this.fieldTransforms=n}return t.prototype.O_=function(t,e){return new Ql(t,this.data,this.zt,e,this.fieldTransforms)},t}();function Jy(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ka()}}var Zy=function(){function t(t,e,n,r,i,o){this.settings=t,this.T=e,this.Kt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.F_(),this.fieldTransforms=i||[],this.zt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.T,this.Kt,this.ignoreUndefinedProperties,this.fieldTransforms,this.zt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.F_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return yv(t,this.settings.methodName,this.settings.j_||!1,this.path,this.settings.W_)},t.prototype.contains=function(t){return void 0!==this.zt.find((function(e){return t.st(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.st(e.field)}))},t.prototype.F_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Jy(this.k_)&&$y.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Qy=function(){function t(t,e,n){this.T=t,this.ignoreUndefinedProperties=e,this.Kt=n||Wp(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Zy({k_:t,methodName:e,W_:n,path:uc.at(),B_:!1,j_:r},this.T,this.Kt,this.ignoreUndefinedProperties)},t}();function Yy(t){var e=t.p_(),n=Wp(t.I_);return new Qy(t.I_,!!e.ignoreUndefinedProperties,n)}function Xy(t,e,n,r,i,o){void 0===o&&(o={});var s=t.G_(o.merge||o.mergeFields?2:0,e,n,i);fv("Data must be an object, but it was:",s,r);var u,a,c=lv(r,s);if(o.merge)u=new fc(s.zt),a=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=dv(e,f[h],n);if(!s.contains(d))throw new qa(Fa.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");vv(l,d)||l.push(d)}u=new fc(l),a=s.fieldTransforms.filter((function(t){return u.It(t.field)}))}else u=null,a=s.fieldTransforms;return new Ky(new Dc(c),u,a)}var tv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ia.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.zt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(Cy);function ev(t,e,n){return new Zy({k_:3,W_:e.settings.W_,methodName:t._methodName,B_:n},e.T,e.Kt,e.ignoreUndefinedProperties)}var nv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ia.c)(e,t),e.prototype.z_=function(t){return new Fl(t.path,new Nl)},e.prototype.isEqual=function(t){return t instanceof e},e}(Cy),rv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Ia.c)(e,t),e.prototype.z_=function(t){var e=ev(this,t,!0),n=this.H_.map((function(t){return cv(t,e)})),r=new Pl(n);return new Fl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Cy),iv=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(Ia.c)(e,t),e.prototype.z_=function(t){var e=ev(this,t,!0),n=this.H_.map((function(t){return cv(t,e)})),r=new Rl(n);return new Fl(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(Cy),ov=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(Ia.c)(e,t),e.prototype.z_=function(t){var e=new Ll(t.Kt,Tl(t.Kt,this.J_));return new Fl(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(Cy);function sv(t,e,n,r){var i=t.G_(1,e,n);fv("Data must be an object, but it was:",i,r);var o=[],s=new Rc;lc(r,(function(t,r){var u=gv(e,t,n);r instanceof za&&(r=r._);var a=i.U_(u);if(r instanceof tv)o.push(u);else{var c=cv(r,a);null!=c&&(o.push(u),s.set(u,c))}}));var u=new fc(o);return new Wy(s.yt(),u,i.fieldTransforms)}function uv(t,e,n,r,i,o){var s=t.G_(1,e,n),u=[dv(e,r,n)],a=[i];if(o.length%2!=0)throw new qa(Fa.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)u.push(dv(e,o[c])),a.push(o[c+1]);for(var l=[],h=new Rc,f=u.length-1;f>=0;--f)if(!vv(l,u[f])){var d=u[f],p=a[f];p instanceof za&&(p=p._);var g=s.U_(d);if(p instanceof tv)l.push(d);else{var y=cv(p,g);null!=y&&(l.push(d),h.set(d,y))}}var v=new fc(l);return new Wy(h.yt(),v,s.fieldTransforms)}function av(t,e,n,r){return void 0===r&&(r=!1),cv(n,t.G_(r?4:3,e))}function cv(t,e){if(t instanceof za&&(t=t._),hv(t))return fv("Unsupported field value:",e,t),lv(t,e);if(t instanceof Cy)return function(t,e){if(!Jy(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.zt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=cv(o[i],e.Q_(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof za&&(t=t._),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Tl(e.Kt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=nc.fromDate(t);return{timestampValue:Fh(e.Kt,n)}}if(t instanceof nc)return n=new nc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:Fh(e.Kt,n)};if(t instanceof Gy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ha)return{bytesValue:qh(e.Kt,t.l)};if(t instanceof My){var r=t.firestore.I_;if(!r.isEqual(n=e.T))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Bh(t.firestore.I_||e.T,t.S_.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.K_("Unsupported field value: "+Ny(t))}(t,e)}function lv(t,e){var n={};return hc(t)?e.path&&e.path.length>0&&e.zt.push(e.path):lc(t,(function(t,r){var i=cv(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function hv(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof nc||t instanceof Gy||t instanceof Ha||t instanceof My||t instanceof Cy)}function fv(t,e,n){if(!hv(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Ny(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function dv(t,e,n){if(e instanceof za&&(e=e._),e instanceof Sy)return e.d_;if("string"==typeof e)return gv(t,e);throw yv("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var pv=new RegExp("[~\\*/\\[\\]]");function gv(t,e,n){if(e.search(pv)>=0)throw yv("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(Sy.bind.apply(Sy,Object(Ia.g)([void 0],e.split("."))))).d_}catch(r){throw yv("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function yv(t,e,n,r,i){var o=r&&!r.nt(),s=void 0!==i,u="Function "+e+"() called with invalid data";n&&(u+=" (via `toFirestore()`)");var a="";return(o||s)&&(a+=" (found",o&&(a+=" in field "+r),s&&(a+=" in document "+i),a+=")"),new qa(Fa.INVALID_ARGUMENT,(u+=". ")+t+a)}function vv(t,e){return t.some((function(t){return t.isEqual(e)}))}var mv=function(){function t(t){this.Dh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(Ia.b)(this,void 0,void 0,(function(){var e,n=this;return Object(Ia.d)(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new qa(Fa.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(Ia.b)(this,void 0,void 0,(function(){var n,r,i,o,s,u;return Object(Ia.d)(this,(function(a){switch(a.label){case 0:return n=Pa(t),r=Zh(n.Kt)+"/documents",i={documents:e.map((function(t){return $h(n.Kt,t)}))},[4,n.Cu("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Na(!!e.found);var n=Kh(t,e.found.name),r=zh(e.found.updateTime),i=new Dc({mapValue:{fields:e.found.fields}});return new Mc(n,r,i,{})}(t,e):"missing"in e?function(t,e){Na(!!e.missing),Na(!!e.readTime);var n=Kh(t,e.missing),r=zh(e.readTime);return new Uc(n,r)}(t,e):ka()}(n.Kt,t);s.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Na(!!e),u.push(e)})),u)]}}))}))}(this.Dh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Uc||t instanceof Mc?n.sf(t):ka()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.O_(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.O_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new ih(t,this.Gt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(Ia.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Ia.d)(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=ac.ft(n);e.mutations.push(new oh(r,e.Gt(r)))})),[4,function(t,e){return Object(Ia.b)(this,void 0,void 0,(function(){var n,r,i;return Object(Ia.d)(this,(function(o){switch(o.label){case 0:return n=Pa(t),r=Zh(n.Kt)+"/documents",i={writes:e.map((function(t){return tf(n.Kt,t)}))},[4,n.bu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Dh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof Mc)e=t.version;else{if(!(t instanceof Uc))throw ka();e=rc.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new qa(Fa.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.Gt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Hl.updateTime(e):Hl.jt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(rc.min()))throw new qa(Fa.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Hl.updateTime(e)}return Hl.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),bv=function(){function t(t,e,n,r){this.fs=t,this.Dh=e,this.updateFunction=n,this.Ts=r,this.cf=5,this.zu=new Jp(this.fs,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.zu.Bu((function(){return Object(Ia.b)(t,void 0,void 0,(function(){var t,e,n=this;return Object(Ia.d)(this,(function(r){return t=new mv(this.Dh),(e=this.uf(t))&&e.then((function(e){n.fs.ys((function(){return t.commit().then((function(){n.Ts.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!bc(e)&&e.catch&&e.then?e:(this.Ts.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Ts.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this.fs.ys((function(){return e.af(),Promise.resolve()}))):this.Ts.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!uh(e)}return!1},t}(),wv=function(){function t(t,e,n){var r=this;this.credentials=t,this.fs=e,this.gu=n,this.user=Ja.UNAUTHENTICATED,this.clientId=Ra.t(),this._f=function(){},this.N=new yf,this.credentials.S((function(t){Ta("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.N.resolve()}))}return t.prototype.getConfiguration=function(){return Object(Ia.b)(this,void 0,void 0,(function(){return Object(Ia.d)(this,(function(t){switch(t.label){case 0:return[4,this.N.promise];case 1:return[2,(t.sent(),{fs:this.fs,gu:this.gu,clientId:this.clientId,credentials:this.credentials,Yl:this.user,bl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.N.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this.fs.wf)throw new qa(Fa.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.fs.Ef();var e=new yf;return this.fs.Tf((function(){return Object(Ia.b)(t,void 0,void 0,(function(){var t,n;return Object(Ia.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.D(),e.resolve(),[3,6];case 5:return t=r.sent(),n=xf(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function _v(t,e){return Object(Ia.b)(this,void 0,void 0,(function(){var n,r,i=this;return Object(Ia.d)(this,(function(o){switch(o.label){case 0:return t.fs.Af(),Ta("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Yl,t.ff((function(n){r.isEqual(n)||(r=n,t.fs.bo((function(){return Object(Ia.b)(i,void 0,void 0,(function(){return Object(Ia.d)(this,(function(t){switch(t.label){case 0:return[4,up(e.Sh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.yo((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function Ov(t,e){return Object(Ia.b)(this,void 0,void 0,(function(){var n,r;return Object(Ia.d)(this,(function(i){switch(i.label){case 0:return t.fs.Af(),[4,Ev(t)];case 1:return n=i.sent(),Ta("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t.fs.bo((function(){return function(t,e){return Object(Ia.b)(this,void 0,void 0,(function(){var n,r;return Object(Ia.d)(this,(function(i){switch(i.label){case 0:return(n=Pa(t)).fs.Af(),Ta("RemoteStore","RemoteStore received new credentials"),r=lg(n),n.Oh.add(3),[4,rg(n)];case 1:return i.sent(),r&&n.Mh.set("Unknown"),[4,n.Ch.s_(e)];case 2:return i.sent(),n.Oh.delete(3),[4,ng(n)];case 3:return i.sent(),[2]}}))}))}(e.gl,n)}))})),t.If=e,[2]}}))}))}function Ev(t){return Object(Ia.b)(this,void 0,void 0,(function(){return Object(Ia.d)(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(Ta("FirestoreClient","Using default OfflineComponentProvider"),[4,_v(t,new wy)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function Iv(t){return Object(Ia.b)(this,void 0,void 0,(function(){return Object(Ia.d)(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(Ta("FirestoreClient","Using default OnlineComponentProvider"),[4,Ov(t,new Ey)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function Sv(t){return Ev(t).then((function(t){return t.persistence}))}function Cv(t){return Ev(t).then((function(t){return t.Sh}))}function Tv(t){return Iv(t).then((function(t){return t.gl}))}function xv(t){return Iv(t).then((function(t){return t.fa}))}function jv(t){return Object(Ia.b)(this,void 0,void 0,(function(){var e,n;return Object(Ia.d)(this,(function(r){switch(r.label){case 0:return[4,Iv(t)];case 1:return e=r.sent(),[2,((n=e.Vl).Gh=zg.bind(null,e.fa),n.Jh=Gg.bind(null,e.fa),n)]}}))}))}function Av(t,e,n){var r=this;void 0===n&&(n={});var i=new yf;return t.fs.ys((function(){return Object(Ia.b)(r,void 0,void 0,(function(){var r;return Object(Ia.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Iy({next:function(o){e.ys((function(){return Ag(t,s)}));var u=o.docs.has(n);!u&&o.fromCache?i.reject(new qa(Fa.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&o.fromCache&&r&&"server"===r.source?i.reject(new qa(Fa.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),s=new Dg(cl(n.path),o,{includeMetadataChanges:!0,sl:!0});return jg(t,s)},[4,jv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}function kv(t,e,n){var r=this;void 0===n&&(n={});var i=new yf;return t.fs.ys((function(){return Object(Ia.b)(r,void 0,void 0,(function(){var r;return Object(Ia.d)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new Iy({next:function(n){e.ys((function(){return Ag(t,s)})),n.fromCache&&"server"===r.source?i.reject(new qa(Fa.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),s=new Dg(n,o,{includeMetadataChanges:!0,sl:!0});return jg(t,s)},[4,jv(t)];case 1:return[2,r.apply(void 0,[o.sent(),t.fs,e,n,i])]}}))}))})),i.promise}var Nv=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.zu=new Jp(this,"async_queue_retry"),this.vf=function(){var e=Kp();e&&Ta("AsyncQueue","Visibility state changed to "+e.visibilityState),t.zu.Uu()};var e=Kp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.ys=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=Kp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.bo=function(t){var e=this;this.ys((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Object(Ia.b)(this,void 0,void 0,(function(){var t,e=this;return Object(Ia.d)(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.zu.reset(),[3,4];case 3:if(!Of(t=n.sent()))throw t;return Ta("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.zu.Bu((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,xa("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.Ir=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=Tf.Is(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&ka()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(Ia.b)(this,void 0,void 0,(function(){var t;return Object(Ia.d)(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Of=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].ds===t)return!0;return!1},t.prototype.Ff=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ws-e.ws}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Ps(),"all"!==t&&i.ds===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}(),Pv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Mf=new Nv,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(Ia.c)(e,t),e.prototype.b_=function(){return this.Lf||Rv(this),this.Lf.terminate()},e}(Ly);function Dv(t){return t.Lf||Rv(t),t.Lf.df(),t.Lf}function Rv(t){var e=t.p_(),n=function(t,e,n){return new Ka(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.Lf=new wv(t.m_,t.Mf,n)}function Vv(t,e,n){var r=this,i=new yf;return t.fs.enqueue((function(){return Object(Ia.b)(r,void 0,void 0,(function(){var r;return Object(Ia.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,_v(t,n)];case 1:return o.sent(),[4,Ov(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Fa.FAILED_PRECONDITION||t.code===Fa.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Lv(t){if(t.R_||t.P_)throw new qa(Fa.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Mv=function(){function t(){}return t.prototype.$f=function(t,e){switch(void 0===e&&(e="none"),Oc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return gc(t.integerValue||t.doubleValue);case 3:return this.Bf(t.timestampValue);case 4:return this.qf(t,e);case 5:return t.stringValue;case 6:return this.Uf(yc(t.bytesValue));case 7:return this.Qf(t.referenceValue);case 8:return this.Kf(t.geoPointValue);case 9:return this.jf(t.arrayValue,e);case 10:return this.Wf(t.mapValue,e);default:throw ka()}},t.prototype.Wf=function(t,e){var n=this,r={};return lc(t.fields||{},(function(t,i){r[t]=n.$f(i,e)})),r},t.prototype.Kf=function(t){return new Gy(gc(t.latitude),gc(t.longitude))},t.prototype.jf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.$f(t,e)}))},t.prototype.qf=function(t,e){switch(e){case"previous":var n=function t(e){var n=e.mapValue.fields.__previous_value__;return vc(n)?t(n):n}(t);return null==n?null:this.$f(n,e);case"estimate":return this.Bf(mc(t));default:return null}},t.prototype.Bf=function(t){var e=pc(t);return new nc(e.seconds,e.nanos)},t.prototype.Gf=function(t,e){var n=oc.ct(t);Na(gf(n));var r=new Wa(n.get(1),n.get(3)),i=new ac(n.X(5));return r.isEqual(e)||xa("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Uv=function(){function t(t,e,n,r,i){this.zf=t,this.Hf=e,this.S_=n,this.Jf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.et()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new My(this.zf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Jf},t.prototype.data=function(){if(this.Jf){if(this.v_){var t=new Fv(this.zf,this.Hf,this.S_,this.Jf,null);return this.v_.fromFirestore(t)}return this.Hf.$f(this.Jf.vt())}},t.prototype.get=function(t){if(this.Jf){var e=this.Jf.data().field(qv("DocumentSnapshot.get",t));if(null!==e)return this.Hf.$f(e)}},t}(),Fv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ia.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Uv);function qv(t,e){return"string"==typeof e?gv(t,e):e instanceof za?e._.d_:e.d_}function Hv(t){if(hl(t)&&0===t.Nt.length)throw new qa(Fa.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var zv=function(){};function Bv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.Yf(t)}return t}var Gv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Xf=e,i.Zf=n,i.td=r,i.type="where",i}return Object(Ia.c)(e,t),e.prototype.Yf=function(t){var e=Yy(t.firestore),n=function(t,e,n,r,i,o,s){var u;if(i.ht()){if("array-contains"===o||"array-contains-any"===o)throw new qa(Fa.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Yv(s,o);for(var a=[],c=0,l=s;c<l.length;c++)a.push(Qv(r,t,l[c]));u={arrayValue:{values:a}}}else u=Qv(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Yv(s,o),u=av(n,"where",s,"in"===o||"not-in"===o);var h=$c.create(i,o,u);return function(t,e){if(e.xt()){var n=dl(t);if(null!==n&&!n.isEqual(e.field))throw new qa(Fa.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=fl(t);null!==r&&Xv(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new qa(Fa.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.Xf,this.Zf,this.td);return new Uy(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new ul(t.path,t.collectionGroup,t.Nt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(zv),$v=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Xf=e,r.ed=n,r.type="orderBy",r}return Object(Ia.c)(e,t),e.prototype.Yf=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new qa(Fa.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new qa(Fa.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new rl(e,n);return function(t,e){if(null===fl(t)){var n=dl(t);null!==n&&Xv(0,n,e.field)}}(t,r),r}(t.C_,this.Xf,this.ed);return new Uy(t.firestore,t.v_,function(t,e){var n=t.Nt.concat([e]);return new ul(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(zv),Kv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.nd=n,i.sd=r,i}return Object(Ia.c)(e,t),e.prototype.Yf=function(t){return new Uy(t.firestore,t.v_,vl(t.C_,this.nd,this.sd))},e}(zv),Wv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Ia.c)(e,t),e.prototype.Yf=function(t){var e=Zv(t,this.type,this.rd,this.od);return new Uy(t.firestore,t.v_,function(t,e){return new ul(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(zv),Jv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.rd=n,i.od=r,i}return Object(Ia.c)(e,t),e.prototype.Yf=function(t){var e=Zv(t,this.type,this.rd,this.od);return new Uy(t.firestore,t.v_,function(t,e){return new ul(t.path,t.collectionGroup,t.Nt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(zv);function Zv(t,e,n,r){if(n[0]instanceof za&&(n[0]=n[0]._),n[0]instanceof Uv)return function(t,e,n,r,i){if(!r)throw new qa(Fa.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,u=gl(t);s<u.length;s++){var a=u[s];if(a.field.ht())o.push(xc(e,r.key));else{var c=r.field(a.field);if(vc(c))throw new qa(Fa.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+a.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=a.field.ot();throw new qa(Fa.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new el(o,i)}(t.C_,t.firestore.I_,e,n[0].Jf,r);var i=Yy(t.firestore);return function(t,e,n,r,i,o){var s=t.Nt;if(i.length>s.length)throw new qa(Fa.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var u=[],a=0;a<i.length;a++){var c=i[a];if(s[a].field.ht()){if("string"!=typeof c)throw new qa(Fa.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!pl(t)&&-1!==c.indexOf("/"))throw new qa(Fa.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(oc.ct(c));if(!ac.Et(l))throw new qa(Fa.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ac(l);u.push(xc(e,h))}else{var f=av(n,r,c);u.push(f)}}return new el(u,o)}(t.C_,t.firestore.I_,i,e,n,r)}function Qv(t,e,n){if(n instanceof za&&(n=n._),"string"==typeof n){if(""===n)throw new qa(Fa.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!pl(e)&&-1!==n.indexOf("/"))throw new qa(Fa.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(oc.ct(n));if(!ac.Et(r))throw new qa(Fa.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return xc(t,new ac(r))}if(n instanceof My)return xc(t,n.S_);throw new qa(Fa.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Ny(n)+".")}function Yv(t,e){if(!Array.isArray(t)||0===t.length)throw new qa(Fa.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new qa(Fa.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Xv(t,e,n){if(!n.isEqual(e))throw new qa(Fa.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function tm(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}function em(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var nm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ia.c)(e,t),e.prototype.Uf=function(t){return new Ha(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new My(this.firestore,null,e)},e}(Mv),rm=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),im=function(t){function e(e,n,r,i,o,s){var u=this;return(u=t.call(this,e,n,r,i,s)||this).zf=e,u.ad=e,u.metadata=o,u}return Object(Ia.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Jf){if(this.v_){var e=new om(this.zf,this.Hf,this.S_,this.Jf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Hf.$f(this.Jf.vt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Jf){var n=this.Jf.data().field(qv("DocumentSnapshot.get",t));if(null!==n)return this.Hf.$f(n,e.serverTimestamps)}},e}(Uv),om=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ia.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(im),sm=function(){function t(t,e,n,r){this.zf=t,this.Hf=e,this.ud=r,this.metadata=new rm(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.ud.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this.ud.docs.forEach((function(r){t.call(e,new om(n.zf,n.Hf,r.key,r,new rm(n.ud.Ce.has(r.key),n.ud.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this.ud.Ne)throw new qa(Fa.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.hd&&this.ld===e||(this.hd=function(t,e){if(t.ud.De.nt()){var n=0;return t.ud.docChanges.map((function(e){return{type:"added",doc:new om(t.zf,t.Hf,e.doc.key,e.doc,new rm(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}}))}var r=t.ud.De;return t.ud.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new om(t.zf,t.Hf,e.doc.key,e.doc,new rm(t.ud.Ce.has(e.doc.key),t.ud.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:um(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.ld=e),this.hd},t}();function um(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ka()}}function am(t,e){return t instanceof im&&e instanceof im?t.zf===e.zf&&t.S_.isEqual(e.S_)&&(null===t.Jf?null===e.Jf:t.Jf.isEqual(e.Jf))&&t.v_===e.v_:t instanceof sm&&e instanceof sm&&t.zf===e.zf&&By(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t.ud.isEqual(e.ud)}var cm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ia.c)(e,t),e.prototype.Uf=function(t){return new Ha(t)},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return new My(this.firestore,null,e)},e}(Mv);function lm(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=Py(t,My);var o=Py(t.firestore,Pv),s=Yy(o);return e instanceof za&&(e=e._),fm(o,[("string"==typeof e||e instanceof Sy?uv(s,"updateDoc",t.S_,e,n,r):sv(s,"updateDoc",t.S_,e)).O_(t.S_,Hl.exists(!0))])}function hm(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof za&&(t=t._);var s={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||tm(i[u])||(s=i[u],u++);var a,c,l,h={includeMetadataChanges:s.includeMetadataChanges};if(tm(i[u])){var f=i[u];i[u]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[u+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[u+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof My)c=Py(t.firestore,Pv),l=cl(t.S_.path),a={next:function(e){i[u]&&i[u](dm(c,t,e))},error:i[u+1],complete:i[u+2]};else{var d=Py(t,Uy);c=Py(d.firestore,Pv),l=d.C_;var p=new cm(c);a={next:function(t){i[u]&&i[u](new sm(c,p,d,t))},error:i[u+1],complete:i[u+2]},Hv(t.C_)}return function(t,e,n,r){var i=this,o=new Iy(r),s=new Dg(e,o,n);return t.fs.ys((function(){return Object(Ia.b)(i,void 0,void 0,(function(){var e;return Object(Ia.d)(this,(function(n){switch(n.label){case 0:return e=jg,[4,jv(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.r_(),t.fs.ys((function(){return Object(Ia.b)(i,void 0,void 0,(function(){var e;return Object(Ia.d)(this,(function(n){switch(n.label){case 0:return e=Ag,[4,jv(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(Dv(c),l,h,a)}function fm(t,e){return function(t,e){var n=this,r=new yf;return t.fs.ys((function(){return Object(Ia.b)(n,void 0,void 0,(function(){var n;return Object(Ia.d)(this,(function(i){switch(i.label){case 0:return n=$g,[4,xv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(Dv(t),e)}function dm(t,e,n){var r=n.docs.get(e.S_),i=new cm(t);return new im(t,i,e.S_,r,new rm(n.hasPendingWrites,n.fromCache),e.v_)}var pm=function(){function t(t,e){this.zf=t,this._d=e,this.fd=[],this.dd=!1,this.wd=Yy(t)}return t.prototype.set=function(t,e,n){this.Ed();var r=gm(t,this.zf),i=em(r.v_,e,n),o=Xy(this.wd,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.fd.push(o.O_(r.S_,Hl.jt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.Ed();var o,s=gm(t,this.zf);return e instanceof za&&(e=e._),o="string"==typeof e||e instanceof Sy?uv(this.wd,"WriteBatch.update",s.S_,e,n,r):sv(this.wd,"WriteBatch.update",s.S_,e),this.fd.push(o.O_(s.S_,Hl.exists(!0))),this},t.prototype.delete=function(t){this.Ed();var e=gm(t,this.zf);return this.fd=this.fd.concat(new ih(e.S_,Hl.jt())),this},t.prototype.commit=function(){return this.Ed(),this.dd=!0,this.fd.length>0?this._d(this.fd):Promise.resolve()},t.prototype.Ed=function(){if(this.dd)throw new qa(Fa.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function gm(t,e){if(t instanceof za&&(t=t._),t.firestore!==e)throw new qa(Fa.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var ym=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).zf=e,r}return Object(Ia.c)(e,t),e.prototype.get=function(e){var n=this,r=gm(e,this.zf),i=new cm(this.zf);return t.prototype.get.call(this,e).then((function(t){return new im(n.zf,i,r.S_,t.Jf,new rm(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.zf=t,this.Td=e,this.wd=Yy(t)}return t.prototype.get=function(t){var e=this,n=gm(t,this.zf),r=new nm(this.zf);return this.Td.ef([n.S_]).then((function(t){if(!t||1!==t.length)return ka();var i=t[0];if(i instanceof Uc)return new Uv(e.zf,r,n.S_,null,n.v_);if(i instanceof Mc)return new Uv(e.zf,r,i.key,i,n.v_);throw ka()}))},t.prototype.set=function(t,e,n){var r=gm(t,this.zf),i=em(r.v_,e,n),o=Xy(this.wd,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Td.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,s=gm(t,this.zf);return e instanceof za&&(e=e._),o="string"==typeof e||e instanceof Sy?uv(this.wd,"Transaction.update",s.S_,e,n,r):sv(this.wd,"Transaction.update",s.S_,e),this.Td.update(s.S_,o),this},t.prototype.delete=function(t){var e=gm(t,this.zf);return this.Td.delete(e.S_),this},t}()),vm=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Lv(t=Py(t,Pv));var n=Dv(t),r=t.p_(),i=new Ey;return Vv(n,i,new _y(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Lv(t=Py(t,Pv));var e=Dv(t),n=t.p_(),r=new Ey;return Vv(e,r,new Oy(r,n.cacheSizeBytes))}(t._)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new qa(Fa.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new yf;return t.Mf.Tf((function(){return Object(Ia.b)(e,void 0,void 0,(function(){var e;return Object(Ia.d)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(Ia.b)(this,void 0,void 0,(function(){return Object(Ia.d)(this,(function(e){switch(e.label){case 0:return bf.jn()?[4,bf.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}}))}))}(tp(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._)},t}(),mm=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Id=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof Wa||(i.md=e),i}return Object(Ia.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this._.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this._.V_()),t)).merge,this._.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=Py(t,Ly)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&ja("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this._,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(Ia.b)(e,void 0,void 0,(function(){var e,n;return Object(Ia.d)(this,(function(r){switch(r.label){case 0:return[4,Sv(t)];case 1:return e=r.sent(),[4,Tv(t)];case 2:return n=r.sent(),[2,(e.Vo(!0),function(t){var e=Pa(t);return e.Oh.delete(0),ng(e)}(n))]}}))}))}))}(Dv(Py(this._,Pv)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t.fs.enqueue((function(){return Object(Ia.b)(e,void 0,void 0,(function(){var e,n;return Object(Ia.d)(this,(function(r){switch(r.label){case 0:return[4,Sv(t)];case 1:return e=r.sent(),[4,Tv(t)];case 2:return n=r.sent(),[2,(e.Vo(!1),function(t){return Object(Ia.b)(this,void 0,void 0,(function(){var e;return Object(Ia.d)(this,(function(n){switch(n.label){case 0:return(e=Pa(t)).Oh.add(0),[4,rg(e)];case 1:return n.sent(),e.Mh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(Dv(Py(this._,Pv)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&jy("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Id.enableMultiTabIndexedDbPersistence(this):this.Id.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Id.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.app._removeServiceInstance("firestore-exp"),this._._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new yf;return t.fs.ys((function(){return Object(Ia.b)(e,void 0,void 0,(function(){var e;return Object(Ia.d)(this,(function(r){switch(r.label){case 0:return e=Yg,[4,xv(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(Dv(Py(this._,Pv)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new Iy(e);return t.fs.ys((function(){return Object(Ia.b)(n,void 0,void 0,(function(){var e;return Object(Ia.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Pa(t).Wh.add(e),e.next()},[4,jv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.r_(),t.fs.ys((function(){return Object(Ia.b)(n,void 0,void 0,(function(){var e;return Object(Ia.d)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Pa(t).Wh.delete(e)},[4,jv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(Dv(t=Py(t,Pv)),tm(e)?e:{next:e})}(this._,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.md)throw new qa(Fa.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.md},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new km(this,qy(this._,t))}catch(t){throw Em(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new Om(this,Hy(this._,t))}catch(t){throw Em(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new xm(this,function(t,e){if(t=Py(t,Ly),Ty("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new qa(Fa.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Uy(t,null,function(t){return new ul(oc.at(),t)}(e))}(this._,t))}catch(t){throw Em(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new yf;return t.fs.ys((function(){return Object(Ia.b)(n,void 0,void 0,(function(){var n;return Object(Ia.d)(this,(function(i){switch(i.label){case 0:return[4,function(t){return Iv(t).then((function(t){return t.Dh}))}(t)];case 1:return n=i.sent(),new bv(t.fs,n,e,r).run(),[2]}}))}))})),r.promise}(Dv(t),(function(n){return e(new ym(t,n))}))}(this._,(function(n){return t(new wm(e,n))}))},e.prototype.batch=function(){var t=this;return Dv(this._),new _m(new pm(this._,(function(e){return fm(t._,e)})))},e.prototype.loadBundle=function(t){throw new qa(Fa.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new qa(Fa.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(za),bm=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(Ia.c)(e,t),e.prototype.Uf=function(t){return new $a(new Ha(t))},e.prototype.Qf=function(t){var e=this.Gf(t,this.firestore.I_);return Om.Ad(e,this.firestore,null)},e}(Mv),wm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r.Hf=new bm(e),r}return Object(Ia.c)(e,t),e.prototype.get=function(t){var e=this,n=Nm(t);return this._.get(n).then((function(t){return new Cm(e.zf,new im(e.zf._,e.Hf,t.S_,t.Jf,t.metadata,n.v_))}))},e.prototype.set=function(t,e,n){var r=Nm(t);return n?(xy("Transaction.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Nm(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(Ia.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Nm(t);return this._.delete(e),this},e}(za),_m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ia.c)(e,t),e.prototype.set=function(t,e,n){var r=Nm(t);return n?(xy("WriteBatch.set",n),this._.set(r,e,n)):this._.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Nm(t);return 2===arguments.length?this._.update(s,e):(r=this._).update.apply(r,Object(Ia.g)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Nm(t);return this._.delete(e),this},e.prototype.commit=function(){return this._.commit()},e}(za),Om=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new bm(e),r}return Object(Ia.c)(e,t),e.Rd=function(t,n,r){if(t.length%2!=0)throw new qa(Fa.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.ot()+" has "+t.length);return new e(n,new My(n._,r,new ac(t)))},e.Ad=function(t,n,r){return new e(n,new My(n._,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new km(this.firestore,this._.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new km(this.firestore,qy(this._,t))}catch(t){throw Em(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof za&&(t=t._),t instanceof My&&zy(this._,t)},e.prototype.set=function(t,e){e=xy("DocumentReference.set",e);try{return function(t,e,n){t=Py(t,My);var r=Py(t.firestore,Pv),i=em(t.v_,e,n);return fm(r,[Xy(Yy(r),"setDoc",t.S_,i,null!==t.v_,n).O_(t.S_,Hl.jt())])}(this._,t,e)}catch(t){throw Em(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?lm(this._,t):lm.apply(void 0,Object(Ia.g)([this._,t,e],n))}catch(t){throw Em(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return fm(Py((t=this._).firestore,Pv),[new ih(t.S_,Hl.jt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Im(e),i=Sm(e,(function(e){return new Cm(t.firestore,new im(t.firestore._,t.Hf,e.S_,e.Jf,e.metadata,t._.v_))}));return hm(this._,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Py(t,My);var e=Py(t.firestore,Pv),n=Dv(e),r=new cm(e);return function(t,e){var n=this,r=new yf;return t.fs.ys((function(){return Object(Ia.b)(n,void 0,void 0,(function(){var n;return Object(Ia.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ia.b)(this,void 0,void 0,(function(){var r,i;return Object(Ia.d)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=Pa(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Ic.Jo(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof Mc?n.resolve(i):i instanceof Uc?n.resolve(null):n.reject(new qa(Fa.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=xf(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,Cv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new im(e,r,t.S_,n,new rm(n instanceof Mc&&n.bt,!0),t.v_)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Py(t,My);var e=Py(t.firestore,Pv);return Av(Dv(e),t.S_,{source:"server"}).then((function(n){return dm(e,t,n)}))}(this._):function(t){t=Py(t,My);var e=Py(t.firestore,Pv);return Av(Dv(e),t.S_).then((function(n){return dm(e,t,n)}))}(this._)).then((function(t){return new Cm(e.firestore,new im(e.firestore._,e.Hf,t.S_,t.Jf,t.metadata,e._.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(za);function Em(t,e,n){return t.message=t.message.replace(e,n),t}function Im(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!tm(r))return r}return{}}function Sm(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=tm(t[0])?t[0]:tm(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Cm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Ia.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new Om(this.zf,this._.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this._.data(t)},e.prototype.get=function(t,e){return this._.get(t,e)},e.prototype.isEqual=function(t){return am(this._,t._)},e}(za),Tm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ia.c)(e,t),e.prototype.data=function(t){return this._.data(t)},e}(Cm),xm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Hf=new bm(e),r}return Object(Ia.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Bv(this._,function(t,e,n){var r=e,i=qv("where",t);return new Gv(i,r,n)}(t,n,r)))}catch(t){throw Em(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Bv(this._,function(t,e){void 0===e&&(e="asc");var n=e,r=qv("orderBy",t);return new $v(r,n)}(t,n)))}catch(t){throw Em(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Bv(this._,function(t){return Dy("limit",t),new Kv("limit",t,"F")}(t)))}catch(t){throw Em(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Bv(this._,function(t){return Dy("limitToLast",t),new Kv("limitToLast",t,"L")}(t)))}catch(t){throw Em(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Bv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wv("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw Em(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Bv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Wv("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw Em(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Bv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jv("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw Em(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Bv(this._,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jv("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw Em(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return By(this._,t._)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=Py(t,Uy);var e=Py(t.firestore,Pv),n=Dv(e),r=new cm(e);return function(t,e){var n=this,r=new yf;return t.fs.ys((function(){return Object(Ia.b)(n,void 0,void 0,(function(){var n;return Object(Ia.d)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(Ia.b)(this,void 0,void 0,(function(){var r,i,o,s,u;return Object(Ia.d)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,gp(t,e,!0)];case 1:return u=a.sent(),r=new Ug(e,u.Pc),i=r.dl(u.documents),o=r.Ei(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=xf(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,Cv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new sm(e,r,t,n)}))}(this._):"server"===(null==t?void 0:t.source)?function(t){t=Py(t,Uy);var e=Py(t.firestore,Pv),n=Dv(e),r=new cm(e);return kv(n,t.C_,{source:"server"}).then((function(n){return new sm(e,r,t,n)}))}(this._):function(t){t=Py(t,Uy);var e=Py(t.firestore,Pv),n=Dv(e),r=new cm(e);return Hv(t.C_),kv(n,t.C_).then((function(n){return new sm(e,r,t,n)}))}(this._)).then((function(t){return new Am(e.firestore,new sm(e.firestore._,e.Hf,e._,t.ud))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Im(e),i=Sm(e,(function(e){return new Am(t.firestore,new sm(t.firestore._,t.Hf,t._,e.ud))}));return hm(this._,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(za),jm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Ia.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Tm(this.zf,this._.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._.newIndex},enumerable:!1,configurable:!0}),e}(za),Am=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).zf=e,r}return Object(Ia.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new xm(this.zf,this._.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this._.docs.map((function(e){return new Tm(t.zf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this._.docChanges(t).map((function(t){return new jm(e.zf,t)}))},e.prototype.forEach=function(t,e){var n=this;this._.forEach((function(r){t.call(e,new Tm(n.zf,r))}))},e.prototype.isEqual=function(t){return am(this._,t._)},e}(za),km=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._=n,r}return Object(Ia.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._.parent;return t?new Om(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new Om(this.firestore,void 0===t?Hy(this._):Hy(this._,t))}catch(t){throw Em(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=Py(t.firestore,Pv),r=Hy(t),i=em(t.v_,e);return fm(n,[Xy(Yy(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).O_(r.S_,Hl.exists(!1))]).then((function(){return r}))}(this._,t).then((function(t){return new Om(e.firestore,t)}))},e.prototype.isEqual=function(t){return zy(this._,t._)},e.prototype.withConverter=function(t){return new e(this.firestore,this._.withConverter(t))},e}(xm);function Nm(t){return t instanceof za&&(t=t._),Py(t,My)}var Pm=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(Sy.bind.apply(Sy,Object(Ia.g)([void 0],e))))||this}return Object(Ia.c)(e,t),e.documentId=function(){return new e(uc.lt().ot())},e.prototype.isEqual=function(t){return t instanceof za&&(t=t._),t instanceof Sy&&this._.d_.isEqual(t.d_)},e}(za),Dm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(Ia.c)(e,t),e.serverTimestamp=function(){var t=new nv("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new tv("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new rv("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new iv("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new ov("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this._.isEqual(t._)},e}(za);!function(){function t(){this.Pd={},this.yd=new yf,this.gd={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Pd={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.yd.promise.catch(t)},t.prototype.then=function(t,e){return this.yd.promise.then(t,e)},t.prototype.Ul=function(t){this.Ql(t),this.Pd.complete&&this.Pd.complete(),this.yd.resolve(t)},t.prototype.jl=function(t){this.gd.taskState="Error",this.Pd.next&&this.Pd.next(this.gd),this.Pd.error&&this.Pd.error(t),this.yd.reject(t)},t.prototype.Ql=function(t){this.gd=t,this.Pd.next&&this.Pd.next(t)}}();var Rm,Vm=n("/6Yf"),Lm={Firestore:mm,GeoPoint:Gy,Timestamp:nc,Blob:$a,Transaction:wm,WriteBatch:_m,DocumentReference:Om,DocumentSnapshot:Cm,Query:xm,QueryDocumentSnapshot:Tm,QuerySnapshot:Am,CollectionReference:km,FieldPath:Pm,FieldValue:Dm,setLogLevel:function(t){Sa.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new Vm.a("firestore",(function(t){return function(t,e){return new mm(t,new Pv(t,e),new vm)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Lm)))})(Rm=_i.a),Rm.registerVersion("@firebase/firestore","2.1.2");var Mm=n("VRyK"),Um=n("qgXg"),Fm=n("Ylt2");class qm extends _t.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new Hm(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Ot.a;if(this.isStopped||this.hasError?o=Oe.a.EMPTY:(this.observers.push(t),o=new Fm.a(this,t)),r&&t.add(t=new bi.a(t,r)),e)for(let s=0;s<i&&!t.closed;s++)t.next(n[s]);else for(let s=0;s<i&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),o}_getNow(){return(this.scheduler||Um.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r}}class Hm{constructor(t,e){this.time=t,this.value=e}}function zm(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,u=!1,a=!1;return function(c){let l;s++,!i||u?(u=!1,i=new qm(t,e,r),l=i.subscribe(this),o=c.subscribe({next(t){i.next(t)},error(t){u=!0,i.error(t)},complete(){a=!0,o=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{s--,l.unsubscribe(),o&&!a&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}function Bm(t,e){return e?ie(()=>t,e):ie(()=>t)}var Gm=n("tf+s");const $m=new r.q("angularfire2.auth.use-emulator"),Km=new r.q("angularfire2.auth.settings"),Wm=new r.q("angularfire2.auth.tenant-id"),Jm=new r.q("angularfire2.auth.langugage-code"),Zm=new r.q("angularfire2.auth.use-device-language"),Qm=new r.q("angularfire.auth.persistence");let Ym=(()=>{class t{constructor(t,e,r,i,o,s,u,a,c,l){const h=new wi.e(i),f=Object(wi.i)(h),d=new _t.a,p=Object(bt.a)(void 0).pipe(Object(bi.b)(h.outsideAngular),ie(()=>i.runOutsideAngular(()=>n.e(5).then(n.bind(null,"6nsN")))),Object(Ut.a)(()=>Object(wi.h)(t,i,e)),Object(Ut.a)(t=>i.runOutsideAngular(()=>{const e=o,n=s;return Object(wi.g)(t.name+".auth","AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator("http://"+e.join(":")),u&&(r.tenantId=u),r.languageCode=a,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,u,a,c,n,l])})),zm({bufferSize:1,refCount:!1}));if(M(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(bt.a)(null);else{p.pipe(we()).subscribe();const t=p.pipe(ie(t=>t.getRedirectResult().then(t=>t,()=>null)),f,zm({bufferSize:1,refCount:!1})),e=t=>new At.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe(ie(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe(ie(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(Bm(n),Object(Gm.a)(h.outsideAngular),Object(bi.b)(h.insideAngular)),this.user=t.pipe(Bm(r),Object(Gm.a)(h.outsideAngular),Object(bi.b)(h.insideAngular)),this.idToken=this.user.pipe(ie(t=>t?Object(wt.a)(t.getIdToken()):Object(bt.a)(null))),this.idTokenResult=this.user.pipe(ie(t=>t?Object(wt.a)(t.getIdTokenResult()):Object(bt.a)(null))),this.credential=Object(Mm.a)(t,d,this.authState.pipe(Ht(t=>!t))).pipe(Object(Ut.a)(t=>(null==t?void 0:t.user)?t:null),Object(Gm.a)(h.outsideAngular),Object(bi.b)(h.insideAngular))}return Object(wi.j)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(wi.c),r.Pb(wi.b,8),r.Pb(r.B),r.Pb(r.z),r.Pb($m,8),r.Pb(Km,8),r.Pb(Wm,8),r.Pb(Jm,8),r.Pb(Zm,8),r.Pb(Qm,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(wi.c),Object(r.Pb)(wi.b,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)($m,8),Object(r.Pb)(Km,8),Object(r.Pb)(Wm,8),Object(r.Pb)(Jm,8),Object(r.Pb)(Zm,8),Object(r.Pb)(Qm,8))},token:t,providedIn:"any"}),t})(),Xm=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Ym]}),t})();function tb(t,e){return function(t,e=fi.a){return new At.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function eb(t,e){return tb(t,e).pipe(Object(Ut.a)(t=>({payload:t,type:"query"})))}function nb(t,e){return eb(t,e).pipe(he(void 0),di(),Object(Ut.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const o=n.find(t=>t.doc.ref.isEqual(e.ref)),s=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(e.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function rb(t,e,n){return nb(t,n).pipe(fe((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return ib(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return ib(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ib(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),yi(),Object(Ut.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function ib(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function ob(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}class sb{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=nb(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Ut.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(he(void 0),di(),Ht(([t,e])=>e.length>0||!t),Object(Ut.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(fe((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ob(t);return rb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return eb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ut.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(wt.a)(this.query.get(t)).pipe(Object(bi.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new ub(this.ref.doc(t),this.afs)}}class ub{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=db(n,e);return new sb(r,i,this.afs)}snapshotChanges(){return tb(this.ref,this.afs.schedulers.outsideAngular).pipe(he(void 0),di(),Object(Ut.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Ut.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(wt.a)(this.ref.get(t)).pipe(Object(bi.b)(this.afs.schedulers.insideAngular))}}class ab{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?nb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ut.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),Ht(t=>t.length>0),this.afs.keepUnstableUntilFirst):nb(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(fe((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=ob(t);return rb(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return eb(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Ut.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(wt.a)(this.query.get(t)).pipe(Object(bi.b)(this.afs.schedulers.insideAngular))}}const cb=new r.q("angularfire2.enableFirestorePersistence"),lb=new r.q("angularfire2.firestore.persistenceSettings"),hb=new r.q("angularfire2.firestore.settings"),fb=new r.q("angularfire2.firestore.use-emulator");function db(t,e=(t=>t)){return{query:e(t),ref:t}}let pb=(()=>{class t{constructor(t,e,n,r,i,o,s,u,a){this.schedulers=new wi.e(o),this.keepUnstableUntilFirst=Object(wi.i)(this.schedulers);const c=Object(wi.h)(t,o,e);!hi.a.auth&&a&&Object(wi.k)();const l=u;[this.firestore,this.persistenceEnabled$]=Object(wi.g)(c.name+".firestore","AngularFirestore",c,()=>{const t=o.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!M(i)){const e=()=>{try{return Object(wt.a)(t.enablePersistence(s||void 0).then(()=>!0,()=>!1))}catch(Rm){return"undefined"!=typeof console&&console.warn(Rm),Object(bt.a)(!1)}};return[t,o.runOutsideAngular(e)]}return[t,Object(bt.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=db(n,e),o=this.schedulers.ngZone.run(()=>r);return new sb(o,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new ab(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new ub(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(wi.c),r.Pb(wi.b,8),r.Pb(cb,8),r.Pb(hb,8),r.Pb(r.B),r.Pb(r.z),r.Pb(lb,8),r.Pb(fb,8),r.Pb($m,8))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(wi.c),Object(r.Pb)(wi.b,8),Object(r.Pb)(cb,8),Object(r.Pb)(hb,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z),Object(r.Pb)(lb,8),Object(r.Pb)(fb,8),Object(r.Pb)($m,8))},token:t,providedIn:"any"}),t})(),gb=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:cb,useValue:!0},{provide:lb,useValue:e}]}}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[pb]}),t})(),yb=(()=>{class t{constructor(t,e){this.afs=t,this.auth=e,this.chats=[],this.usuario={},this.auth.authState.subscribe(t=>{console.log("Estado del usuario: ",t),t&&(this.usuario.nombre=t.displayName,this.usuario.uid=t.uid)})}cargarMensaje(){return this.itemsCollection=this.afs.collection("chats",t=>t.orderBy("fecha","desc").limit(10)),this.itemsCollection.valueChanges().pipe(Object(Ut.a)(t=>{console.log(t),this.chats=[];for(let e of t)this.chats.unshift(e);return this.chats}))}agregarMensaje(t){let e={nombre:this.usuario.nombre,mensaje:t,fecha:(new Date).getTime(),uid:this.usuario.uid};return this.itemsCollection.add(e)}login(){this.auth.signInWithPopup(new hi.a.auth.GoogleAuthProvider)}logout(){this.usuario={},this.auth.signOut()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(pb),r.Pb(Ym))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),vb=(()=>{class t{constructor(t){this.chatService=t}ngOnInit(){}ingresar(){console.log("Google"),this.chatService.login(),sessionStorage.setItem("uid",this.chatService.usuario.uid)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(yb))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-login"]],decls:6,vars:0,consts:[[1,"row"],[1,"col-md-12","text-center"],["type","button",1,"btn","btn-outline-primary",3,"click"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"div",1),r.Lb(2,"p"),r.dc(3,"Ingrese al chat con su cuente de google"),r.Kb(),r.Lb(4,"button",2),r.Sb("click",(function(){return e.ingresar()})),r.dc(5,"Google"),r.Kb(),r.Kb(),r.Kb())},styles:[""]}),t})();var mb=n("XoHu");function bb(t,e){return new At.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let u=0;u<r;u++){const a=Object(wt.a)(t[u]);let c=!1;n.add(a.subscribe({next:t=>{c||(c=!0,s++),i[u]=t},error:t=>n.error(t),complete:()=>{o++,o!==r&&c||(s===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const wb=new r.q("NgValueAccessor"),_b={provide:wb,useExisting:Object(r.T)(()=>Ob),multi:!0};let Ob=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([_b])]}),t})();const Eb={provide:wb,useExisting:Object(r.T)(()=>Sb),multi:!0},Ib=new r.q("CompositionEventMode");let Sb=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(Ib,8))},t.\u0275dir=r.Db({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Sb("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[r.xb([Eb])]}),t})(),Cb=(()=>{class t{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Db({type:t}),t})(),Tb=(()=>{class t extends Cb{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return xb(e||t)},t.\u0275dir=r.Db({type:t,features:[r.vb]}),t})();const xb=r.Nb(Tb);class jb extends Cb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){}get asyncValidator(){}}let Ab=(()=>{class t extends class{constructor(t){this._cd=t}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(jb,2))},t.\u0275dir=r.Db({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Ab("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[r.vb]}),t})();function kb(t){return null==t||0===t.length}function Nb(t){return null!=t&&"number"==typeof t.length}const Pb=new r.q("NgValidators"),Db=new r.q("NgAsyncValidators"),Rb=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Vb{static min(t){return e=>{if(kb(e.value)||kb(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(kb(e.value)||kb(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return kb(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return kb(t.value)||Rb.test(t.value)?null:{email:!0}}static minLength(t){return e=>kb(e.value)||!Nb(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Nb(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Vb.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(kb(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Lb);return 0==e.length?null:function(t){return Ub(Fb(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Lb);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(St.a)(e))return bb(e,null);if(Object(mb.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return bb(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return bb(t=1===t.length&&Object(St.a)(t[0])?t[0]:t,null).pipe(Object(Ut.a)(t=>e(...t)))}return bb(t,null)}(Fb(t,e).map(Mb)).pipe(Object(Ut.a)(Ub))}}}function Lb(t){return null!=t}function Mb(t){const e=Object(r.qb)(t)?Object(wt.a)(t):t;return Object(r.pb)(e),e}function Ub(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Fb(t,e){return e.map(e=>e(t))}function qb(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}const Hb={provide:wb,useExisting:Object(r.T)(()=>zb),multi:!0};let zb=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([Hb])]}),t})();const Bb={provide:wb,useExisting:Object(r.T)(()=>$b),multi:!0};let Gb=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),$b=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(jb),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l),r.Ib(Gb),r.Ib(r.r))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.xb([Bb])]}),t})();const Kb={provide:wb,useExisting:Object(r.T)(()=>Wb),multi:!0};let Wb=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[r.xb([Kb])]}),t})();const Jb={provide:wb,useExisting:Object(r.T)(()=>Zb),multi:!0};let Zb=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.xb([Jb])]}),t})();const Qb={provide:wb,useExisting:Object(r.T)(()=>Yb),multi:!0};let Yb=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(r.D),r.Ib(r.l))},t.\u0275dir=r.Db({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Sb("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[r.xb([Qb])]}),t})();function Xb(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function tw(t){return null!=t?Vb.compose(qb(t)):null}function ew(t){return null!=t?Vb.composeAsync(qb(t)):null}const nw=[Ob,Wb,zb,Zb,Yb,$b],rw="VALID",iw="INVALID",ow="PENDING",sw="DISABLED";function uw(t){return(hw(t)?t.validators:t)||null}function aw(t){return Array.isArray(t)?tw(t):t||null}function cw(t,e){return(hw(e)?e.asyncValidators:t)||null}function lw(t){return Array.isArray(t)?ew(t):t||null}function hw(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class fw{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=aw(this._rawValidators),this._composedAsyncValidatorFn=lw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===rw}get invalid(){return this.status===iw}get pending(){return this.status==ow}get disabled(){return this.status===sw}get enabled(){return this.status!==sw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=aw(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=lw(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ow,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=sw,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=rw,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==rw&&this.status!==ow||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sw:rw}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ow,this._hasOwnPendingAsyncValidator=!0;const e=Mb(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof pw?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof gw&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?sw:this.errors?iw:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ow)?ow:this._anyControlsHaveStatus(iw)?iw:rw}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){hw(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class dw extends fw{constructor(t=null,e,n){super(uw(e),cw(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class pw extends fw{constructor(t,e,n){super(uw(e),cw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof dw?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>t(this.controls[e],e))}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class gw extends fw{constructor(t,e,n){super(uw(e),cw(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof dw?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const yw={provide:jb,useExisting:Object(r.T)(()=>mw)},vw=(()=>Promise.resolve(null))();let mw=(()=>{class t extends jb{constructor(t,e,n,i){super(),this.control=new dw,this._registered=!1,this.update=new r.n,this._parent=t,this._rawValidators=e||[],this._rawAsyncValidators=n||[],this.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e);let n=void 0,r=void 0,i=void 0;return e.forEach(t=>{var e;t.constructor===Sb?n=t:(e=t,nw.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}ngOnChanges(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(t,e){return[...e.path,t]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return tw(this._rawValidators)}get asyncValidator(){return ew(this._rawAsyncValidators)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){var t,e;(t=this.control).validator=Vb.compose([t.validator,(e=this).validator]),t.asyncValidator=Vb.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Xb(t,e)})}(t,e),function(t,e){t.registerOnChange((t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Xb(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange(t=>{e.valueAccessor.setDisabledState(t)}),e._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),e._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(()=>t.updateValueAndValidity())}),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){vw.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1})})}_updateDisabled(t){const e=t.isDisabled.currentValue,n=""===e||e&&"false"!==e;vw.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(Tb,9),r.Ib(Pb,10),r.Ib(Db,10),r.Ib(wb,10))},t.\u0275dir=r.Db({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r.xb([yw]),r.vb,r.wb]}),t})(),bw=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)}}),t})(),ww=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[Gb],imports:[bw]}),t})();const _w=function(t){return{"text-right":t}},Ow=function(t,e){return{"badge-primary":t,"badge-success":e}};function Ew(t,e){if(1&t&&(r.Lb(0,"div",3),r.Lb(1,"span",4),r.dc(2),r.Kb(),r.Lb(3,"p"),r.dc(4),r.Kb(),r.Kb()),2&t){const t=e.$implicit,n=r.Ub();r.Vb("ngClass",r.Wb(4,_w,n.chatService.usuario.uid==t.uid)),r.yb(1),r.Vb("ngClass",r.Xb(6,Ow,n.chatService.usuario.uid==t.uid,n.chatService.usuario.uid!=t.uid)),r.yb(1),r.ec(t.nombre),r.yb(2),r.ec(t.mensaje)}}let Iw=(()=>{class t{constructor(t){this.chatService=t,this.chatService.cargarMensaje().subscribe(()=>{setTimeout(()=>{},20),this.elemento.scrollTop=this.elemento.scrollHeight})}ngOnInit(){this.elemento=document.getElementById("app-mensajes")}enviarMensaje(){console.log(this.mensaje),0!==this.mensaje.length&&this.chatService.agregarMensaje(this.mensaje).then(()=>{this.mensaje=""}).catch(()=>{console.log("Error al enviar mensaje")})}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(yb))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-chat"]],decls:6,vars:2,consts:[["id","app-mensajes",1,"app-mensajes"],[3,"ngClass",4,"ngFor","ngForOf"],["type","text","name","mansaje","placeholder","Enviar Mensaje",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],[3,"ngClass"],[1,"badge",3,"ngClass"]],template:function(t,e){1&t&&(r.Lb(0,"h1"),r.dc(1,"Chat"),r.Kb(),r.Jb(2,"hr"),r.Lb(3,"div",0),r.cc(4,Ew,5,9,"div",1),r.Kb(),r.Lb(5,"input",2),r.Sb("ngModelChange",(function(t){return e.mensaje=t}))("keyup.enter",(function(){return e.enviarMensaje()})),r.Kb()),2&t&&(r.yb(4),r.Vb("ngForOf",e.chatService.chats),r.yb(1),r.Vb("ngModel",e.mensaje))},directives:[k,Sb,Ab,mw,j],styles:[""]}),t})();function Sw(t,e){if(1&t){const t=r.Mb();r.Lb(0,"div",4),r.Lb(1,"button",5),r.Sb("click",(function(){return r.Zb(t),r.Ub().chatService.logout()})),r.dc(2,"Salir"),r.Kb(),r.Kb()}}function Cw(t,e){1&t&&r.Jb(0,"app-login")}function Tw(t,e){1&t&&(r.Lb(0,"div",6),r.Jb(1,"app-chat"),r.Kb())}let xw=(()=>{class t{constructor(t){this.chatService=t}}return t.\u0275fac=function(e){return new(e||t)(r.Ib(yb))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-root"]],decls:6,vars:3,consts:[[1,"container","main-container"],["class","col-md-12 text-right",4,"ngIf"],[4,"ngIf"],["class","chat-window",4,"ngIf"],[1,"col-md-12","text-right"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"chat-window"]],template:function(t,e){1&t&&(r.Lb(0,"div",0),r.Lb(1,"h1"),r.dc(2,"FireChat"),r.Kb(),r.cc(3,Sw,3,0,"div",1),r.cc(4,Cw,1,0,"app-login",2),r.cc(5,Tw,2,0,"div",3),r.Kb()),2&t&&(r.yb(3),r.Vb("ngIf",e.chatService.usuario.uid),r.yb(1),r.Vb("ngIf",!e.chatService.usuario.uid),r.yb(1),r.Vb("ngIf",e.chatService.usuario.uid))},directives:[P,vb,Iw],styles:[""]}),t})();function jw(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{a(r.next(t))}catch(Rm){o(Rm)}}function u(t){try{a(r.throw(t))}catch(Rm){o(Rm)}}function a(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,u)}a((r=r.apply(t,e||[])).next())}))}class Aw{constructor(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}call(t,e){return e.subscribe(new kw(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))}}class kw extends Ct.a{constructor(t,e,n,r,i){super(t),this.keySelector=e,this.elementSelector=n,this.durationSelector=r,this.subjectSelector=i,this.groups=null,this.attemptedToUnsubscribe=!1,this.count=0}_next(t){let e;try{e=this.keySelector(t)}catch(n){return void this.error(n)}this._group(t,e)}_group(t,e){let n=this.groups;n||(n=this.groups=new Map);let r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(o){this.error(o)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new _t.a,n.set(e,i);const t=new Pw(e,i,this);if(this.destination.next(t),this.durationSelector){let t;try{t=this.durationSelector(new Pw(e,i))}catch(o){return void this.error(o)}this.add(t.subscribe(new Nw(e,i,this)))}}i.closed||i.next(r)}_error(t){const e=this.groups;e&&(e.forEach((e,n)=>{e.error(t)}),e.clear()),this.destination.error(t)}_complete(){const t=this.groups;t&&(t.forEach((t,e)=>{t.complete()}),t.clear()),this.destination.complete()}removeGroup(t){this.groups.delete(t)}unsubscribe(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&super.unsubscribe())}}class Nw extends Ct.a{constructor(t,e,n){super(e),this.key=t,this.group=e,this.parent=n}_next(t){this.complete()}_unsubscribe(){const{parent:t,key:e}=this;this.key=this.parent=null,t&&t.removeGroup(e)}}class Pw extends At.a{constructor(t,e,n){super(),this.key=t,this.groupSubject=e,this.refCountSubscription=n}_subscribe(t){const e=new Oe.a,{refCountSubscription:n,groupSubject:r}=this;return n&&!n.closed&&e.add(new Dw(n)),e.add(r.subscribe(t)),e}}class Dw extends Oe.a{constructor(t){super(),this.parent=t,t.count++}unsubscribe(){const t=this.parent;t.closed||this.closed||(super.unsubscribe(),t.count-=1,0===t.count&&t.attemptedToUnsubscribe&&t.unsubscribe())}}const Rw=new r.q("angularfire2.analytics.analyticsCollectionEnabled"),Vw=new r.q("angularfire2.analytics.appVersion"),Lw=new r.q("angularfire2.analytics.appName"),Mw=new r.q("angularfire2.analytics.debugMode"),Uw=new r.q("angularfire2.analytics.config");let Fw=(()=>{class t{constructor(t,e,r,i,o,s,u,a){if(this.analyticsInitialized=new Promise(()=>{}),L(u)){window.dataLayer=window.dataLayer||[];const t=(...t)=>"config"===t[0]&&"firebase"===t[2].origin&&(this.measurementId=t[1],!0),e=t=>{window.gtag=(...e)=>{t&&t(...e),"event"===e[0]&&e[2].send_to===this.measurementId&&(i&&(e[2].app_name=i),r&&(e[2].app_version=r)),o&&"undefined"!=typeof console&&console.info(...e),function(...t){window.dataLayer.push(arguments)}(...e)}};window.dataLayer.some(t)?(this.analyticsInitialized=Promise.resolve(),e()):this.analyticsInitialized=new Promise(n=>{e((...e)=>{t(...e)&&n()})}),s&&this.updateConfig(s),o&&this.updateConfig({debug_mode:1})}else this.analyticsInitialized=Promise.resolve();const c=Object(bt.a)(void 0).pipe(Object(bi.b)(new wi.e(a).outsideAngular),ie(()=>L(u)?a.runOutsideAngular(()=>n.e(4).then(n.bind(null,"AAub"))):Lt.a),Object(Ut.a)(()=>Object(wi.g)("analytics","AngularFireAnalytics",t,()=>{const n=t.analytics();return!1===e&&n.setAnalyticsCollectionEnabled(!1),n},[t,e,s,o])),zm({bufferSize:1,refCount:!1}));return Object(wi.j)(this,c,a)}updateConfig(t){return jw(this,void 0,void 0,(function*(){yield this.analyticsInitialized,window.gtag("config",this.measurementId,Object.assign(Object.assign({},t),{update:!0}))}))}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(wi.d),r.Pb(Rw,8),r.Pb(Vw,8),r.Pb(Lw,8),r.Pb(Mw,8),r.Pb(Uw,8),r.Pb(r.B),r.Pb(r.z))},t.\u0275prov=Object(r.Eb)({factory:function(){return new t(Object(r.Pb)(wi.d),Object(r.Pb)(Rw,8),Object(r.Pb)(Vw,8),Object(r.Pb)(Lw,8),Object(r.Pb)(Mw,8),Object(r.Pb)(Uw,8),Object(r.Pb)(r.B),Object(r.Pb)(r.z))},token:t,providedIn:"any"}),t})(),qw=(()=>{class t{constructor(t,e,n,r){if(this.disposables=[],M(e))this.initialized=Promise.resolve();else{let e;this.initialized=r.runOutsideAngular(()=>new Promise(t=>e=t)),this.disposables=[n.authState.subscribe(n=>{t.setUserId(null==n?void 0:n.uid),e()}),n.credential.subscribe(e=>{if(e){const n=e.user.isAnonymous?"anonymous":e.additionalUserInfo.providerId;e.additionalUserInfo.isNewUser&&t.logEvent("sign_up",{method:n}),t.logEvent("login",{method:n})}})]}}ngOnDestroy(){this.disposables.forEach(t=>t.unsubscribe())}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Fw),r.Pb(r.B),r.Pb(Ym),r.Pb(r.z))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})();const Hw="screen_class";let zw=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const Bw={},Gw=t=>{const e=[t.screen_class,t.outlet].join("#");if(Bw.hasOwnProperty(e))return Bw[e];{const t=zw++;return Bw[e]=t,t}};let $w=(()=>{class t{constructor(t,e,n,r,i,o,s){if(!e||!L(i))return this;o.runOutsideAngular(()=>{const i=e.events.pipe(Ht(t=>t instanceof Fe));var o;this.disposable=i.pipe(ie(t=>{var i;const o=(null===(i=e.parseUrl(e.url.replace(/(?:\().+(?:\))/g,t=>t.replace("://",":///"))).root.children[t.snapshot.outlet])||void 0===i?void 0:i.toString())||"",s=e.routerState.root.children.map(t=>t).find(e=>e.outlet===t.snapshot.outlet);if(!s)return Object(bt.a)(null);let u=s;for(;u.firstChild;)u=u.firstChild;const a=u.pathFromRoot.map(t=>{var e;return null===(e=t.routeConfig)||void 0===e?void 0:e.path}).filter(t=>t).join("/")||"/",c={screen_name:a,page_path:"/"+o,firebase_event_origin:"auto",firebase_screen:a,outlet:t.snapshot.outlet};n&&(c.page_title=n.getTitle());let l=s.component;if(l){if(l===Ar){let e=t.snapshot;for(;e.firstChild;)e=e.firstChild;l=e.component}}else l=t.snapshot.component;if("string"==typeof l)return Object(bt.a)(Object.assign(Object.assign({},c),{[Hw]:l}));if(l){const t=r.resolveComponentFactory(l);return Object(bt.a)(Object.assign(Object.assign({},c),{[Hw]:t.selector}))}return Object(bt.a)(null)}),Ht(t=>t),Object(Ut.a)(t=>Object.assign({firebase_screen_class:t.screen_class,firebase_screen_id:Gw(t)},t)),(o=t=>t.outlet,t=>t.lift(new Aw(o,void 0,void 0,void 0))),Object(me.a)(e=>e.pipe(yi((t,e)=>JSON.stringify(t)===JSON.stringify(e)),he(void 0),di(),Object(Ut.a)(([t,e])=>t?Object.assign({firebase_previous_class:t.screen_class,firebase_previous_screen:t.screen_name,firebase_previous_id:t.firebase_screen_id},e):e),ie(e=>jw(this,void 0,void 0,(function*(){return s&&(yield s.initialized),yield t.logEvent("screen_view",e)})))))).subscribe()})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Pb(Fw),r.Pb(zr,8),r.Pb(mt,8),r.Pb(r.j),r.Pb(r.B),r.Pb(r.z),r.Pb(qw,8))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac}),t})(),Kw=(()=>{class t{constructor(t,e,n){t.app.then(()=>{})}}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)(r.Pb(Fw),r.Pb($w,8),r.Pb(qw,8))},providers:[Fw]}),t})(),Ww=(()=>{class t{}return t.\u0275mod=r.Gb({type:t,bootstrap:[xw]}),t.\u0275inj=r.Fb({factory:function(e){return new(e||t)},providers:[],imports:[[yt,li,wi.a.initializeApp(i),Kw,gb,Xm,ww]]}),t})();Object(r.S)(),pt().bootstrapModule(Ww).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return a}));var r=n("7o/Q"),i=n("HDdC"),o=n("SeVD");class s extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class u extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function a(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(o.a)(t)(e)}}},[[0,0]]]);